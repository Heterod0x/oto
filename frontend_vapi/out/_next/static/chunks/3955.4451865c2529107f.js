(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3955],{2549:(e,t,r)=>{var n=r(72076),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},7593:(e,t,r)=>{"use strict";let n=r(34127).v4;e.exports=function(e,t,r,i){if("string"!=typeof e)throw TypeError(e+" must be a string");let o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw TypeError(o+" must be 1 or 2");let s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw TypeError(t+" must be an object, array or omitted");s.params=t}return void 0===r?s.id=("function"==typeof i.generator?i.generator:function(){return n()})(s,i):2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r,s}},9413:(e,t,r)=>{"use strict";function n([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}r.d(t,{g2:()=>E,eC:()=>b});var i=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){let{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(n).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function o(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function s({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:n},s){let a,f;"string"==typeof n?a=n:(a=Object.keys(n)[0],f=n[a]);let u=e+r.indexOf(a),l=t(u,a,f),c=new i(u,l);return o(c,s),c}function a(e){var t;let r;if("object"==typeof(t=e)&&null!==t&&"code"in t&&"message"in t&&("number"==typeof t.code||"bigint"==typeof t.code)&&"string"==typeof t.message){let{code:t,data:n,message:o}=e,a=Number(t);if(-32002===a){let{err:e,...t}=n,o=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let n=Number(t);return s({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:4615045===e?{encodedData:r,index:n}:{index:n},orderedErrorNames:null,rpcEnumError:r},e)}(...t.InstructionError):s({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:null,rpcEnumError:t},e)}(e)}:null;r=new i(-32002,{...t,...o})}else{let e;switch(a){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:o};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}r=new i(a,e)}}else{let t="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";r=new i(10,{error:e,message:t})}return o(r,a),r}var f=(e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r};function u(e){return Object.freeze({...e,encode:t=>{var r,n;let i=new Uint8Array((r=t,"fixedSize"in(n=e)?n.fixedSize:n.getSizeFromValue(r)));return e.write(t,i,0),i}})}function l(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function c(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function d(e,t,r){if(t<0||t>r)throw new SolanaError(SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:e,offset:t})}function h(e,t){return 0===t?0:(e%t+t)%t}function p(e,t,r,n){if(n<t||n>r)throw new i(8078011,{codecDescription:e,max:r,min:t,value:n})}var y=(e=>(e[e.Little=0]="Little",e[e.Big=1]="Big",e))(y||{});function m(e){return e?.endian!==1}function g(e){return u({fixedSize:e.size,write(t,r,n){e.range&&p(e.name,e.range[0],e.range[1],t);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,m(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function w(e){return l({fixedSize:e.size,read(t,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new i(8078e3,{codecDescription:e})}(e.name,t,r),function(e,t,r,n=0){let o=r.length-n;if(o<t)throw new i(8078001,{bytesLength:o,codecDescription:e,expected:t})}(e.name,e.size,t,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(t,r,e.size));return[e.get(n,m(e.config)),r+e.size]}})}var b=(e={})=>g({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),v=(e={})=>w({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),E=(e={})=>(function(e,t){if(c(e)!==c(t))throw new i(8078004);if(c(e)&&c(t)&&e.fixedSize!==t.fixedSize)throw new i(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!c(e)&&!c(t)&&e.maxSize!==t.maxSize)throw new i(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}})(b(e),v(e))},17476:(e,t,r)=>{"use strict";r.d(t,{ev:()=>v});var n=r(69523),i=r(75640),o=r(69214),s=r(58742),a=r(78368);let f=BigInt(0),u=BigInt(1),l=BigInt(2),c=BigInt(8),d={zip215:!0};BigInt(0);let h=BigInt(1),p=BigInt(2);BigInt(3);let y=BigInt(5),m=BigInt(8),g={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:m,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},w=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),b=(0,a.D0)(g.p,void 0,!0),v=function(e){let{CURVE:t,curveOpts:r,eddsaOpts:n}=function(e){let t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,a.D0)(t.n,e.nBitLength,!0),uvRatio:e.uvRatio};return{CURVE:t,curveOpts:r,eddsaOpts:{hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve}}}(e),h=function(e,t){(0,i.DS)(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:r,hash:n}=t,{BASE:s,Fp:a,Fn:u}=e,l=u.ORDER,c=t.randomBytes||o.po,h=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if((0,i.e8)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function y(e){var t;return t=(0,i.lX)(e),u.create(t)}function m(e){let{head:t,prefix:r,scalar:o}=function(e){let t=a.BYTES;e=(0,i.qj)("private key",e,t);let r=(0,i.qj)("hashed private key",n(e),2*t),o=h(r.slice(0,t)),s=r.slice(t,2*t),f=y(o);return{head:o,prefix:s,scalar:f}}(e),f=s.multiply(o),u=f.toBytes();return{head:t,prefix:r,scalar:o,point:f,pointBytes:u}}function g(e=Uint8Array.of(),...t){return y(n(p((0,o.Id)(...t),(0,i.qj)("context",e),!!r)))}return s.precompute(8),{getPublicKey:function(e){return m(e).pointBytes},sign:function(e,t,n={}){var c;e=(0,i.qj)("message",e),r&&(e=r(e));let{prefix:d,scalar:h,pointBytes:p}=m(t),y=g(n.context,d,e),w=s.multiply(y).toBytes(),b=(c=y+g(n.context,w,p,e)*h,u.create(c));(0,i.aK)("signature.s",b,f,l);let v=a.BYTES,E=(0,o.Id)(w,(0,i.z)(b,v));return(0,i.qj)("result",E,2*v)},verify:function(t,n,o,f=d){let u,l,c,{context:h,zip215:p}=f,y=a.BYTES;t=(0,i.qj)("signature",t,2*y),n=(0,i.qj)("message",n),o=(0,i.qj)("publicKey",o,y),void 0!==p&&(0,i.e8)("zip215",p),r&&(n=r(n));let m=(0,i.lX)(t.slice(y,2*y));try{u=e.fromHex(o,p),l=e.fromHex(t.slice(0,y),p),c=s.multiplyUnsafe(m)}catch(e){return!1}if(!p&&u.isSmallOrder())return!1;let w=g(h,l.toBytes(),u.toBytes(),n);return l.add(u.multiplyUnsafe(w)).subtract(c).clearCofactor().is0()},utils:{getExtendedPublicKey:m,randomPrivateKey:()=>c(a.BYTES),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e}}(function(e,t={}){let{Fp:r,Fn:n}=(0,s.UT)("edwards",e,t),{h:a,n:d}=e;(0,i.DS)(t,{},{uvRatio:"function"});let h=l<<BigInt(8*n.BYTES)-u,p=e=>r.create(e),y=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:f}}});if(!function(e,t,r,n){let i=e.sqr(r),o=e.sqr(n),s=e.add(e.mul(t.a,i),o),a=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(s,a)}(r,e,e.Gx,e.Gy))throw Error("bad curve params: generator point");function m(e,t,r=!1){let n=r?u:f;return(0,i.aK)("coordinate "+e,t,n,h),t}function g(e){if(!(e instanceof v))throw Error("ExtendedPoint expected")}let w=(0,i.x)((e,t)=>{let{ex:n,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?c:r.inv(o));let a=p(n*t),l=p(i*t),d=p(o*t);if(s)return{x:f,y:u};if(d!==u)throw Error("invZ was invalid");return{x:a,y:l}}),b=(0,i.x)(t=>{let{a:r,d:n}=e;if(t.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:s,et:a}=t,f=p(i*i),u=p(o*o),l=p(s*s),c=p(l*l),d=p(f*r);if(p(l*p(d+u))!==p(c+p(n*p(f*u))))throw Error("bad point: equation left != right (1)");if(p(i*o)!==p(s*a))throw Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,r,n){this.ex=m("x",e),this.ey=m("y",t),this.ez=m("z",r,!0),this.et=m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new v(t,r,u,p(t*r))}static normalizeZ(e){return(0,s.Ak)(v,"ez",e)}static msm(e,t){return(0,s.Xf)(v,n,e,t)}_setWindowSize(e){this.precompute(e)}precompute(e=8,t=!0){return E.setWindowSize(this,e),t||this.multiply(l),this}assertValidity(){b(this)}equals(e){g(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=p(t*s),f=p(i*n),u=p(r*s),l=p(o*n);return a===f&&u===l}is0(){return this.equals(v.ZERO)}negate(){return new v(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){let{a:t}=e,{ex:r,ey:n,ez:i}=this,o=p(r*r),s=p(n*n),a=p(l*p(i*i)),f=p(t*o),u=r+n,c=p(p(u*u)-o-s),d=f+s,h=d-a,y=f-s,m=p(c*h),g=p(d*y),w=p(c*y);return new v(m,g,p(h*d),w)}add(t){g(t);let{a:r,d:n}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:f,ey:u,ez:l,et:c}=t,d=p(i*f),h=p(o*u),y=p(a*n*c),m=p(s*l),w=p((i+o)*(f+u)-d-h),b=m-y,E=m+y,x=p(h-r*d),B=p(w*b),S=p(E*x),O=p(w*x);return new v(B,S,p(b*E),O)}subtract(e){return this.add(e.negate())}multiply(e){(0,i.aK)("scalar",e,u,d);let{p:t,f:r}=E.wNAFCached(this,e,v.normalizeZ);return v.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=v.ZERO){return((0,i.aK)("scalar",e,f,d),e===f)?v.ZERO:this.is0()||e===u?this:E.wNAFCachedUnsafe(this,e,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return E.wNAFCachedUnsafe(this,d).is0()}toAffine(e){return w(this,e)}clearCofactor(){return a===u?this:this.multiplyUnsafe(a)}static fromBytes(e,t=!1){return(0,o.DO)(e),this.fromHex(e,t)}static fromHex(t,n=!1){let{d:o,a:s}=e,a=r.BYTES;t=(0,i.qj)("pointHex",t,a),(0,i.e8)("zip215",n);let l=t.slice(),c=t[a-1];l[a-1]=-129&c;let d=(0,i.lX)(l),m=n?h:r.ORDER;(0,i.aK)("pointHex.y",d,f,m);let g=p(d*d),{isValid:w,value:b}=y(p(g-u),p(o*g-s));if(!w)throw Error("Point.fromHex: invalid y coordinate");let E=(b&u)===u,x=(128&c)!=0;if(!n&&b===f&&x)throw Error("Point.fromHex: x=0 and x_0=1");return x!==E&&(b=p(-b)),v.fromAffine({x:b,y:d})}static fromPrivateScalar(e){return v.BASE.multiply(e)}toBytes(){let{x:e,y:t}=this.toAffine(),n=(0,i.z)(t,r.BYTES);return n[n.length-1]|=e&u?128:0,n}toRawBytes(){return this.toBytes()}toHex(){return(0,o.My)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}v.BASE=new v(e.Gx,e.Gy,u,p(e.Gx*e.Gy)),v.ZERO=new v(f,u,u,f),v.Fp=r,v.Fn=n;let E=(0,s.hT)(v,8*n.BYTES);return v}(t,r),n);return Object.assign({},h,{ExtendedPoint:h.Point,CURVE:e})}({...g,Fp:b,hash:n.Zf,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=g.p,n=(0,a.zi)(t*t*t,r),i=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=g.p,s=e*e%o*e%o,f=(0,a.zH)(s,p,o)*s%o,u=(0,a.zH)(f,h,o)*e%o,l=(0,a.zH)(u,y,o)*u%o,c=(0,a.zH)(l,t,o)*l%o,d=(0,a.zH)(c,r,o)*c%o,m=(0,a.zH)(d,n,o)*d%o,w=(0,a.zH)(m,i,o)*m%o,b=(0,a.zH)(w,i,o)*m%o,v=(0,a.zH)(b,t,o)*l%o;return{pow_p_5_8:(0,a.zH)(v,p,o)*e%o,b2:s}}(e*(0,a.zi)(n*n*t,r)).pow_p_5_8,o=(0,a.zi)(e*n*i,r),s=(0,a.zi)(t*o*o,r),f=o,u=(0,a.zi)(o*w,r),l=s===e,c=s===(0,a.zi)(-e,r),d=s===(0,a.zi)(-e*w,r);return l&&(o=f),(c||d)&&(o=u),(0,a.dQ)(o,r)&&(o=(0,a.zi)(-o,r)),{isValid:l||c,value:o}}})},20732:(e,t,r)=>{"use strict";r.d(t,{kb:()=>s,vE:()=>f});var n=r(72076),i=r(32860),o=class extends i.b{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){let n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function s(e,t){return new o(e,t)}var a=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},f=class extends i.b{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},f,u){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=f||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new a,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(Error("socket not ready"));let s=this.generate_request_id(e,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t||void 0,id:s}),n,e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},r&&(this.queue[s].timeout=setTimeout(()=>{delete this.queue[s],o(Error("reply timeout"))},r))})})}async login(e){let t=await this.call("rpc.login",e);if(!t)throw Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:e,params:t}),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);let t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=n.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);let t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}}},30932:function(e,t,r){"use strict";var n=r(72076).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;let u=f(r(92460)),l=f(r(83944)),c=a(r(58712)),d=new("function"!=typeof TextDecoder?c.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=h;class p{constructor(){this.buf=n.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(1024)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();let t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){for(let r of(this.maybeResize(),this.writeU32(e.length),e))this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,r){let n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e.code)>=0)throw new h("Reached the end of buffer when deserializing");throw e}}}t.BinaryWriter=p;class m{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new u.default(e,"le")}readU128(){let e=this.readBuffer(16);return new u.default(e,"le")}readU256(){let e=this.readBuffer(32);return new u.default(e,"le")}readU512(){let e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(e){throw new h(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),r=[];for(let n=0;n<t;++n)r.push(e());return r}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"==typeof n)i[`write${g(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new h(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new h(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{w(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{w(e,t,o,n.key,i),w(e,t,r,n.value,i)});break;default:throw new h(`FieldType ${n} unrecognized`)}else b(e,r,i)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function b(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);let n=e.get(t.constructor);if(!n)throw new h(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{w(e,n,t[n],i,r)});else if("enum"===n.kind){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),w(e,s,t[s],a,r);break}}}else throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function v(e,t,r,n){try{if("string"==typeof r)return n[`read${g(r)}`]();if(r instanceof Array)if("number"==typeof r[0])return n.readFixedArray(r[0]);else{if("number"!=typeof r[1])return n.readArray(()=>v(e,t,r[0],n));let i=[];for(let t=0;t<r[1];t++)i.push(v(e,null,r[0],n));return i}if("option"===r.kind){if(n.readU8())return v(e,t,r.type,n);return}if("map"===r.kind){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let o=v(e,t,r.key,n),s=v(e,t,r.value,n);i.set(o,s)}return i}return E(e,r,n)}catch(e){throw e instanceof h&&e.addToFieldPath(t),e}}function E(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);let n=e.get(t);if(!n)throw new h(`Class ${t.name} is missing in schema`);if("struct"===n.kind){let n={};for(let[i,o]of e.get(t).fields)n[i]=v(e,i,o,r);return new t(n)}if("enum"===n.kind){let i=r.readU8();if(i>=n.values.length)throw new h(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=v(e,o,s,r);return new t({[o]:a})}throw new h(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}s([y],m.prototype,"readU8",null),s([y],m.prototype,"readU16",null),s([y],m.prototype,"readU32",null),s([y],m.prototype,"readU64",null),s([y],m.prototype,"readU128",null),s([y],m.prototype,"readU256",null),s([y],m.prototype,"readU512",null),s([y],m.prototype,"readString",null),s([y],m.prototype,"readFixedArray",null),s([y],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t,r=p){let n=new r;return b(e,t,n),n.toArray()},t.deserialize=function(e,t,r,n=m){let i=new n(r),o=E(e,t,i);if(i.offset<r.length)throw new h(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},t.deserializeUnchecked=function(e,t,r,n=m){return E(e,t,new n(r))}},33194:(e,t,r)=>{"use strict";r.d(t,{bI:()=>O});var n=r(69523),i=r(55425),o=r(75640),s=r(69214),a=r(58742),f=r(78368);function u(e){void 0!==e.lowS&&(0,o.e8)("lowS",e.lowS),void 0!==e.prehash&&(0,o.e8)("prehash",e.prehash)}class l extends Error{constructor(e=""){super(e)}}let c={Err:l,_tlv:{encode:(e,t)=>{let{Err:r}=c;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,o.zW)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?(0,o.zW)(i.length/2|128):"";return(0,o.zW)(e)+s+i+t},decode(e,t){let{Err:r}=c,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=c;if(e<d)throw new t("integer: negative integers are not allowed");let r=(0,o.zW)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=c;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,o.Ph)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=c,i=(0,o.qj)("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:f,l:u}=n.decode(2,s),{v:l,l:d}=n.decode(2,u);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(f),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=c,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},d=BigInt(0),h=BigInt(1),p=BigInt(2),y=BigInt(3),m=BigInt(4);function g(e,t,r){let{BYTES:n}=e;return function(i){let s;if("bigint"==typeof i)s=i;else{let r=(0,o.qj)("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{s=e.fromBytes(r)}catch(e){throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(s=e.create(s)),!e.isValidNot0(s))throw Error("invalid private key: out of range [1..N-1]");return s}}function w(e){return Uint8Array.of(e?2:3)}let b={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},v=BigInt(0),E=BigInt(1),x=BigInt(2),B=(e,t)=>(e+t/x)/t,S=(0,f.D0)(b.p,void 0,void 0,{sqrt:function(e){let t=b.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),l=e*e*e%t,c=l*l*e%t,d=(0,f.zH)(c,r,t)*c%t,h=(0,f.zH)(d,r,t)*c%t,p=(0,f.zH)(h,x,t)*l%t,y=(0,f.zH)(p,i,t)*p%t,m=(0,f.zH)(y,o,t)*y%t,g=(0,f.zH)(m,a,t)*m%t,w=(0,f.zH)(g,u,t)*g%t,v=(0,f.zH)(w,a,t)*m%t,E=(0,f.zH)(v,r,t)*c%t,B=(0,f.zH)(E,s,t)*y%t,O=(0,f.zH)(B,n,t)*l%t,A=(0,f.zH)(O,x,t);if(!S.eql(S.sqr(A),e))throw Error("Cannot find square root");return A}}),O=function(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,f.D0)(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),l=function(e,t,r={}){(0,o.DS)(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||s.po,a=t.hmac||((e,...r)=>(0,i.w)(t.hash,e,(0,s.Id)(...r))),{Fp:l,Fn:y}=e,{ORDER:m,BITS:b}=y;function v(e,t){if(!y.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class E{constructor(e,t,r){v("r",e),v("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=y.BYTES,r=(0,o.qj)("compactSignature",e,2*t);return new E(y.fromBytes(r.subarray(0,t)),y.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=c.toSig((0,o.qj)("DER",e));return new E(t,r)}assertValidity(){}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(t){let r=l.ORDER,{r:n,s:i,recovery:a}=this;if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");if(m*p<r&&a>1)throw Error("recovery id is ambiguous for h>1 curve");let f=2===a||3===a?n+m:n;if(!l.isValid(f))throw Error("recovery id 2 or 3 invalid");let u=l.toBytes(f),c=e.fromHex((0,s.Id)(w((1&a)==0),u)),d=y.inv(f),h=O((0,o.qj)("msgHash",t)),g=y.create(-h*d),b=y.create(i*d),v=e.BASE.multiplyUnsafe(g).add(c.multiplyUnsafe(b));if(v.is0())throw Error("point at infinify");return v.assertValidity(),v}hasHighS(){return this.s>m>>h}normalizeS(){return this.hasHighS()?new E(this.r,y.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return(0,s.Id)(y.toBytes(this.r),y.toBytes(this.s));if("der"===e)return(0,s.aT)(c.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,s.My)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,s.My)(this.toBytes("compact"))}}let x=g(y,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function B(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=(0,o.qj)("key",t).length,i=l.BYTES,s=i+1;if(!r.allowedPrivateKeyLengths&&y.BYTES!==s)return n===s||n===2*i+1}let S=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,o.Ph)(e),r=8*e.length-b;return r>0?t>>BigInt(r):t},O=t.bits2int_modN||function(e){return y.create(S(e))},A=(0,o.OG)(b);function z(e){return(0,o.aK)("num < 2^"+b,e,d,A),y.toBytes(e)}let _={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===B(t))throw Error("first arg must be private key");if(!1===B(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(x(t)).toBytes(n)},sign:function(r,i,f=_){let{seed:c,k2sig:p}=function(r,i,a=_){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:f}=t,{lowS:c,prehash:p,extraEntropy:g}=a;null==c&&(c=!0),r=(0,o.qj)("msgHash",r),u(a),p&&(r=(0,o.qj)("prehashed msgHash",f(r)));let w=O(r),b=x(i),v=[z(b),z(w)];if(null!=g&&!1!==g){let e=!0===g?n(l.BYTES):g;v.push((0,o.qj)("extraEntropy",e))}return{seed:(0,s.Id)(...v),k2sig:function(t){var r;let n=S(t);if(!y.isValidNot0(n))return;let i=y.inv(n),o=e.BASE.multiply(n).toAffine(),s=y.create(o.x);if(s===d)return;let a=y.create(i*y.create(w+s*b));if(a===d)return;let f=2*(o.x!==s)|Number(o.y&h),u=a;return c&&a>m>>h&&(u=(r=a)>m>>h?y.neg(r):r,f^=1),new E(s,u,f)}}}(r,i,f);return(0,o.fg)(t.hash.outputLen,y.BYTES,a)(c,p)},verify:function(r,n,i,a=U){let f,l;n=(0,o.qj)("msgHash",n),i=(0,o.qj)("publicKey",i),u(a);let{lowS:d,prehash:h,format:p}=a;if("strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==p&&!["compact","der","js"].includes(p))throw Error('format must be "compact", "der" or "js"');let m="string"==typeof r||(0,s.aY)(r),g=!m&&!p&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!m&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g)if(void 0===p||"js"===p)l=new E(r.r,r.s);else throw Error("invalid format");if(m){try{"compact"!==p&&(l=E.fromDER(r))}catch(e){if(!(e instanceof c.Err))throw e}l||"der"===p||(l=E.fromCompact(r))}f=e.fromHex(i)}catch(e){return!1}if(!l||d&&l.hasHighS())return!1;h&&(n=t.hash(n));let{r:w,s:b}=l,v=O(n),x=y.inv(b),B=y.create(v*x),S=y.create(w*x),A=e.BASE.multiplyUnsafe(B).add(f.multiplyUnsafe(S));return!A.is0()&&y.create(A.x)===w},utils:{isValidPrivateKey(e){try{return x(e),!0}catch(e){return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>(0,f.qy)(n((0,f.Tp)(m)),m),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:E})}(function(e,t={}){var r,n,i;let{Fp:f,Fn:u}=(0,a.UT)("weierstrass",e,t),{h:l,n:c}=e;(0,o.DS)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:p}=t;if(p&&(!f.is0(e.a)||"bigint"!=typeof p.beta||"function"!=typeof p.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function b(){if(!f.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let v=t.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),a=f.toBytes(n);if((0,o.e8)("isCompressed",r),!r)return(0,s.Id)(Uint8Array.of(4),a,f.toBytes(i));{b();let e=!f.isOdd(i);return(0,s.Id)(w(e),a)}},E=t.fromBytes||function(e){(0,s.DO)(e);let t=f.BYTES,r=t+1,n=2*t+1,i=e.length,o=e[0],a=e.subarray(1);if(i===r&&(2===o||3===o)){let e,t=f.fromBytes(a);if(!f.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=x(t);try{e=f.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return b(),(1&o)==1!==f.isOdd(e)&&(e=f.neg(e)),{x:t,y:e}}if(i===n&&4===o){let e=f.fromBytes(a.subarray(0*t,+t)),r=f.fromBytes(a.subarray(+t,2*t));if(!B(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${r} or uncompressed=${n}`)},x=(r=f,n=e.a,i=e.b,function(e){let t=r.sqr(e),o=r.mul(t,e);return r.add(r.add(o,r.mul(e,n)),i)});function B(e,t){let r=f.sqr(t),n=x(e);return f.eql(r,n)}if(!B(e.Gx,e.Gy))throw Error("bad curve params: generator point");let S=f.mul(f.pow(e.a,y),m),O=f.mul(f.sqr(e.b),BigInt(27));if(f.is0(f.add(S,O)))throw Error("bad curve params: a or b");function A(e,t,r=!1){if(!f.isValid(t)||r&&f.is0(t))throw Error(`bad point coordinate ${e}`);return t}function z(e){if(!(e instanceof R))throw Error("ProjectivePoint expected")}let _=(0,o.x)((e,t)=>{let{px:r,py:n,pz:i}=e;if(f.eql(i,f.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?f.ONE:f.inv(i));let s=f.mul(r,t),a=f.mul(n,t),u=f.mul(i,t);if(o)return{x:f.ZERO,y:f.ZERO};if(!f.eql(u,f.ONE))throw Error("invZ was invalid");return{x:s,y:a}}),U=(0,o.x)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!f.is0(e.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!f.isValid(r)||!f.isValid(n))throw Error("bad point: x or y not field elements");if(!B(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function I(e,t,r,n,i){return r=new R(f.mul(r.px,e),r.py,r.pz),t=(0,a.u0)(n,t),r=(0,a.u0)(i,r),t.add(r)}class R{constructor(e,t,r){this.px=A("x",e),this.py=A("y",t,!0),this.pz=A("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!f.isValid(t)||!f.isValid(r))throw Error("invalid affine point");if(e instanceof R)throw Error("projective point not allowed");return f.is0(t)&&f.is0(r)?R.ZERO:new R(t,r,f.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return(0,a.Ak)(R,"pz",e)}static fromBytes(e){return(0,s.DO)(e),R.fromHex(e)}static fromHex(e){let t=R.fromAffine(E((0,o.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=g(u,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return R.BASE.multiply(r(e))}static msm(e,t){return(0,a.Xf)(R,u,e,t)}precompute(e=8,t=!0){return j.setWindowSize(this,e),t||this.multiply(y),this}_setWindowSize(e){this.precompute(e)}assertValidity(){U(this)}hasEvenY(){let{y:e}=this.toAffine();if(!f.isOdd)throw Error("Field doesn't support isOdd");return!f.isOdd(e)}equals(e){z(e);let{px:t,py:r,pz:n}=this,{px:i,py:o,pz:s}=e,a=f.eql(f.mul(t,s),f.mul(i,n)),u=f.eql(f.mul(r,s),f.mul(o,n));return a&&u}negate(){return new R(this.px,f.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=f.mul(r,y),{px:i,py:o,pz:s}=this,a=f.ZERO,u=f.ZERO,l=f.ZERO,c=f.mul(i,i),d=f.mul(o,o),h=f.mul(s,s),p=f.mul(i,o);return p=f.add(p,p),l=f.mul(i,s),l=f.add(l,l),a=f.mul(t,l),u=f.mul(n,h),u=f.add(a,u),a=f.sub(d,u),u=f.add(d,u),u=f.mul(a,u),a=f.mul(p,a),l=f.mul(n,l),h=f.mul(t,h),p=f.sub(c,h),p=f.mul(t,p),p=f.add(p,l),l=f.add(c,c),c=f.add(l,c),c=f.add(c,h),c=f.mul(c,p),u=f.add(u,c),h=f.mul(o,s),h=f.add(h,h),c=f.mul(h,p),a=f.sub(a,c),l=f.mul(h,d),l=f.add(l,l),new R(a,u,l=f.add(l,l))}add(t){z(t);let{px:r,py:n,pz:i}=this,{px:o,py:s,pz:a}=t,u=f.ZERO,l=f.ZERO,c=f.ZERO,d=e.a,h=f.mul(e.b,y),p=f.mul(r,o),m=f.mul(n,s),g=f.mul(i,a),w=f.add(r,n),b=f.add(o,s);w=f.mul(w,b),b=f.add(p,m),w=f.sub(w,b),b=f.add(r,i);let v=f.add(o,a);return b=f.mul(b,v),v=f.add(p,g),b=f.sub(b,v),v=f.add(n,i),u=f.add(s,a),v=f.mul(v,u),u=f.add(m,g),v=f.sub(v,u),c=f.mul(d,b),u=f.mul(h,g),c=f.add(u,c),u=f.sub(m,c),c=f.add(m,c),l=f.mul(u,c),m=f.add(p,p),m=f.add(m,p),g=f.mul(d,g),b=f.mul(h,b),m=f.add(m,g),g=f.sub(p,g),g=f.mul(d,g),b=f.add(b,g),p=f.mul(m,b),l=f.add(l,p),p=f.mul(v,b),u=f.mul(w,u),u=f.sub(u,p),p=f.mul(w,m),c=f.mul(v,c),new R(u,l,c=f.add(c,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(R.ZERO)}multiply(e){let r,n,{endo:i}=t;if(!u.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>j.wNAFCached(this,e,R.normalizeZ);if(i){let{k1neg:t,k1:s,k2neg:a,k2:f}=i.splitScalar(e),{p:u,f:l}=o(s),{p:c,f:d}=o(f);n=l.add(d),r=I(i.beta,u,c,t,a)}else{let{p:t,f:i}=o(e);r=t,n=i}return R.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!u.isValid(e))throw Error("invalid scalar: out of range");if(e===d||this.is0())return R.ZERO;if(e===h)return this;if(j.hasPrecomputes(this))return this.multiply(e);if(!r)return j.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:o}=r.splitScalar(e),{p1:s,p2:f}=(0,a.fH)(R,this,n,o);return I(r.beta,s,f,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return _(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return l===h||(e?e(R,this):j.wNAFCachedUnsafe(this,c).is0())}clearCofactor(){let{clearCofactor:e}=t;return l===h?this:e?e(R,this):this.multiplyUnsafe(l)}toBytes(e=!0){return(0,o.e8)("isCompressed",e),this.assertValidity(),v(R,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return(0,s.My)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}R.BASE=new R(e.Gx,e.Gy,f.ONE),R.ZERO=new R(f.ZERO,f.ONE,f.ZERO),R.Fp=f,R.Fn=u;let k=u.BITS,j=(0,a.hT)(R,t.endo?Math.ceil(k/2):k);return R}(t,r),n,r);return Object.assign({},l,{ProjectivePoint:l.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}({...b,Fp:S,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=b.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-E*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=B(r*e,t),a=B(-n*e,t),u=(0,f.zi)(e-s*r-a*i,t),l=(0,f.zi)(-s*n-a*r,t),c=u>o,d=l>o;if(c&&(u=t-u),d&&(l=t-l),u>o||l>o)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:u,k2neg:d,k2:l}}}},n.sc),A={},z=e=>e.toBytes(!0).slice(1),_=e=>mod(e,b.n),U=e=>e%x===v},34127:(e,t,r)=>{"use strict";r.d(t,{v4:()=>u});var n,i=new Uint8Array(16);let o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=[],a=0;a<256;++a)s.push((a+256).toString(16).substr(1));let f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!("string"==typeof r&&o.test(r)))throw TypeError("Stringified UUID is invalid");return r},u=function(e,t,r){var o=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=o[s];return t}return f(o)}},43832:(e,t,r)=>{"use strict";let n=r(34127).v4,i=r(7593),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,r,n){let o,s=this,a=null,f=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&f)throw TypeError("JSON-RPC 1.0 does not support batching");let u=!f&&e&&"object"==typeof e&&"function"==typeof t;if(f||u)n=t,a=e;else{"function"==typeof r&&(n=r,r=void 0);let o="function"==typeof n;try{a=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(o)return n(e);throw e}if(!o)return a}try{o=JSON.stringify(a,this.options.replacer)}catch(e){return n(e)}return this.callServer(o,function(e,t){s._parseResponse(e,t,n)}),a},o.prototype._parseResponse=function(e,t,r){let n;if(e)return void r(e);if(!t)return r();try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length)if(!Array.isArray(n))return r(null,n.error,n.result);else{let e=function(e){return void 0!==e.error};return r(null,n.filter(e),n.filter(function(t){return!e(t)}))}r(null,n)}},56032:(e,t,r)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;let n=r(72076);function i(e){if(!(e instanceof Uint8Array))throw TypeError("b must be a Uint8Array")}function o(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class f extends s{isCount(){throw Error("ExternalLayout is abstract")}}class u extends f{constructor(e,t=0,r){if(!(e instanceof s))throw TypeError("layout must be a Layout");if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof c}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntLE(e,r,this.span),this.span}}class c extends s{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntBE(e,r,this.span),this.span}}function d(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function h(e,t){return 0x100000000*e+t}class p extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return h(r.readUInt32LE(t+4),n)}encode(e,t,r=0){let n=d(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class y extends s{constructor(e){super(8,e)}decode(e,t=0){let r=o(e),n=r.readUInt32LE(t);return h(r.readInt32LE(t+4),n)}encode(e,t,r=0){let n=d(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class m extends s{constructor(e,t,r){if(!(e instanceof s))throw TypeError("elementLayout must be a Layout");if(!(t instanceof f&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof f||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof f&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){let r=[],n=0,i=this.count;for(i instanceof f&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof f&&this.count.encode(e.length,t,r),i}}class g extends s{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof s,!0)))throw TypeError("fields must be array of Layout instances");for(let n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t=0){i(e);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){let n=r,i=0,o=0;for(let n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>s&&(s=n.getSpan(t,r)))}i=r,r+=s}return i+o-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class w{constructor(e){this.property=e}decode(e,t){throw Error("UnionDiscriminator is abstract")}encode(e,t,r){throw Error("UnionDiscriminator is abstract")}}class b extends w{constructor(e,t){if(!(e instanceof f&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class v extends s{constructor(e,t,r){let n;if(e instanceof l||e instanceof c)n=new b(new u(e));else if(e instanceof f&&e.isCount())n=new b(e);else if(e instanceof w)n=e;else throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof s))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&(e instanceof l||e instanceof c)&&(i+=n.layout.span),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof l||e instanceof c,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw Error("unable to infer src variant")}decode(e,t=0){let r,n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){let o=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r=0){let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new E(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}class E extends s{constructor(e,t,r,n){if(!(e instanceof v))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof s))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){let r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function x(e){return 0>e&&(e+=0x100000000),e}class B extends s{constructor(e,t,r){if(!(e instanceof l||e instanceof c))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=x(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){let r=this.makeDestinationObject(),n=this.word.decode(e,t);for(let t of(this._packedSetValue(n),this.fields))void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new S(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new O(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class S{constructor(e,t,r){if(!(e instanceof B))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");let n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=x(this.valueMask<<this.start),this.property=r}decode(e,t){return x(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==x(e&this.valueMask))throw TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=x(e<<this.start);this.container._packedSetValue(x(t&~this.wordMask)|r)}}class O extends S{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e*=1),super.encode(e)}}class A extends s{constructor(e,t){if(!(e instanceof f&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof f||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof f&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw RangeError("encoding overruns Uint8Array");let i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof f&&this.length.encode(n,t,r),n}}t.cY=(e,t,r)=>new u(e,t,r),t.u8=e=>new l(1,e),t.NX=e=>new l(2,e),t.DH=e=>new l(4,e),t.I0=e=>new p(e),t.Wg=e=>new y(e),t.w3=(e,t,r)=>new g(e,t,r),t.O6=(e,t,r)=>new m(e,t,r),t.av=(e,t)=>new A(e,t)},58712:(e,t)=>{"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(;e.length;)this.tokens.push(e.shift());else this.tokens.push(e)}};var s="utf-8";function a(e,t){if(!(this instanceof a))return new a(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function f(e,t){if(!(this instanceof f))return new f(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function u(e){var t=e.fatal,n=0,i=0,s=0,a=128,f=191;this.handler=function(e,u){if(-1===u&&0!==s)return s=0,o(t);if(-1===u)return -1;if(0===s){if(r(u,0,127))return u;if(r(u,194,223))s=1,n=u-192;else if(r(u,224,239))224===u&&(a=160),237===u&&(f=159),s=2,n=u-224;else{if(!r(u,240,244))return o(t);240===u&&(a=144),244===u&&(f=143),s=3,n=u-240}return n<<=6*s,null}if(!r(u,a,f))return n=s=i=0,a=128,f=191,e.prepend(u),o(t);if(a=128,f=191,i+=1,n+=u-128<<6*(s-i),i!==s)return null;var l=n;return n=s=i=0,l}}function l(e){e.fatal,this.handler=function(e,t){if(-1===t)return -1;if(r(t,0,127))return t;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var n,i,o=[(t>>6*n)+i];n>0;){var s=t>>6*(n-1);o.push(128|63&s),n-=1}return o}}a.prototype={decode:function(e,t){r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new u({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var r,o,s=new i(r),a=[];!s.endOfStream()&&-1!==(o=this._decoder.handler(s,s.read()));)null!==o&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));if(!this._streaming){do{if(-1===(o=this._decoder.handler(s,s.read())))break;if(null===o)continue;Array.isArray(o)?a.push.apply(a,o):a.push(o)}while(!s.endOfStream());this._decoder=null}!a.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===a[0]?(this._BOMseen=!0,a.shift()):this._BOMseen=!0);for(var f="",l=0;l<a.length;++l){var c=a[l];c<=65535?f+=String.fromCharCode(c):(c-=65536,f+=String.fromCharCode((c>>10)+55296,(1023&c)+56320))}return f}},f.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new l(this._options)),this._streaming=!!t.stream;for(var r,o=[],s=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,f=1023&s;i.push(65536+(a<<10)+f),n+=1}else i.push(65533)}n+=1}return i}(e));!s.endOfStream()&&-1!==(r=this._encoder.handler(s,s.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(s,s.read()));)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=f,t.TextDecoder=a},58742:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>f,UT:()=>v,Xf:()=>w,fH:()=>g,hT:()=>m,u0:()=>a});var n=r(75640),i=r(78368);let o=BigInt(0),s=BigInt(1);function a(e,t){let r=t.negate();return e?r:t}function f(e,t,r){let n="pz"===t?e=>e.pz:e=>e.ez,o=(0,i.pS)(e.Fp,r.map(n));return r.map((e,t)=>e.toAffine(o[t])).map(e.fromAffine)}function u(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function l(e,t){u(e,t);let r=Math.ceil(t/e)+1,i=2**(e-1),o=2**e;return{windows:r,windowSize:i,mask:(0,n.OG)(e),maxNumber:o,shiftBy:BigInt(e)}}function c(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r,f=Number(e&i),u=e>>a;f>n&&(f-=o,u+=s);let l=t*n,c=l+Math.abs(f)-1,d=0===f;return{nextN:u,offset:c,isZero:d,isNeg:f<0,isNegF:t%2!=0,offsetF:l}}let d=new WeakMap,h=new WeakMap;function p(e){return h.get(e)||1}function y(e){if(e!==o)throw Error("invalid wNAF")}function m(e,t){return{constTimeNegate:a,hasPrecomputes:e=>1!==p(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,r){let{windows:n,windowSize:i}=l(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){let o=e.ZERO,s=e.BASE,f=l(r,t);for(let e=0;e<f.windows;e++){let{nextN:t,offset:r,isZero:u,isNeg:l,isNegF:d,offsetF:h}=c(i,e,f);i=t,u?s=s.add(a(d,n[h])):o=o.add(a(l,n[r]))}return y(i),{p:o,f:s}},wNAFUnsafe(r,n,i,s=e.ZERO){let a=l(r,t);for(let e=0;e<a.windows&&i!==o;e++){let{nextN:t,offset:r,isZero:o,isNeg:f}=c(i,e,a);if(i=t,!o){let e=n[r];s=s.add(f?e.negate():e)}}return y(i),s},getPrecomputes(e,t,r){let n=d.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),d.set(t,n))),n},wNAFCached(e,t,r){let n=p(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=p(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){u(r,t),h.set(e,r),d.delete(e)}}}function g(e,t,r,n){let i=t,a=e.ZERO,f=e.ZERO;for(;r>o||n>o;)r&s&&(a=a.add(i)),n&s&&(f=f.add(i)),i=i.double(),r>>=s,n>>=s;return{p1:a,p2:f}}function w(e,t,r,i){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t);let o=r.length,s=i.length;if(o!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,f=(0,n.dJ)(BigInt(o)),u=1;f>12?u=f-3:f>4?u=f-2:f>0&&(u=2);let l=(0,n.OG)(u),c=Array(Number(l)+1).fill(a),d=Math.floor((t.BITS-1)/u)*u,h=a;for(let e=d;e>=0;e-=u){c.fill(a);for(let t=0;t<s;t++){let n=Number(i[t]>>BigInt(e)&l);c[n]=c[n].add(r[t])}let t=a;for(let e=c.length-1,r=a;e>0;e--)r=r.add(c[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<u;e++)h=h.double()}return h}function b(e,t){if(!t)return(0,i.D0)(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.jr)(t),t}function v(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>o))throw Error(`CURVE.${e} must be positive bigint`)}let n=b(t.p,r.Fp),i=b(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}},72751:(e,t,r)=>{"use strict";var n=r(2549).Buffer;e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw TypeError(o+" is ambiguous");t[s]=i}var a=e.length,f=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function c(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===f;)i++,r++;for(var s=(e.length-r)*u+1>>>0,l=new Uint8Array(s);r<e.length;){var c=e.charCodeAt(r);if(c>255)return;var d=t[c];if(255===d)return;for(var h=0,p=s-1;(0!==d||h<o)&&-1!==p;p--,h++)d+=a*l[p]>>>0,l[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");o=h,r++}for(var y=s-o;y!==s&&0===l[y];)y++;var m=n.allocUnsafe(i+(s-y));m.fill(0,0,i);for(var g=i;y!==s;)m[g++]=l[y++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var u=(s-o)*l+1>>>0,c=new Uint8Array(u);o!==s;){for(var d=t[o],h=0,p=u-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*c[p]>>>0,c[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");i=h,o++}for(var y=u-i;y!==u&&0===c[y];)y++;for(var m=f.repeat(r);y<u;++y)m+=e.charAt(c[y]);return m},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},75640:(e,t,r)=>{"use strict";r.d(t,{DS:()=>b,OG:()=>g,Ph:()=>u,aK:()=>y,dJ:()=>m,e8:()=>s,fg:()=>w,lX:()=>l,lq:()=>c,qj:()=>h,x:()=>v,z:()=>d,zW:()=>a});var n=r(69214);let i=BigInt(0),o=BigInt(1);function s(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function a(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?i:BigInt("0x"+e)}function u(e){return f((0,n.My)(e))}function l(e){return(0,n.DO)(e),f((0,n.My)(Uint8Array.from(e).reverse()))}function c(e,t){return(0,n.aT)(e.toString(16).padStart(2*t,"0"))}function d(e,t){return c(e,t).reverse()}function h(e,t,r){let i;if("string"==typeof t)try{i=(0,n.aT)(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if((0,n.aY)(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let o=i.length;if("number"==typeof r&&o!==r)throw Error(e+" of length "+r+" expected, got "+o);return i}let p=e=>"bigint"==typeof e&&i<=e;function y(e,t,r,n){if(!(p(t)&&p(r)&&p(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function m(e){let t;for(t=0;e>i;e>>=o,t+=1);return t}let g=e=>(o<<BigInt(e))-o;function w(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=e=>new Uint8Array(e),o=e=>Uint8Array.of(e),s=i(e),a=i(e),f=0,u=()=>{s.fill(1),a.fill(0),f=0},l=(...e)=>r(a,s,...e),c=(e=i(0))=>{a=l(o(0),e),s=l(),0!==e.length&&(a=l(o(1),e),s=l())},d=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(s=l()).slice();r.push(t),e+=s.length}return(0,n.Id)(...r)};return(e,t)=>{let r;for(u(),c(e);!(r=t(d()));)c();return u(),r}}function b(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function v(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}},78368:(e,t,r)=>{"use strict";r.d(t,{D0:()=>function e(t,r,h=!1,g={}){let w,b,x;if(t<=o)throw Error("invalid field: expected ORDER > 0, got "+t);if("object"==typeof r&&null!=r){if(g.sqrt||h)throw Error("cannot specify opts in two arguments");r.BITS&&(b=r.BITS),r.sqrt&&(x=r.sqrt),"boolean"==typeof r.isLE&&(h=r.isLE)}else"number"==typeof r&&(b=r),g.sqrt&&(x=g.sqrt);let{nBitLength:B,nByteLength:S}=function(e,t){void 0!==t&&(0,i.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}(t,b);if(S>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let O=Object.freeze({ORDER:t,isLE:h,BITS:B,BYTES:S,MASK:(0,n.OG)(B),ZERO:o,ONE:s,create:e=>d(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return o<=e&&e<t},is0:e=>e===o,isValidNot0:e=>!O.is0(e)&&O.isValid(e),isOdd:e=>(e&s)===s,neg:e=>d(-e,t),eql:(e,t)=>e===t,sqr:e=>d(e*e,t),add:(e,r)=>d(e+r,t),sub:(e,r)=>d(e-r,t),mul:(e,r)=>d(e*r,t),pow:(e,t)=>(function(e,t,r){if(r<o)throw Error("invalid exponent, negatives unsupported");if(r===o)return e.ONE;if(r===s)return t;let n=e.ONE,i=t;for(;r>o;)r&s&&(n=e.mul(n,i)),i=e.sqr(i),r>>=s;return n})(O,e,t),div:(e,r)=>d(e*p(r,t),t),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:e=>p(e,t),sqrt:x||(r=>(w||(w=t%u===f?y:t%c===l?m:function(t){if(t<BigInt(3))throw Error("sqrt is not defined for small field");let r=t-s,n=0;for(;r%a===o;)r/=a,n++;let i=a,f=e(t);for(;1===E(f,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===n)return y;let u=f.pow(i,r),l=(r+s)/a;return function(e,t){if(e.is0(t))return t;if(1!==E(e,t))throw Error("Cannot find square root");let i=n,o=e.mul(e.ONE,u),a=e.pow(t,r),f=e.pow(t,l);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,r=e.sqr(a);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=s<<BigInt(i-t-1),u=e.pow(o,n);i=t,o=e.sqr(u),a=e.mul(a,o),f=e.mul(f,u)}return f}}(t)),w(O,r))),toBytes:e=>h?(0,n.z)(e,S):(0,n.lq)(e,S),fromBytes:e=>{if(e.length!==S)throw Error("Field.fromBytes: expected "+S+" bytes, got "+e.length);return h?(0,n.lX)(e):(0,n.Ph)(e)},invertBatch:e=>v(O,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(O)},Tp:()=>B,dQ:()=>g,jr:()=>b,pS:()=>v,qy:()=>S,zH:()=>h,zi:()=>d});var n=r(75640),i=r(69214);let o=BigInt(0),s=BigInt(1),a=BigInt(2),f=BigInt(3),u=BigInt(4),l=BigInt(5),c=BigInt(8);function d(e,t){let r=e%t;return r>=o?r:t+r}function h(e,t,r){let n=e;for(;t-- >o;)n*=n,n%=r;return n}function p(e,t){if(e===o)throw Error("invert: expected non-zero number");if(t<=o)throw Error("invert: expected positive modulus, got "+t);let r=d(e,t),n=t,i=o,a=s,f=s,u=o;for(;r!==o;){let e=n/r,t=n%r,o=i-f*e,s=a-u*e;n=r,r=t,i=f,a=u,f=o,u=s}if(n!==s)throw Error("invert: does not exist");return d(i,t)}function y(e,t){let r=(e.ORDER+s)/u,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function m(e,t){let r=(e.ORDER-l)/c,n=e.mul(t,a),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,a),i),f=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(f),t))throw Error("Cannot find square root");return f}let g=(e,t)=>(d(e,t)&s)===s,w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(e){let t=w.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,n.DS)(e,t),e}function v(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function E(e,t){let r=(e.ORDER-s)/a,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),f=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!f)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function x(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function B(e){let t=x(e);return t+Math.ceil(t/2)}function S(e,t,r=!1){let i=e.length,o=x(t),a=B(t);if(i<16||i<a||i>1024)throw Error("expected "+a+"-1024 bytes of input, got "+i);let f=d(r?(0,n.lX)(e):(0,n.Ph)(e),t-s)+s;return r?(0,n.z)(f,o):(0,n.lq)(f,o)}},83944:(e,t,r)=>{e.exports=r(72751)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},87329:(e,t,r)=>{"use strict";r.d(t,{KC:()=>A,KJ:()=>m,L5:()=>z,NW:()=>O,PV:()=>S,YO:()=>p,Yj:()=>B,ai:()=>v,au:()=>_,bz:()=>h,eu:()=>g,g1:()=>x,lq:()=>E,me:()=>b,vt:()=>l,zM:()=>y});class n extends TypeError{constructor(e,t){let r,{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function o(e){return i(e)&&!Array.isArray(e)}function s(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*a(e,t,r,n){var o;for(let a of(i(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:o}=t,{type:a}=r,{refinement:f,message:u=`Expected a value of type \`${a}\`${f?` with refinement \`${f}\``:""}, but received: \`${s(n)}\``}=e;return{value:n,type:a,refinement:f,key:i[i.length-1],path:i,branch:o,...e,message:u}}(a,t,r,n);e&&(yield e)}}function*f(e,t,r={}){let{path:n=[],branch:o=[e],coerce:s=!1,mask:a=!1}=r,u={path:n,branch:o,mask:a};s&&(e=t.coercer(e,u));let l="valid";for(let n of t.validator(e,u))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[c,d,h]of t.entries(e,u))for(let t of f(d,h,{path:void 0===c?n:[...n,c],branch:void 0===c?o:[...o,d],coerce:s,mask:a,message:r.message}))t[0]?(l=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):s&&(d=t[1],void 0===c?e=d:e instanceof Map?e.set(c,d):e instanceof Set?e.add(d):i(e)&&(void 0!==d||c in e)&&(e[c]=d));if("not_valid"!==l)for(let n of t.refiner(e,u))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class u{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,n?this.validator=(e,t)=>a(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>a(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){var r=e,n=this,i=t;let o=c(r,n,{message:i});if(o[0])throw o[0]}create(e,t){return l(e,this,t)}is(e){var t,r;return t=e,r=this,!c(t,r)[0]}mask(e,t){var r=e,n=this,i=t;let o=c(r,n,{coerce:!0,mask:!0,message:i});if(!o[0])return o[1];throw o[0]}validate(e,t={}){return c(e,this,t)}}function l(e,t,r){let n=c(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function c(e,t,r={}){let i=f(e,t,r),o=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return o[0]?[new n(o[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,o[1]]}function d(e,t){return new u({type:e,schema:null,validator:t})}function h(){return d("any",()=>!0)}function p(e){return new u({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${s(e)}`})}function y(){return d("boolean",e=>"boolean"==typeof e)}function m(e){return d("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${s(t)}`)}function g(e){let t=s(e),r=typeof e;return new u({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${s(r)}`})}function w(){return d("never",()=>!1)}function b(e){return new u({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function v(){return d("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${s(e)}`)}function E(e){return new u({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function x(e,t){return new u({type:"record",schema:null,*entries(r){if(i(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>o(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>o(e)?{...e}:e})}function B(){return d("string",e=>"string"==typeof e||`Expected a string, but received: ${s(e)}`)}function S(e){let t=w();return new u({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${s(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function O(e){let t=Object.keys(e);return new u({type:"type",schema:e,*entries(r){if(i(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>o(e)||`Expected an object, but received: ${s(e)}`,coercer:e=>o(e)?{...e}:e})}function A(e){let t=e.map(e=>e.type).join(" | ");return new u({type:"union",schema:null,coercer(t,r){for(let n of e){let[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){let i=[];for(let t of e){let[...e]=f(r,t,n),[o]=e;if(!o[0])return[];for(let[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${s(r)}`,...i]}})}function z(){return d("unknown",()=>!0)}function _(e,t,r){return new u({...e,coercer:(n,i)=>c(n,t)[0]?e.coercer(n,i):e.coercer(r(n,i),i)})}}}]);