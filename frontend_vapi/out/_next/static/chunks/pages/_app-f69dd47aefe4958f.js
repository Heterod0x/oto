(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{35:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(i=r?r.call(n,d,u,c):void 0)||void 0===i&&d!==u)return!1}return!0}},614:(e,t,r)=>{"use strict";r.d(t,{n:()=>g});var n=r(27629),i=r(19556),a=r(76983),s=r(11371),o=r(38476),l=r(998),c=r(79712),d=r(77682),u=r(69409);function h(e,t={}){void 0!==t.size&&(0,d.Sl)(e,{size:t.size});let r=(0,u.My)(e,t);return(0,d.ME)(r,t)}var p=r(73831),f=r(98322);function g(e,t){let r="string"==typeof t?(0,p.aT)(t):t,g=(0,a.l)(r);if(0===(0,s.E)(r)&&e.length>0)throw new n.O;if((0,s.E)(t)&&32>(0,s.E)(t))throw new n.Iy({data:"string"==typeof t?t:(0,u.My)(t),params:e,size:(0,s.E)(t)});let y=0,w=[];for(let t=0;t<e.length;++t){let r=e[t];g.setPosition(y);let[a,s]=function e(t,r,{staticPosition:a}){let s=(0,f.k)(r.type);if(s){let[n,i]=s;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+h(t.readBytes(32)),a=n+32;t.setPosition(n);let s=h(t.readBytes(32)),o=m(r),l=0,c=[];for(let n=0;n<s;++n){t.setPosition(a+(o?32*n:l));let[i,s]=e(t,r,{staticPosition:a});l+=s,c.push(i)}return t.setPosition(i+32),[c,32]}if(m(r)){let a=i+h(t.readBytes(32)),s=[];for(let i=0;i<n;++i){t.setPosition(a+32*i);let[n]=e(t,r,{staticPosition:a});s.push(n)}return t.setPosition(i+32),[s,32]}let a=0,s=[];for(let o=0;o<n;++o){let[n,o]=e(t,r,{staticPosition:i+a});a+=o,s.push(n)}return[s,a]}(t,{...r,type:i},{length:n,staticPosition:a})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),a=i?[]:{},s=0;if(m(r)){let o=n+h(t.readBytes(32));for(let n=0;n<r.components.length;++n){let l=r.components[n];t.setPosition(o+s);let[c,d]=e(t,l,{staticPosition:o});s+=d,a[i?n:l?.name]=c}return t.setPosition(n+32),[a,32]}for(let o=0;o<r.components.length;++o){let l=r.components[o],[c,d]=e(t,l,{staticPosition:n});a[i?o:l?.name]=c,s+=d}return[a,s]}(t,r,{staticPosition:a});if("address"===r.type){var p=t;let e=p.readBytes(32);return[(0,i.o)((0,u.My)((0,o.A1)(e,-20))),32]}if("bool"===r.type)return[function(e,t={}){let r=e;if(void 0!==t.size&&((0,d.Sl)(r,{size:t.size}),r=(0,l.B)(r)),r.length>1||r[0]>1)throw new c.xO(r);return!!r[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=h(e.readBytes(32));e.setPosition(r+t);let n=h(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,u.My)(i),32]}return[(0,u.My)(e.readBytes(Number.parseInt(i),32)),32]}(t,r,{staticPosition:a});if(r.type.startsWith("uint")||r.type.startsWith("int")){var g=t,y=r;let e=y.type.startsWith("int"),n=Number.parseInt(y.type.split("int")[1]||"256"),i=g.readBytes(32);return[n>48?function(e,t={}){void 0!==t.size&&(0,d.Sl)(e,{size:t.size});let r=(0,u.My)(e,t);return(0,d.uU)(r,t)}(i,{signed:e}):h(i,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=h(e.readBytes(32));e.setPosition(t+r);let n=h(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),a=function(e,t={}){let r=e;return void 0!==t.size&&((0,d.Sl)(r,{size:t.size}),r=(0,l.B)(r,{dir:"right"})),new TextDecoder().decode(r)}((0,l.B)(i));return e.setPosition(t+32),[a,32]}(t,{staticPosition:a});throw new n.j(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(g,r,{staticPosition:0});y+=s,w.push(a)}return w}function m(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(m);let r=(0,f.k)(e.type);return!!(r&&m({...e,type:r[1]}))}},998:(e,t,r)=>{"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,i=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===t?e:r.length-e-1].toString())i++;else break;return(r="left"===t?r.slice(i):r.slice(0,r.length-i),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{B:()=>n})},1136:(e,t,r)=>{"use strict";r.d(t,{FO:()=>g,If:()=>x,Ji:()=>u,Rv:()=>l,WL:()=>f,Yo:()=>w,ej:()=>h,fC:()=>C,iB:()=>c,kz:()=>s,l9:()=>y,pc:()=>a,sP:()=>_,v7:()=>k,v8:()=>b});var n=r(51692);let i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function a(e){return i.test(e)}function s(e){return(0,n.Yv)(i,e)}let o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function l(e){return o.test(e)}function c(e){return(0,n.Yv)(o,e)}let d=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function u(e){return d.test(e)}function h(e){return(0,n.Yv)(d,e)}let p=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function f(e){return p.test(e)}function g(e){return(0,n.Yv)(p,e)}let m=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y(e){return m.test(e)}function w(e){return(0,n.Yv)(m,e)}let v=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function b(e){return v.test(e)}function x(e){return(0,n.Yv)(v,e)}let E=/^receive\(\) external payable$/;function _(e){return E.test(e)}let C=new Set(["indexed"]),k=new Set(["calldata","memory","storage"])},1887:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function o(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}r.d(t,{CC:()=>s,DO:()=>i,Fe:()=>n,Ht:()=>o,sd:()=>a})},1986:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o});let n=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,a=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function s(e,t){var r;return"__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t?void(r=e,console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)):t}function o(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!a.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(n.test(e)||i.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,s)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}},2452:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>p,Fc:()=>c,Id:()=>h,O8:()=>s,qv:()=>l,po:()=>g,Ow:()=>o,ZJ:()=>u,DH:()=>a,ld:()=>f});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(1887);function a(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function s(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o(e,t){return e<<32-t|e>>>t}let l=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function c(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}}(e,t)=>t.toString(16).padStart(2,"0");let d={_0:48,_9:57,A:65,F:70,a:97,f:102};function u(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),(0,i.DO)(e),e}function h(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];(0,i.DO)(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class p{clone(){return this._cloneInto()}}function f(e){let t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function g(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}},2458:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function a(e){return n(e)&&(s(e)||o(e))}function s(e){return"result"in e}function o(e){return"error"in e}r.d(t,{U$:()=>o,p3:()=>i,tq:()=>a,xT:()=>s})},2603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},3076:(e,t,r)=>{"use strict";var n=r(8640),i=r(34603);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},3117:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(76013),i=r(4609),a=r(34461);function s(e,{docsPath:t,...r}){let s=(()=>{let t=(0,a.l)(e,r);return t instanceof i.RM?e:t})();return new n.zX(s,{docsPath:t,...r})}},3680:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(90175),i=r(28060);function a(e,t){if(!(0,i.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}},3951:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(68658);let i=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,i,a);return a},a=e=>e?i(e):i,s=e=>e,o=e=>{let t=a(e),r=e=>(function(e,t=s){let r=n.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o},4609:(e,t,r)=>{"use strict";r.d(t,{A7:()=>a,BG:()=>s,Fo:()=>p,K0:()=>l,Oh:()=>c,RM:()=>m,jj:()=>o,k5:()=>u,lN:()=>g,lY:()=>h,uC:()=>f,vW:()=>d});var n=r(42507),i=r(98815);class a extends i.C{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class d extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class u extends i.C{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class h extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.Q)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},6219:(e,t,r)=>{var n,i=r(2272);!function(){"use strict";var a="input is invalid type",s="object"==typeof window,o=s?window:{};o.JS_SHA3_NO_WINDOW&&(s=!1);var l=!s&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?o=r.g:l&&(o=self);var c=!o.JS_SHA3_NO_COMMON_JS&&e.exports,d=r.amdO,u=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),p=[4,1024,262144,0x4000000],f=[0,8,16,24],g=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],m=[224,256,384,512],y=[128,256],w=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),u&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new M(e,t,e).update(n)[r]()}},x=function(e,t,r){return function(n,i){return new M(e,t,i).update(n)[r]()}},E=function(e,t,r){return function(t,n,i,a){return I["cshake"+e].update(t,n,i,a)[r]()}},_=function(e,t,r){return function(t,n,i,a){return I["kmac"+e].update(t,n,i,a)[r]()}},C=function(e,t,r,n){for(var i=0;i<w.length;++i){var a=w[i];e[a]=t(r,n,a)}return e},k=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new M(e,t,e)},r.update=function(e){return r.create().update(e)},C(r,b,e,t)},A=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:m,createMethod:k},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:m,createMethod:k},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:y,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new M(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},C(r,x,e,t)}},{name:"cshake",padding:p,bits:y,createMethod:function(e,t){var r=v[e],n=E(e,t,"hex");return n.create=function(n,i,a){return i||a?new M(e,t,n).bytepad([i,a],r):I["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},C(n,E,e,t)}},{name:"kmac",padding:p,bits:y,createMethod:function(e,t){var r=v[e],n=_(e,t,"hex");return n.create=function(n,i,a){return new R(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},C(n,_,e,t)}}],I={},S=[],T=0;T<A.length;++T)for(var P=A[T],j=P.bits,N=0;N<j.length;++N){var O=P.name+"_"+j[N];if(S.push(O),I[O]=P.createMethod(j[N],P.padding),"sha3"!==P.name){var $=P.name+j[N];S.push($),I[$]=I[O]}}function M(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function R(e,t,r){M.call(this,e,t,r)}M.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(a);else if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!u||!ArrayBuffer.isView(e)))throw Error(a)}else throw Error(a);t=!0}for(var n,i,s=this.blocks,o=this.byteCount,l=e.length,c=this.blockCount,d=0,h=this.s;d<l;){if(this.reset)for(n=1,this.reset=!1,s[0]=this.block;n<c+1;++n)s[n]=0;if(t)for(n=this.start;d<l&&n<o;++d)s[n>>2]|=e[d]<<f[3&n++];else for(n=this.start;d<l&&n<o;++d)(i=e.charCodeAt(d))<128?s[n>>2]|=i<<f[3&n++]:(i<2048?s[n>>2]|=(192|i>>6)<<f[3&n++]:(i<55296||i>=57344?s[n>>2]|=(224|i>>12)<<f[3&n++]:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|i>>18)<<f[3&n++],s[n>>2]|=(128|i>>12&63)<<f[3&n++]),s[n>>2]|=(128|i>>6&63)<<f[3&n++]),s[n>>2]|=(128|63&i)<<f[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=s[c],n=0;n<c;++n)h[n]^=s[n];D(h),this.reset=!0}else this.start=n}return this},M.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(e>>=8,r=255&e;r>0;)i.unshift(r),e>>=8,r=255&e,++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},M.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(a);else if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!u||!ArrayBuffer.isView(e)))throw Error(a)}else throw Error(a);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var o=e.charCodeAt(s);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},M.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)n[t]^=e[t];D(n)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,s=0,o="";s<n;){for(a=0;a<t&&s<n;++a,++s)o+=h[(e=r[a])>>4&15]+h[15&e]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15];s%t==0&&(D(r),a=0)}return i&&(o+=h[(e=r[a])>>4&15]+h[15&e],i>1&&(o+=h[e>>12&15]+h[e>>8&15]),i>2&&(o+=h[e>>20&15]+h[e>>16&15])),o},M.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,s=0,o=this.outputBits>>3,l=new Uint32Array(e=new ArrayBuffer(i?n+1<<2:o));s<n;){for(a=0;a<t&&s<n;++a,++s)l[s]=r[a];s%t==0&&D(r)}return i&&(l[a]=r[a],e=e.slice(0,o)),e},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,s=0,o=0,l=[];o<i;){for(s=0;s<r&&o<i;++s,++o)e=o<<2,t=n[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;o%r==0&&D(n)}return a&&(e=o<<2,t=n[s],l[e]=255&t,a>1&&(l[e+1]=t>>8&255),a>2&&(l[e+2]=t>>16&255)),l},R.prototype=new M,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var D=function(e){var t,r,n,i,a,s,o,l,c,d,u,h,p,f,m,y,w,v,b,x,E,_,C,k,A,I,S,T,P,j,N,O,$,M,R,D,L,U,F,B,W,z,q,H,V,G,K,J,Y,Z,Q,X,ee,et,er,en,ei,ea,es,eo,el,ec,ed;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49],t=h^(s<<1|o>>>31),r=p^(o<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(l<<1|c>>>31),r=a^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(d<<1|u>>>31),r=o^(u<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(h<<1|p>>>31),r=c^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(i<<1|a>>>31),r=u^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,f=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,eo=e[31]<<9|e[30]>>>23,el=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,M=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,w=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,j=e[33]<<13|e[32]>>>19,N=e[32]<<13|e[33]>>>19,ec=e[42]<<2|e[43]>>>30,ed=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,D=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,$=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ei=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,X=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,ea=e[29]<<7|e[28]>>>25,es=e[28]<<7|e[29]>>>25,B=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=f^~y&v,e[1]=m^~w&b,e[10]=k^~I&T,e[11]=A^~S&P,e[20]=M^~D&U,e[21]=R^~L&F,e[30]=H^~G&J,e[31]=V^~K&Y,e[40]=et^~en&ea,e[41]=er^~ei&es,e[2]=y^~v&x,e[3]=w^~b&E,e[12]=I^~T&j,e[13]=S^~P&N,e[22]=D^~U&B,e[23]=L^~F&W,e[32]=G^~J&Z,e[33]=K^~Y&Q,e[42]=en^~ea&eo,e[43]=ei^~es&el,e[4]=v^~x&_,e[5]=b^~E&C,e[14]=T^~j&O,e[15]=P^~N&$,e[24]=U^~B&z,e[25]=F^~W&q,e[34]=J^~Z&X,e[35]=Y^~Q&ee,e[44]=ea^~eo&ec,e[45]=es^~el&ed,e[6]=x^~_&f,e[7]=E^~C&m,e[16]=j^~O&k,e[17]=N^~$&A,e[26]=B^~z&M,e[27]=W^~q&R,e[36]=Z^~X&H,e[37]=Q^~ee&V,e[46]=eo^~ec&et,e[47]=el^~ed&er,e[8]=_^~f&y,e[9]=C^~m&w,e[18]=O^~k&I,e[19]=$^~A&S,e[28]=z^~M&D,e[29]=q^~R&L,e[38]=X^~H&G,e[39]=ee^~V&K,e[48]=ec^~et&en,e[49]=ed^~er&ei,e[0]^=g[n],e[1]^=g[n+1]};if(c)e.exports=I;else{for(T=0;T<S.length;++T)o[S[T]]=I[S[T]];d&&(void 0===(n=(function(){return I}).call(t,r,t,e))||(e.exports=n))}}()},7040:(e,t,r)=>{"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{o:()=>n})},8146:(e,t,r)=>{"use strict";r.d(t,{secp256k1:()=>e_});var n=r(69523),i=r(55425),a=r(69214);let s=BigInt(0),o=BigInt(1);function l(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function c(e){if(!l(e))throw Error("Uint8Array expected")}function d(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function u(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function h(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,f=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(c(e),p)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=f[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=y(e.charCodeAt(i)),a=y(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function v(e){return h(g(e))}function b(e){return c(e),h(g(Uint8Array.from(e).reverse()))}function x(e,t){return w(e.toString(16).padStart(2*t,"0"))}function E(e,t){return x(e,t).reverse()}function _(e,t,r){let n;if("string"==typeof t)try{n=w(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(l(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function C(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];c(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let k=e=>"bigint"==typeof e&&s<=e;function A(e,t,r){return k(e)&&k(t)&&k(r)&&t<=e&&e<r}function I(e,t,r,n){if(!A(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let S=e=>(o<<BigInt(e))-o,T=e=>new Uint8Array(e),P=e=>Uint8Array.from(e),j={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||l(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function N(e,t,r={}){let n=(t,r,n)=>{let i=j[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function O(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}let $=BigInt(0),M=BigInt(1),R=BigInt(2),D=BigInt(3),L=BigInt(4),U=BigInt(5),F=BigInt(8);function B(e,t){let r=e%t;return r>=$?r:t+r}function W(e,t,r){let n=e;for(;t-- >$;)n*=n,n%=r;return n}function z(e,t){if(e===$)throw Error("invert: expected non-zero number");if(t<=$)throw Error("invert: expected positive modulus, got "+t);let r=B(e,t),n=t,i=$,a=M,s=M,o=$;for(;r!==$;){let e=n/r,t=n%r,l=i-s*e,c=a-o*e;n=r,r=t,i=s,a=o,s=l,o=c}if(n!==M)throw Error("invert: does not exist");return B(i,t)}function q(e,t){let r=(e.ORDER+M)/L,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function H(e,t){let r=(e.ORDER-U)/F,n=e.mul(t,R),i=e.pow(n,r),a=e.mul(t,i),s=e.mul(e.mul(a,R),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),t))throw Error("Cannot find square root");return o}let V=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),a=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),a),n}function K(e,t){let r=(e.ORDER-M)/R,n=e.pow(t,r),i=e.eql(n,e.ONE),a=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!a&&!s)throw Error("invalid Legendre symbol result");return i?1:a?0:-1}function J(e,t){void 0!==t&&(0,a.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Y(e,t,r=!1,n={}){let i;if(e<=$)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:a,nByteLength:s}=J(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:s,MASK:S(a),ZERO:$,ONE:M,create:t=>B(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return $<=t&&t<e},is0:e=>e===$,isOdd:e=>(e&M)===M,neg:t=>B(-t,e),eql:(e,t)=>e===t,sqr:t=>B(t*t,e),add:(t,r)=>B(t+r,e),sub:(t,r)=>B(t-r,e),mul:(t,r)=>B(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<$)throw Error("invalid exponent, negatives unsupported");if(r===$)return e.ONE;if(r===M)return t;let n=e.ONE,i=t;for(;r>$;)r&M&&(n=e.mul(n,i)),i=e.sqr(i),r>>=M;return n})(o,e,t),div:(t,r)=>B(t*z(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>z(t,e),sqrt:n.sqrt||(t=>(i||(i=e%L===D?q:e%F===U?H:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-M,r=0;for(;t%R===$;)t/=R,r++;let n=R,i=Y(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return q;let a=i.pow(n,t),s=(t+M)/R;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,a),l=e.pow(n,t),c=e.pow(n,s);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=M<<BigInt(i-t-1),a=e.pow(o,n);i=t,o=e.sqr(a),l=e.mul(l,o),c=e.mul(c,a)}return c}}(e)),i(o,t))),toBytes:e=>r?E(e,s):x(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?b(e):v(e)},invertBatch:e=>G(o,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(o)}function Z(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function Q(e){let t=Z(e);return t+Math.ceil(t/2)}let X=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:S(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:a,shiftBy:s}=r,o=Number(e&i),l=e>>s;o>n&&(o-=a,l+=ee);let c=t*n,d=c+Math.abs(o)-1,u=0===o;return{nextN:l,offset:d,isZero:u,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let ea=new WeakMap,es=new WeakMap;function eo(e){return es.get(e)||1}function el(e){return N(e.Fp,V.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),N(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function ec(e){void 0!==e.lowS&&d("lowS",e.lowS),void 0!==e.prehash&&d("prehash",e.prehash)}class ed extends Error{constructor(e=""){super(e)}}let eu={Err:ed,_tlv:{encode:(e,t)=>{let{Err:r}=eu;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=u(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?u(i.length/2|128):"";return u(e)+a+i+t},decode(e,t){let{Err:r}=eu,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=eu;if(e<eh)throw new t("integer: negative integers are not allowed");let r=u(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eu;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=eu,i=_("signature",e),{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,a),{v:c,l:d}=n.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=eu,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},eh=BigInt(0),ep=BigInt(1),ef=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ew=BigInt(0),ev=BigInt(1),eb=BigInt(2),ex=(e,t)=>(e+t/eb)/t,eE=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),l=e*e*e%em,c=l*l*e%em,d=W(c,t,em)*c%em,u=W(d,t,em)*c%em,h=W(u,eb,em)*l%em,p=W(h,n,em)*h%em,f=W(p,i,em)*p%em,g=W(f,s,em)*f%em,m=W(g,o,em)*g%em,y=W(m,s,em)*f%em,w=W(y,t,em)*c%em,v=W(w,a,em)*p%em,b=W(v,r,em)*l%em,x=W(b,eb,em);if(!eE.eql(eE.sqr(x),e))throw Error("Cannot find square root");return x}}),e_=function(e,t){let r=t=>(function(e){let t=function(e){let t=el(e);return N(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:a}=t,c=r.BYTES+1,u=2*r.BYTES+1;function h(e){return B(e,n)}let{ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:m,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=el(e);N(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),a=r.toBytes||((e,t,r)=>{let i=t.toAffine();return C(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),c=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function u(e){let{a:t,b:i}=r,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,t)),i)}function h(e,t){let r=n.sqr(t),i=u(e);return n.eql(r,i)}if(!h(r.Gx,r.Gy))throw Error("bad curve params: generator point");let p=n.mul(n.pow(r.a,ef),eg),f=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(p,f)))throw Error("bad curve params: a or b");function m(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:s}=r;if(n&&"bigint"!=typeof e){if(l(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(_("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return a&&(t=B(t,s)),I("private key",t,ep,s),t}function y(e){if(!(e instanceof x))throw Error("ProjectivePoint expected")}let w=O((e,t)=>{let{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),b=O(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!h(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class x{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof x)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?x.ZERO:new x(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=G(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(x.fromAffine)}static fromHex(e){let t=x.fromAffine(c(_("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return x.BASE.multiply(m(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,a=n.length;if(i!==a)throw Error("arrays of points and scalars must have equal length");let l=e.ZERO,c=function(e){let t;for(t=0;e>s;e>>=o,t+=1);return t}(BigInt(i)),d=1;c>12?d=c-3:c>4?d=c-2:c>0&&(d=2);let u=S(d),h=Array(Number(u)+1).fill(l),p=Math.floor((t.BITS-1)/d)*d,f=l;for(let e=p;e>=0;e-=d){h.fill(l);for(let t=0;t<a;t++){let i=Number(n[t]>>BigInt(e)&u);h[i]=h[i].add(r[t])}let t=l;for(let e=h.length-1,r=l;e>0;e--)r=r.add(h[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<d;e++)f=f.double()}return f}(x,i,e,t)}_setWindowSize(e){T.setWindowSize(this,e)}assertValidity(){b(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(a,i)),c=n.eql(n.mul(r,o),n.mul(s,i));return l&&c}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ef),{px:a,py:s,pz:o}=this,l=n.ZERO,c=n.ZERO,d=n.ZERO,u=n.mul(a,a),h=n.mul(s,s),p=n.mul(o,o),f=n.mul(a,s);return f=n.add(f,f),d=n.mul(a,o),d=n.add(d,d),l=n.mul(e,d),c=n.mul(i,p),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(f,l),d=n.mul(i,d),p=n.mul(e,p),f=n.sub(u,p),f=n.mul(e,f),f=n.add(f,d),d=n.add(u,u),u=n.add(d,u),u=n.add(u,p),u=n.mul(u,f),c=n.add(c,u),p=n.mul(s,o),p=n.add(p,p),u=n.mul(p,f),l=n.sub(l,u),d=n.mul(p,h),d=n.add(d,d),new x(l,c,d=n.add(d,d))}add(e){y(e);let{px:t,py:i,pz:a}=this,{px:s,py:o,pz:l}=e,c=n.ZERO,d=n.ZERO,u=n.ZERO,h=r.a,p=n.mul(r.b,ef),f=n.mul(t,s),g=n.mul(i,o),m=n.mul(a,l),w=n.add(t,i),v=n.add(s,o);w=n.mul(w,v),v=n.add(f,g),w=n.sub(w,v),v=n.add(t,a);let b=n.add(s,l);return v=n.mul(v,b),b=n.add(f,m),v=n.sub(v,b),b=n.add(i,a),c=n.add(o,l),b=n.mul(b,c),c=n.add(g,m),b=n.sub(b,c),u=n.mul(h,v),c=n.mul(p,m),u=n.add(c,u),c=n.sub(g,u),u=n.add(g,u),d=n.mul(c,u),g=n.add(f,f),g=n.add(g,f),m=n.mul(h,m),v=n.mul(p,v),g=n.add(g,m),m=n.sub(f,m),m=n.mul(h,m),v=n.add(v,m),f=n.mul(g,v),d=n.add(d,f),f=n.mul(b,v),c=n.mul(w,c),c=n.sub(c,f),f=n.mul(w,g),u=n.mul(b,u),new x(c,d,u=n.add(u,f))}subtract(e){return this.add(e.negate())}is0(){return this.equals(x.ZERO)}wNAF(e){return T.wNAFCached(this,e,x.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;I("scalar",e,eh,i);let a=x.ZERO;if(e===eh)return a;if(this.is0()||e===ep)return this;if(!t||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,e,x.normalizeZ);let{k1neg:s,k1:o,k2neg:l,k2:c}=t.splitScalar(e),d=a,u=a,h=this;for(;o>eh||c>eh;)o&ep&&(d=d.add(h)),c&ep&&(u=u.add(h)),h=h.double(),o>>=ep,c>>=ep;return s&&(d=d.negate()),l&&(u=u.negate()),u=new x(n.mul(u.px,t.beta),u.py,u.pz),d.add(u)}multiply(e){let t,i,{endo:a,n:s}=r;if(I("scalar",e,ep,s),a){let{k1neg:r,k1:s,k2neg:o,k2:l}=a.splitScalar(e),{p:c,f:d}=this.wNAF(s),{p:u,f:h}=this.wNAF(l);c=T.constTimeNegate(r,c),u=T.constTimeNegate(o,u),u=new x(n.mul(u.px,a.beta),u.py,u.pz),t=c.add(u),i=d.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return x.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=x.BASE,i=(e,t)=>t!==eh&&t!==ep&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){return w(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ep)return!0;if(t)return t(x,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ep?this:t?t(x,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return d("isCompressed",e),this.assertValidity(),a(x,this,e)}toHex(e=!0){return d("isCompressed",e),g(this.toRawBytes(e))}}x.BASE=new x(r.Gx,r.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO);let{endo:E,nBitLength:k}=r,T=(t=E?Math.ceil(k/2):k,{constTimeNegate:et,hasPrecomputes:e=>1!==eo(e),unsafeLadder(e,t,r=x.ZERO){let n=e;for(;t>X;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let i=x.ZERO,a=x.BASE,s=en(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:c,isNegF:d,offsetF:u}=ei(n,e,s);n=t,l?a=a.add(et(d,r[u])):i=i.add(et(c,r[o]))}return{p:i,f:a}},wNAFUnsafe(e,r,n,i=x.ZERO){let a=en(e,t);for(let e=0;e<a.windows&&n!==X;e++){let{nextN:t,offset:s,isZero:o,isNeg:l}=ei(n,e,a);if(n=t,!o){let e=r[s];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=ea.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ea.set(t,r(n))),n},wNAFCached(e,t,r){let n=eo(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eo(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),es.set(e,r),ea.delete(e)}});return{CURVE:r,ProjectivePoint:x,normPrivateKeyToScalar:m,weierstrassEquation:u,isWithinCurveOrder:function(e){return A(e,ep,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),a=r.toBytes(i.x);return(d("isCompressed",n),n)?C(Uint8Array.from([t.hasEvenY()?2:3]),a):C(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===c&&(2===n||3===n)){let e,t=v(i);if(!A(t,ep,r.ORDER))throw Error("Point is not on curve");let a=m(t);try{e=r.sqrt(a)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ep)===ep)&&(e=r.neg(e)),{x:t,y:e}}if(t===u&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+c+", or uncompressed "+u+", got "+t)}}),k=(e,t,r)=>v(e.slice(t,r));class j{constructor(e,t,r){I("r",e,ep,n),I("s",t,ep,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new j(k(e=_("compactSignature",e,2*i),0,i),k(e,i,2*i))}static fromDER(e){let{r:t,s:r}=eu.toSig(_("DER",e));return new j(t,r)}assertValidity(){}addRecoveryBit(e){return new j(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:a,recovery:s}=this,o=D(_("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let l=2===s||3===s?i+t.n:i;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let c=(1&s)==0?"02":"03",d=p.fromHex(c+g(x(l,r.BYTES))),u=z(l,n),f=h(-o*u),m=h(a*u),y=p.BASE.multiplyAndAddUnsafe(d,f,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>ep}normalizeS(){return this.hasHighS()?new j(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){return eu.hexFromSig(this)}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return g(x(this.r,i))+g(x(this.s,i))}}function $(e){if("bigint"==typeof e)return!1;if(e instanceof p)return!0;let n=_("key",e).length,a=r.BYTES,s=a+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*a+1}let R=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-a;return r>0?t>>BigInt(r):t},D=t.bits2int_modN||function(e){return h(R(e))},L=S(a);function U(e){return I("num < 2^"+a,e,eh,L),x(e,i)}let F={lowS:t.lowS,prehash:!1},W={lowS:t.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return p.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===$(e))throw Error("first arg must be private key");if(!1===$(t))throw Error("second arg must be public key");return p.fromHex(t).multiply(f(e)).toRawBytes(r)},sign:function(e,i,a=F){let{seed:s,k2sig:o}=function(e,i,a=F){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:o}=t,{lowS:l,prehash:c,extraEntropy:d}=a;null==l&&(l=!0),e=_("msgHash",e),ec(a),c&&(e=_("prehashed msgHash",s(e)));let u=D(e),g=f(i),m=[U(g),U(u)];if(null!=d&&!1!==d){let e=!0===d?o(r.BYTES):d;m.push(_("extraEntropy",e))}return{seed:C(...m),k2sig:function(e){var t;let r=R(e);if(!y(r))return;let i=z(r,n),a=p.BASE.multiply(r).toAffine(),s=h(a.x);if(s===eh)return;let o=h(i*h(u+s*g));if(o===eh)return;let c=2*(a.x!==s)|Number(a.y&ep),d=o;return l&&o>n>>ep&&(d=(t=o)>n>>ep?h(-t):t,c^=1),new j(s,d,c)}}}(e,i,a);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=T(e),i=T(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=T(0))=>{i=o(P([0]),e),n=o(),0!==e.length&&(i=o(P([1]),e),n=o())},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return C(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,o)},verify:function(e,r,i,a=W){let s,o;r=_("msgHash",r),i=_("publicKey",i);let{lowS:c,prehash:d,format:u}=a;if(ec(a),"strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw Error("format must be compact or der");let f="string"==typeof e||l(e),g=!f&&!u&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!f&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(o=new j(e.r,e.s)),f){try{"compact"!==u&&(o=j.fromDER(e))}catch(e){if(!(e instanceof eu.Err))throw e}o||"der"===u||(o=j.fromCompact(e))}s=p.fromHex(i)}catch(e){return!1}if(!o||c&&o.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:y}=o,w=D(r),v=z(y,n),b=h(w*v),x=h(m*v),E=p.BASE.multiplyAndAddUnsafe(s,b,x)?.toAffine();return!!E&&h(E.x)===m},ProjectivePoint:p,Signature:j,utils:{isValidPrivateKey(e){try{return f(e),!0}catch(e){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let e=Q(t.n);return function(e,t,r=!1){let n=e.length,i=Z(t),a=Q(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let s=B(r?b(e):v(e),t-M)+M;return r?E(s,i):x(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=p.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,...{hash:t,hmac:(e,...r)=>(0,i.w)(t,e,(0,a.Id)(...r)),randomBytes:a.po}});return{...r(t),create:r}}({a:ew,b:BigInt(7),Fp:eE,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=ex(t*e,ey),s=ex(-r*e,ey),o=B(e-a*t-s*n,ey),l=B(-a*r-s*t,ey),c=o>i,d=l>i;if(c&&(o=ey-o),d&&(l=ey-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:d,k2:l}}}},n.sc),eC={},ek=e=>e.toRawBytes(!0).slice(1),eA=e=>mod(e,ey)},8542:(e,t,r)=>{"use strict";r.d(t,{EH:()=>a,YE:()=>o,jF:()=>s,rj:()=>i});var n=r(98815);class i extends n.C{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class a extends n.C{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class s extends n.C{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}class o extends n.C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}n.C},8570:(e,t,r)=>{var n=r(72076).Buffer;let{keccak_256:i}=r(8767);function a(e){return n.allocUnsafe(e).fill(0)}function s(e,t){let r=e.toString(16);r.length%2!=0&&(r="0"+r);let i=r.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return n.from(i)}function o(e,t,r){let n=a(t);return(e=l(e),r)?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function l(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"==typeof e){var t;e=c(e)?n.from((t=d(e)).length%2?"0"+t:t,"hex"):n.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=n.allocUnsafe(0);else if("bigint"==typeof e)e=s(e);else if(e.toArray)e=n.from(e.toArray());else throw Error("invalid type");return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function d(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:a,setLength:o,setLengthRight:function(e,t){return o(e,t,!0)},isHexString:c,stripHexPrefix:d,toBuffer:l,bufferToHex:function(e){return"0x"+(e=l(e)).toString("hex")},keccak:function(e,t){if(e=l(e),t||(t=256),256!==t)throw Error("unsupported");return n.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:s,twosFromBigInt:function(e,t){let r;return(e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e)&(1n<<BigInt(t))-1n}}},8640:(e,t,r)=>{"use strict";var n=r(34603);function i(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function s(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}t.inherits=r(93544),t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a,s,o=e.charCodeAt(i);o<128?r[n++]=o:(o<2048?r[n++]=o>>6|192:((a=e,s=i,(64512&a.charCodeAt(s))!=55296||s<0||s+1>=a.length?1:(64512&a.charCodeAt(s+1))!=56320)?r[n++]=o>>12|224:(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128),r[n++]=o>>6&63|128),r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=i,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=i(a)),r+=s(a.toString(16))}return r},t.zero2=a,t.zero8=s,t.join32=function(e,t,r,i){var a,s=r-t;n(s%4==0);for(var o=Array(s/4),l=0,c=t;l<o.length;l++,c+=4)a="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[l]=a>>>0;return o},t.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0;e[t]=+(a<n)+r+i>>>0,e[t+1]=a},t.sum64_hi=function(e,t,r,n){return+(t+n>>>0<t)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,a,s,o){var l,c=t;return e+r+i+s+(l=0+ +((c=c+n>>>0)<t)+ +((c=c+a>>>0)<a)+ +((c=c+o>>>0)<o))>>>0},t.sum64_4_lo=function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},t.sum64_5_hi=function(e,t,r,n,i,a,s,o,l,c){var d,u=t;return e+r+i+s+l+(d=0+ +((u=u+n>>>0)<t)+ +((u=u+a>>>0)<a)+ +((u=u+o>>>0)<o)+ +((u=u+c>>>0)<c))>>>0},t.sum64_5_lo=function(e,t,r,n,i,a,s,o,l,c){return t+n+a+o+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},8767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=v;let n=r(38986),i=r(45909),a=BigInt(0),s=BigInt(1),o=BigInt(2),l=BigInt(7),c=BigInt(256),d=BigInt(113),u=[],h=[],p=[];for(let e=0,t=s,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],u.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=a;for(let e=0;e<7;e++)(t=(t<<s^(t>>l)*d)%c)&o&&(i^=s<<(s<<BigInt(e))-s);p.push(i)}let f=(0,n.split)(p,!0),g=f[0],m=f[1],y=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),w=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function v(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=y(a,s,1)^r[n],l=w(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],a=y(t,i,n),s=w(t,i,n),o=u[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=m[n]}(0,i.clean)(r)}class b extends i.Hash{constructor(e,t,r,n=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=a,(0,i.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),v(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new b(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}t.Keccak=b;let x=(e,t,r)=>(0,i.createHasher)(()=>new b(t,e,r));t.sha3_224=x(6,144,28),t.sha3_256=x(6,136,32),t.sha3_384=x(6,104,48),t.sha3_512=x(6,72,64),t.keccak_224=x(1,144,28),t.keccak_256=x(1,136,32),t.keccak_384=x(1,104,48),t.keccak_512=x(1,72,64);let E=(e,t,r)=>(0,i.createXOFer)((n={})=>new b(t,e,void 0===n.dkLen?r:n.dkLen,!0));t.shake128=E(31,168,16),t.shake256=E(31,136,32)},9168:(e,t,r)=>{"use strict";r.d(t,{_o:()=>y,Pj:()=>g,uT:()=>u});var n=r(51692),i=r(25783),a=r(96851),s=r(21892),o=r(71804);class l extends o.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let c=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var d=r(1136);function u(e,t={}){if((0,d.Ji)(e))return function(e,t={}){let r=(0,d.ej)(e);if(!r)throw new s.s7({signature:e,type:"function"});let n=m(r.parameters),i=[],a=n.length;for(let e=0;e<a;e++)i.push(g(n[e],{modifiers:d.v7,structs:t,type:"function"}));let o=[];if(r.returns){let e=m(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(g(e[r],{modifiers:d.v7,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}(e,t);if((0,d.Rv)(e))return function(e,t={}){let r=(0,d.iB)(e);if(!r)throw new s.s7({signature:e,type:"event"});let n=m(r.parameters),i=[],a=n.length;for(let e=0;e<a;e++)i.push(g(n[e],{modifiers:d.fC,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if((0,d.pc)(e))return function(e,t={}){let r=(0,d.kz)(e);if(!r)throw new s.s7({signature:e,type:"error"});let n=m(r.parameters),i=[],a=n.length;for(let e=0;e<a;e++)i.push(g(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if((0,d.l9)(e))return function(e,t={}){let r=(0,d.Yo)(e);if(!r)throw new s.s7({signature:e,type:"constructor"});let n=m(r.parameters),i=[],a=n.length;for(let e=0;e<a;e++)i.push(g(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,d.v8)(e)){var r=e;let t=(0,d.If)(r);if(!t)throw new s.s7({signature:r,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}if((0,d.sP)(e))return{type:"receive",stateMutability:"payable"};throw new s.x8({signature:e})}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^u?int$/;function g(e,t){var r,s;let o,l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(c.has(l))return c.get(l);let u=n.wj.test(e),v=(0,n.Yv)(u?p:h,e);if(!v)throw new a.dV({param:e});if(v.name&&("address"===(r=v.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.BD.test(r)||n.Ge.test(r)||w.test(r)))throw new a.zd({param:e,name:v.name});let b=v.name?{name:v.name}:{},x="indexed"===v.modifier?{indexed:!0}:{},E=t?.structs??{},_={};if(u){o="tuple";let e=m(v.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(g(e[n],{structs:E}));_={components:t}}else if(v.type in E)o="tuple",_={components:E[v.type]};else if(f.test(v.type))o=`${v.type}256`;else if(o=v.type,t?.type!=="struct"&&!y(o))throw new i.UG({type:o});if(v.modifier){if(!t?.modifiers?.has?.(v.modifier))throw new a.NO({param:e,type:t?.type,modifier:v.modifier});if(d.v7.has(v.modifier)&&(s=o,!v.array&&"bytes"!==s&&"string"!==s&&"tuple"!==s))throw new a.Pj({param:e,type:t?.type,modifier:v.modifier})}let C={type:`${o}${v.array??""}`,...b,...x,..._};return c.set(l,C),C}function m(e,t=[],r="",n=0){let i=e.trim().length;for(let a=0;a<i;a++){let i=e[a],s=e.slice(a+1);switch(i){case",":return 0===n?m(s,[...t,r.trim()]):m(s,t,`${r}${i}`,n);case"(":return m(s,t,`${r}${i}`,n+1);case")":return m(s,t,`${r}${i}`,n-1);default:return m(s,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new l({current:r,depth:n});return t.push(r.trim()),t}function y(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.BD.test(e)||n.Ge.test(e)}let w=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},10316:(e,t,r)=>{"use strict";r.d(t,{o0:()=>p});var n=r(2272),i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},a=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},o=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?f(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?f(navigator.userAgent):void 0!==n&&n.version?new s(n.version.slice(1)):null}function f(e){var t,r=""!==(t=e)&&u.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var a=i.exec(t);return!!a&&[n,a]},!1);if(!r)return null;var n=r[0],s=r[1];if("searchbot"===n)return new l;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<3&&(c=i(i([],c,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-c.length),!0)):c=[];var p=c.join("."),f=function(e){for(var t=0,r=h.length;t<r;t++){var n=h[t],i=n[0];if(n[1].exec(e))return i}return null}(e),g=d.exec(e);return g&&g[1]?new o(n,p,f,g[1]):new a(n,p,f)}},10420:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>I});var i=r(1986),a=r(72076).Buffer;function s(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function o(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return o(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let l="base64:";function c(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function d(e){return(e=c(e))?e+":":""}let u=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function h(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function p(e){"function"==typeof e.dispose&&await s(e.dispose)}function f(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function g(e,t){let r,n=()=>{if(r)return r;let n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),(r=f(n)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r};return(e,r)=>n().then(n=>r(n.transaction(t,e).objectStore(t)))}function m(){return n||(n=g("keyval-store","keyval")),n}function y(e,t=m()){return t("readonly",t=>f(t.get(e)))}var w=r(43617),v=(e={})=>{let t,r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=g(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await y(n(e),t)>"u"),getItem:async e=>await y(n(e),t)??null,setItem:(e,r)=>(function(e,t,r=m()){return r("readwrite",r=>(r.put(t,e),f(r.transaction)))})(n(e),r,t),removeItem:e=>(function(e,t=m()){return t("readwrite",t=>(t.delete(e),f(t.transaction)))})(n(e),t),getKeys:()=>(function(e=m()){return e("readonly",e=>{var t,r;if(e.getAllKeys)return f(e.getAllKeys());let n=[];return(t=e,r=e=>n.push(e.key),t.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},f(t.transaction)).then(()=>n)})})(t),clear:()=>(function(e=m()){return e("readwrite",e=>(e.clear(),f(e.transaction)))})(t)}};class b{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||u()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),f=(e,r)=>{if(t.watching)for(let n of(r=c(r),t.watchListeners))n(e,r)},g=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await h(t.mounts[e],f,e)},m=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},y=(e,t,n)=>{let i=new Map,a=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=c(e?n:n.key),s=e?void 0:n.value,o=e||!n.options?t:{...t,...n.options},l=r(i);a(l).items.push({key:i,value:s,relativeKey:l.relativeKey,options:o})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},w={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=c(e));return s(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:a}=r(e=c(e));return s(a.getItem,n,t).then(e=>(0,i.Ay)(e))},getItems:(e,t={})=>y(e,t,e=>e.driver.getItems?s(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return c(e.join(":"))}(e.base,t.key),value:(0,i.Ay)(t.value)}))):Promise.all(e.items.map(t=>s(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,i.Ay)(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=c(e));return i.getItemRaw?s(i.getItemRaw,n,t):s(i.getItem,n,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(l)?(t=e.slice(l.length),globalThis.Buffer?a.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,n={}){if(void 0===t)return w.removeItem(e);let{relativeKey:i,driver:a}=r(e=c(e));a.setItem&&(await s(a.setItem,i,o(t),n),a.watch||f("update",e))},async setItems(e,t){await y(e,t,async e=>{if(e.driver.setItems)return s(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:o(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>s(e.driver.setItem,t.relativeKey,o(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return w.removeItem(e,n);let{relativeKey:i,driver:o}=r(e=c(e));if(o.setItemRaw)await s(o.setItemRaw,i,t,n);else{var d;if(!o.setItem)return;await s(o.setItem,i,"string"==typeof t?t:l+(d=t,globalThis.Buffer?a.from(d).toString("base64"):globalThis.btoa(String.fromCodePoint(...d))),n)}o.watch||f("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:i}=r(e=c(e));i.removeItem&&(await s(i.removeItem,n,t),(t.removeMeta||t.removeMata)&&await s(i.removeItem,n+"$",t),i.watch||f("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:a}=r(e=c(e)),o=Object.create(null);if(a.getMeta&&Object.assign(o,await s(a.getMeta,n,t)),!t.nativeOnly){let e=await s(a.getItem,n+"$",t).then(e=>(0,i.Ay)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=d(e),!0),i=[],a=[],o=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(o=!1),await s(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+c(r);i.some(e=>t.startsWith(e))||a.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}let l=void 0!==t.maxDepth&&!o;return a.filter(r=>{var n;return(!l||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=d(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?s(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>p(e)))},watch:async e=>(await g(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await m()}),async unwatch(){t.watchListeners=[],await m()},mount(e,r){if((e=d(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(h(r,f,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),w},async unmount(e,r=!0){(e=d(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await p(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=c(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=c(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>w.getKeys(e,t),get:(e,t={})=>w.getItem(e,t),set:(e,t,r={})=>w.setItem(e,t,r),has:(e,t={})=>w.hasItem(e,t),del:(e,t={})=>w.removeItem(e,t),remove:(e,t={})=>w.removeItem(e,t)};return w}({driver:v({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,w.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var x="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},E={exports:{}};function _(e){var t;return[e[0],(0,w.j)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof x&&x.localStorage?E.exports=x.localStorage:"u">typeof window&&window.localStorage?E.exports=window.localStorage:E.exports=new e}();class C{constructor(){this.localStorage=E.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,w.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,w.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let k=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1)return void r(t);let a=await e.getKeys();if(!a.length)return void r(t);let s=[];for(;a.length;){let r=a.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),s.push(r)}}await t.setItem(n,1),r(t),A(e,s)},A=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class I{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new C;this.storage=e;try{let t=new b;k(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},10476:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(89235);function i(e){return{address:e.address,amount:n.oB(e.amount),index:n.oB(e.index),validatorIndex:n.oB(e.validatorIndex)}}function a(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},10780:(e,t,r)=>{"use strict";var n=r(8640),i=r(16934),a=n.rotl32,s=n.sum32,o=n.sum32_3,l=n.sum32_4,c=i.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function u(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(d,c),t.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],d=this.h[4],m=r,y=n,w=i,v=c,b=d,x=0;x<80;x++){var E,_,C=s(a(l(r,u(x,n,i,c),e[h[x]+t],(E=x)<=15?0:E<=31?0x5a827999:E<=47?0x6ed9eba1:E<=63?0x8f1bbcdc:0xa953fd4e),f[x]),d);r=d,d=c,c=a(i,10),i=n,n=C,C=s(a(l(m,u(79-x,y,w,v),e[p[x]+t],(_=x)<=15?0x50a28be6:_<=31?0x5c4dd124:_<=47?0x6d703ef3:0x7a6d76e9*!!(_<=63)),g[x]),b),m=b,b=v,v=a(w,10),w=y,y=C}C=o(this.h[1],i,v),this.h[1]=o(this.h[2],c,b),this.h[2]=o(this.h[3],d,m),this.h[3]=o(this.h[4],r,y),this.h[4]=o(this.h[0],n,w),this.h[0]=C},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},10815:(e,t,r)=>{let n=r(49900);t.render=function(e,t,r){var i;let a=r,s=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),a=n.getOptions(a);let o=n.getImageWidth(e.modules.size,a),l=s.getContext("2d"),c=l.createImageData(o,o);return n.qrToImageData(c.data,e,a),i=s,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px",l.putImageData(c,0,0),s},t.renderToDataURL=function(e,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});let a=t.render(e,r,i),s=i.type||"image/png",o=i.rendererOpts||{};return a.toDataURL(s,o.quality)}},11371:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(81063);function i(e){return(0,n.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},11379:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(31120);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:a=()=>!0}={}){return new Promise((i,s)=>{let o=async({count:l=0}={})=>{let c=async({error:e})=>{let r="function"==typeof t?t({count:l,error:e}):t;r&&await (0,n.u)(r),o({count:l+1})};try{let t=await e();i(t)}catch(e){if(l<r&&await a({count:l,error:e}))return c({error:e});s(e)}};o()})}},12242:(e,t,r)=>{"use strict";r.d(t,{T:()=>k});var n=r(1136),i=r(45580),a=r(9168);function s(e){let t=(0,i.e)(e),r=[],s=e.length;for(let i=0;i<s;i++){let s=e[i];(0,n.WL)(s)||r.push((0,a.uT)(s,t))}return r}var o=r(10476),l=r(31084),c=r(94726),d=r(30700),u=r(98815),h=r(8542),p=r(76013),f=r(87173),g=r(37599),m=r(79345),y=r(51820),w=r(69409),v=r(3117),b=r(7040),x=r(95950),E=r(40398),_=r(93322),C=r(65143);async function k(e,t){let{account:n=e.account,authorizationList:i,batch:a=!!e.batch?.multicall,blockNumber:c,blockTag:f="latest",accessList:m,blobs:y,blockOverrides:E,code:k,data:I,factory:S,factoryData:T,gas:P,gasPrice:j,maxFeePerBlobGas:N,maxFeePerGas:O,maxPriorityFeePerGas:$,nonce:M,to:R,value:D,stateOverride:L,...U}=t,F=n?(0,l.J)(n):void 0;if(k&&(S||T))throw new u.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(k&&R)throw new u.C("Cannot provide both `code` & `to` as parameters.");let B=k&&I,W=S&&T&&R&&I,z=B||W,q=B?function(e){let{code:t,data:r}=e;return(0,g.m)({abi:s(["constructor(bytes, bytes)"]),bytecode:d.LX,args:[t,r]})}({code:k,data:I}):W?function(e){let{data:t,factory:r,factoryData:n,to:i}=e;return(0,g.m)({abi:s(["constructor(address, bytes, address, bytes)"]),bytecode:d.WN,args:[i,t,r,n]})}({data:I,factory:S,factoryData:T,to:R}):I;try{(0,C.c)(t);let r=("bigint"==typeof c?(0,w.cK)(c):void 0)||f,n=E?o.J(E):void 0,s=(0,_.yH)(L),l=e.chain?.formatters?.transactionRequest?.format,d=(l||x.Bv)({...(0,b.o)(U,{format:l}),from:F?.address,accessList:m,authorizationList:i,blobs:y,data:q,gas:P,gasPrice:j,maxFeePerBlobGas:N,maxFeePerGas:O,maxPriorityFeePerGas:$,nonce:M,to:z?void 0:R,value:D});if(a&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:d})&&!s&&!n)try{return await A(e,{...d,blockNumber:c,blockTag:f})}catch(e){if(!(e instanceof h.YE)&&!(e instanceof h.rj))throw e}let u=(()=>{let e=[d,r];return s&&n?[...e,s,n]:s?[...e,s]:n?[...e,{},n]:e})(),p=await e.request({method:"eth_call",params:u});if("0x"===p)return{data:void 0};return{data:p}}catch(s){let n=function(e){if(!(e instanceof u.C))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(s),{offchainLookup:i,offchainLookupSignature:a}=await r.e(8843).then(r.bind(r,8843));if(!1!==e.ccipRead&&n?.slice(0,10)===a&&R)return{data:await i(e,{data:n,to:R})};if(z&&n?.slice(0,10)==="0x101bb98d")throw new p.Po({factory:S});throw(0,v.d)(s,{...t,account:F,chain:e.chain})}}async function A(e,t){let{batchSize:r=1024,wait:n=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:s,multicallAddress:o,to:l}=t,d=o;if(!d){if(!e.chain)throw new h.YE;d=(0,y.M)({blockNumber:i,chain:e.chain,contract:"multicall3"})}let u=("bigint"==typeof i?(0,w.cK)(i):void 0)||a,{schedule:g}=(0,E.u)({id:`${e.uid}.${u}`,wait:n,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,m.p)({abi:c.v2,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:n,to:d},u]});return(0,f.e)({abi:c.v2,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:v,success:b}]=await g({data:s,to:l});if(!b)throw new p.$S({data:v});return"0x"===v?{data:void 0}:{data:v}}},12597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},13463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68362);n.__exportStar(r(47296),t),n.__exportStar(r(52116),t)},14356:(e,t,r)=>{let n=r(64325),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return a[(e-1)*4+0];case n.M:return a[(e-1)*4+1];case n.Q:return a[(e-1)*4+2];case n.H:return a[(e-1)*4+3];default:return}}},14661:(e,t,r)=>{let n=r(69767);t.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<t.length;a++)r[i+a]^=n.mul(e[i],t[a]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let e=r[0];for(let i=0;i<t.length;i++)r[i]^=n.mul(t[i],e);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let i=0;i<e;i++)r=t.mul(r,new Uint8Array([1,n.exp(i)]));return r}},14895:(e,t,r)=>{"use strict";r.d(t,{B4:()=>i,SK:()=>a,hX:()=>s});var n=r(98815);class i extends n.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class a extends n.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class s extends n.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},15139:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});let n=Object.freeze(Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]).filter(e=>!e.includes("-")))},15321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(95714);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},16934:(e,t,r)=>{"use strict";var n=r(8640),i=r(34603);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(a=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;a<this.padLength;a++)n[i++]=0;return n}},17527:(e,t,r)=>{"use strict";var n=r(8640),i=r(16934),a=r(70585),s=n.rotl32,o=n.sum32,l=n.sum32_5,c=a.ft_1,d=i.BlockHash,u=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}n.inherits(h,d),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],d=this.h[2],h=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),g=l(s(i,5),c(f,a,d,h),p,r[n],u[f]);p=h,h=d,d=s(a,30),a=i,i=g}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],h),this.h[4]=o(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},17656:(e,t,r)=>{"use strict";var n=r(8640),i=r(16934),a=r(34603),s=n.rotr64_hi,o=n.rotr64_lo,l=n.shr64_hi,c=n.shr64_lo,d=n.sum64,u=n.sum64_hi,h=n.sum64_lo,p=n.sum64_4_hi,f=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,w=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=w,this.W=Array(160)}n.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),a=function(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),d=r[n-14],u=r[n-13],h=function(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),g=function(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),m=r[n-32],y=r[n-31];r[n]=p(i,a,d,u,h,g,m,y),r[n+1]=f(i,a,d,u,h,g,m,y)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],l=this.h[2],c=this.h[3],p=this.h[4],f=this.h[5],y=this.h[6],w=this.h[7],v=this.h[8],b=this.h[9],x=this.h[10],E=this.h[11],_=this.h[12],C=this.h[13],k=this.h[14],A=this.h[15];a(this.k.length===r.length);for(var I=0;I<r.length;I+=2){var S=k,T=A,P=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}(v,b),j=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(v,b),N=function(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=0x100000000),a}(v,0,x,0,_,C),O=function(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=0x100000000),s}(0,b,0,E,0,C),$=this.k[I],M=this.k[I+1],R=r[I],D=r[I+1],L=g(S,T,P,j,N,O,$,M,R,D),U=m(S,T,P,j,N,O,$,M,R,D);S=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}(n,i),T=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(n,i);var F=u(S,T,P=function(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=0x100000000),a}(n,0,l,0,p,f),j=function(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=0x100000000),s}(0,i,0,c,0,f)),B=h(S,T,P,j);k=_,A=C,_=x,C=E,x=v,E=b,v=u(y,w,L,U),b=h(w,w,L,U),y=p,w=f,p=l,f=c,l=n,c=i,n=u(L,U,F,B),i=h(L,U,F,B)}d(this.h,0,n,i),d(this.h,2,l,c),d(this.h,4,p,f),d(this.h,6,y,w),d(this.h,8,v,b),d(this.h,10,x,E),d(this.h,12,_,C),d(this.h,14,k,A)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},18103:(e,t,r)=>{"use strict";t.sha1=r(17527),t.sha224=r(43764),t.sha256=r(24361),t.sha384=r(47661),t.sha512=r(17656)},19556:(e,t,r)=>{"use strict";r.d(t,{b:()=>d,o:()=>c});var n=r(90175),i=r(73831),a=r(92185),s=r(92134),o=r(28060);let l=new s.A(8192);function c(e,t){if(l.has(`${e}.${t}`))return l.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,a.S)((0,i.Af)(r),"bytes"),s=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&n[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());let o=`0x${s.join("")}`;return l.set(`${e}.${t}`,o),o}function d(e,t){if(!(0,o.P)(e,{strict:!1}))throw new n.M({address:e});return c(e,t)}},19714:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>s,J8:()=>o,MU:()=>l});var n=r(52406),i=r(98815),a=r(86242);class s extends i.C{constructor({body:e,cause:t,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,a.I)(o)}`,e&&`Request body: ${(0,n.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}i.C;class o extends i.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,a.I)(r)}`,`Request body: ${(0,n.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}i.C;class l extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,a.I)(t)}`,`Request body: ${(0,n.A)(e)}`],name:"TimeoutError"})}}},20964:(e,t,r)=>{let n=r(51256),i=r(98786);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}catch(e){return r}}},21758:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(38476),i=r(31932);let a=e=>(0,n.di)((0,i.k)(e),0,4)},21892:(e,t,r)=>{"use strict";r.d(t,{X9:()=>s,s7:()=>i,x8:()=>a});var n=r(71804);class i extends n.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class a extends n.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class s extends n.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},22066:(e,t,r)=>{"use strict";r.d(t,{F:()=>G,c:()=>function e(t={}){let{fetch:r=globalThis.fetch,Headers:i=globalThis.Headers,AbortController:a=globalThis.AbortController}=t;async function s(e){let t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:+!J(e.options.method);let r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):X.has(r))){let r="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return r>0&&await new Promise(e=>setTimeout(e,r)),o(e.request,{...e.options,retry:t-1})}}let r=function(e){let t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,a=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",s=new G(`${i}: ${a}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(let t of["request","options","response"])Object.defineProperty(s,t,{get:()=>e[t]});for(let[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(s,t,{get:()=>e.response&&e.response[r]});return s}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,o),r}let o=async function(e,o={}){let l,c={request:e,options:function(e,t,r,n){let i,a=function(e,t,r){if(!t)return new r(e);let n=new r(t);if(e)for(let[t,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))n.set(t,i);return n}(t?.headers??e?.headers,r?.headers,n);return(r?.query||r?.params||t?.params||t?.query)&&(i={...r?.params,...r?.query,...t?.params,...t?.query}),{...r,...t,query:i,params:i,headers:a}}(e,o,t.defaults,i),response:void 0,error:void 0};if(c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await Q(c,c.options.onRequest),"string"==typeof c.request&&(c.options.baseURL&&(c.request=function(e,t){var r;if(!(r=t)||"/"===r||L(e))return e;let n=function(e="",t){if(!t)return(U(e)?e.slice(0,-1):e)||"/";if(!U(e,!0))return e||"/";let r=e,n="",i=e.indexOf("#");-1!==i&&(r=e.slice(0,i),n=e.slice(i));let[a,...s]=r.split("?");return((a.endsWith("/")?a.slice(0,-1):a)||"/")+(s.length>0?`?${s.join("?")}`:"")+n}(t);return e.startsWith(n)?e:function(e,...t){let r=e||"";for(let e of t.filter(e=>e&&"/"!==e))if(r){let t=e.replace(D,"");r=F(r)+t}else r=e;return r}(n,e)}(c.request,c.options.baseURL)),c.options.query&&(c.request=function(e,t){let r=z(e),n={...j(r.search),...t};return r.search=N(n),function(e){let t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",i=e.auth?e.auth+"@":"",a=e.host||"";return(e.protocol||e[W]?(e.protocol||"")+"//":"")+i+a+t+r+n}(r)}(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&J(c.options.method)&&(!function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(c.options.body)?("pipeTo"in c.options.body&&"function"==typeof c.options.body.pipeTo||"function"==typeof c.options.body.pipe)&&!("duplex"in c.options)&&(c.options.duplex="half"):(c.options.body="string"==typeof c.options.body?c.options.body:JSON.stringify(c.options.body),c.options.headers=new i(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json"))),!c.options.signal&&c.options.timeout){let e=new a;l=setTimeout(()=>{let t=Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},c.options.timeout),c.options.signal=e.signal}try{c.response=await r(c.request,c.options)}catch(e){return c.error=e,c.options.onRequestError&&await Q(c,c.options.onRequestError),await s(c)}finally{l&&clearTimeout(l)}if((c.response.body||c.response._bodyInit)&&!ee.has(c.response.status)&&"HEAD"!==c.options.method){let e=(c.options.parseResponse?"json":c.options.responseType)||function(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return Z.test(t)?"json":Y.has(t)||t.startsWith("text/")?"text":"blob"}(c.response.headers.get("content-type")||"");switch(e){case"json":{let e=await c.response.text(),t=c.options.parseResponse||n.Ay;c.response._data=t(e);break}case"stream":c.response._data=c.response.body||c.response._bodyInit;break;default:c.response._data=await c.response[e]()}}return(c.options.onResponse&&await Q(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600)?(c.options.onResponseError&&await Q(c,c.options.onResponseError),await s(c)):c.response},l=async function(e,t){return(await o(e,t))._data};return l.raw=o,l.native=(...e)=>r(...e),l.create=(r={},n={})=>e({...t,...n,defaults:{...t.defaults,...n.defaults,...r}}),l}});var n=r(1986);let i=/[^\0-\x7E]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow Error","not-basic":"Illegal Input","invalid-input":"Invalid Input"},o=Math.floor,l=String.fromCharCode;function c(e){throw RangeError(s[e])}let d=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},u=function(e,t,r){let n=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},h=/#/g,p=/&/g,f=/\//g,g=/=/g,m=/\?/g,y=/\+/g,w=/%5e/gi,v=/%60/gi,b=/%7b/gi,x=/%7c/gi,E=/%7d/gi,_=/%20/gi,C=/%2f/gi,k=/%252f/gi;function A(e){return encodeURI(""+e).replace(x,"|")}function I(e){return A("string"==typeof e?e:JSON.stringify(e)).replace(y,"%2B").replace(_,"+").replace(h,"%23").replace(p,"%26").replace(v,"`").replace(w,"^").replace(f,"%2F")}function S(e){return I(e).replace(g,"%3D")}function T(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function P(e=""){var t=e;let r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+(function(e,t){let r=[],n=e.length;for(;n--;)r[n]=t(e[n]);return r})((t=t.replace(a,".")).split("."),function(e){return i.test(e)?"xn--"+function(e){let t=[],r=(e=function(e){let t=[],r=0,n=e.length;for(;r<n;){let i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let n=e.charCodeAt(r++);(64512&n)==56320?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),r--)}else t.push(i)}return t}(e)).length,n=128,i=0,a=72;for(let r of e)r<128&&t.push(l(r));let s=t.length,h=s;for(s&&t.push("-");h<r;){let r=0x7fffffff;for(let t of e)t>=n&&t<r&&(r=t);let p=h+1;for(let f of(r-n>o((0x7fffffff-i)/p)&&c("overflow"),i+=(r-n)*p,n=r,e))if(f<n&&++i>0x7fffffff&&c("overflow"),f==n){let e=i;for(let r=36;;r+=36){let n=r<=a?1:r>=a+26?26:r-a;if(e<n)break;let i=e-n,s=36-n;t.push(l(d(n+i%s,0))),e=o(i/s)}t.push(l(d(e,0))),a=u(i,p,h==s),i=0,++h}++i,++n}return t.join("")}(e):e}).join(".")}function j(e=""){let t=Object.create(null);for(let r of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let n=T(e[1].replace(y," "));if("__proto__"===n||"constructor"===n)continue;let i=T((e[2]||"").replace(y," "));void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}return t}function N(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{var r;return(("number"==typeof(r=e[t])||"boolean"==typeof r)&&(r=String(r)),r)?Array.isArray(r)?r.map(e=>`${S(t)}=${I(e)}`).join("&"):`${S(t)}=${I(r)}`:S(t)}).filter(Boolean).join("&")}let O=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,$=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,M=/^([/\\]\s*){2,}[^/\\]/,R=/\/$|\/\?|\/#/,D=/^\.?\//;function L(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?O.test(e):$.test(e)||!!t.acceptRelative&&M.test(e)}function U(e="",t){return t?R.test(e):e.endsWith("/")}function F(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(U(e,!0))return e||"/";let r=e,n="",i=e.indexOf("#");if(-1!==i&&(r=e.slice(0,i),n=e.slice(i),!r))return n;let[a,...s]=r.split("?");return a+"/"+(s.length>0?`?${s.join("?")}`:"")+n}function B(e=""){return e.startsWith("/")}let W=Symbol.for("ufo:protocolRelative");function z(e="",t){let r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){let[,e,t=""]=r;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!L(e,{acceptRelative:!0}))return t?z(t+e):q(e);let[,n="",i,a=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,s="",o=""]=a.match(/([^#/?]*)(.*)?/)||[];"file:"===n&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:l,search:c,hash:d}=q(o);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:s,pathname:l,search:c,hash:d,[W]:!n}}function q(e=""){let[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}function H(e=""){let[t,r]=e.split(":");return{username:T(t),password:T(r)}}function V(e=""){let[t,r]=(e.match(/([^/:]*):?(\d+)?/)||[]).splice(1);return{hostname:T(t),port:r}}class G extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}let K=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function J(e="GET"){return K.has(e.toUpperCase())}let Y=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Z=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;async function Q(e,t){if(t)if(Array.isArray(t))for(let r of t)await r(e);else await t(e)}let X=new Set([408,409,425,429,500,502,503,504]),ee=new Set([101,204,205,304])},23185:(e,t,r)=>{let n=r(38880),i=r(64325),a=r(35215),s=r(28844),o=r(89295),l=r(92756),c=r(72704),d=r(14356),u=r(28944),h=r(91905),p=r(53447),f=r(20964),g=r(75681);function m(e,t,r){let n,i,a=e.size,s=p.getEncodedBits(t,r);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(a-15+n,8,i,!0),n<8?e.set(8,a-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(a-8,8,1,!0)}t.create=function(e,t){let r,p;if(void 0===e||""===e)throw Error("No input text");let y=i.M;return void 0!==t&&(y=i.from(t.errorCorrectionLevel,i.M),r=h.from(t.version),p=c.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),function(e,t,r,i){let p;if(Array.isArray(e))p=g.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=g.rawSplit(e);n=h.getBestVersionForData(t,r)}p=g.fromString(e,n||40)}else throw Error("Invalid data");let y=h.getBestVersionForData(p,r);if(!y)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<y)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else t=y;let w=function(e,t,r){let i=new a;r.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(i)});let s=(n.getSymbolTotalCodewords(e)-d.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let o=(s-i.getLengthInBits())/8;for(let e=0;e<o;e++)i.put(e%2?17:236,8);return function(e,t,r){let i,a,s=n.getSymbolTotalCodewords(t),o=s-d.getTotalCodewordsCount(t,r),l=d.getBlocksCount(t,r),c=s%l,h=l-c,p=Math.floor(s/l),f=Math.floor(o/l),g=f+1,m=p-f,y=new u(m),w=0,v=Array(l),b=Array(l),x=0,E=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<h?f:g;v[e]=E.slice(w,w+t),b[e]=y.encode(v[e]),w+=t,x=Math.max(x,t)}let _=new Uint8Array(s),C=0;for(i=0;i<x;i++)for(a=0;a<l;a++)i<v[a].length&&(_[C++]=v[a][i]);for(i=0;i<m;i++)for(a=0;a<l;a++)_[C++]=b[a][i];return _}(i,e,t)}(t,r,p),v=new s(n.getSymbolSize(t));!function(e,t){let r=e.size,n=l.getPositions(t);for(let t=0;t<n.length;t++){let i=n[t][0],a=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(r<=i+t))for(let n=-1;n<=7;n++)a+n<=-1||r<=a+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,a+n,!0,!0):e.set(i+t,a+n,!1,!0))}}(v,t);let b=v.size;for(let e=8;e<b-8;e++){let t=e%2==0;v.set(e,6,t,!0),v.set(6,e,t,!0)}return!function(e,t){let r=o.getPositions(t);for(let t=0;t<r.length;t++){let n=r[t][0],i=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,i+r,!0,!0):e.set(n+t,i+r,!1,!0)}}(v,t),m(v,r,0),t>=7&&function(e,t){let r,n,i,a=e.size,s=h.getEncodedBits(t);for(let t=0;t<18;t++)r=Math.floor(t/3),n=t%3+a-8-3,i=(s>>t&1)==1,e.set(r,n,i,!0),e.set(n,r,i,!0)}(v,t),!function(e,t){let r=e.size,n=-1,i=r-1,a=7,s=0;for(let o=r-1;o>0;o-=2)for(6===o&&o--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,o-r)){let n=!1;s<t.length&&(n=(t[s]>>>a&1)==1),e.set(i,o-r,n),-1==--a&&(s++,a=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(v,w),isNaN(i)&&(i=c.getBestMask(v,m.bind(null,v,r))),c.applyMask(i,v),m(v,r,i),{modules:v,version:t,errorCorrectionLevel:r,maskPattern:i,segments:p}}(e,r,y,p)}},23246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68362);n.__exportStar(r(74313),t),n.__exportStar(r(15321),t)},23403:(e,t,r)=>{"use strict";r.d(t,{eL:()=>n,sz:()=>i});let n={gwei:9,wei:18},i={ether:-9,wei:9}},23816:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}},23972:(e,t,r)=>{var n=r(72076).Buffer;let i=r(8570),a=r(82650),s={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},o={encodeData(e,t,r,s=!0){let o=["bytes32"],l=[this.hashType(e,r)];if(s){let c=(e,t,o)=>{if(void 0!==r[t])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,o,r,s))];if(void 0===o)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(o)];if("string"===t)return"string"==typeof o&&(o=n.from(o,"utf8")),["bytes32",i.keccak(o)];if(t.lastIndexOf("]")===t.length-1){let r=t.slice(0,t.lastIndexOf("[")),n=o.map(t=>c(e,r,t));return["bytes32",i.keccak(a.rawEncode(n.map(([e])=>e),n.map(([,e])=>e)))]}return[t,o]};for(let n of r[e]){let[e,r]=c(n.name,n.type,t[n.name]);o.push(e),l.push(r)}}else for(let a of r[e]){let e=t[a.name];if(void 0!==e)if("bytes"===a.type)o.push("bytes32"),e=i.keccak(e),l.push(e);else if("string"===a.type)o.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),l.push(e);else if(void 0!==r[a.type])o.push("bytes32"),e=i.keccak(this.encodeData(a.type,e,r,s)),l.push(e);else if(a.type.lastIndexOf("]")===a.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else o.push(a.type),l.push(e)}return a.rawEncode(o,l)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of n=[e].concat(n.sort())){if(!t[i])throw Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;for(let n of(r.push(e),t[e]))for(let e of this.findTypeDependencies(n.type,t,r))r.includes(e)||r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in s.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),a=[n.from("1901","hex")];return a.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&a.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(a))}};e.exports={TYPED_MESSAGE_SCHEMA:s,TypedDataUtils:o,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let r=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),n=e.map(function(e){return e.type}),s=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(Array(e.length).fill("string"),s),a.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return o.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return o.hash(e.data)}}},24361:(e,t,r)=>{"use strict";var n=r(8640),i=r(16934),a=r(70585),s=r(34603),o=n.sum32,l=n.sum32_4,c=n.sum32_5,d=a.ch32,u=a.maj32,h=a.s0_256,p=a.s1_256,f=a.g0_256,g=a.g1_256,m=i.BlockHash,y=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=y,this.W=Array(64)}n.inherits(w,m),e.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(g(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],m=this.h[2],y=this.h[3],w=this.h[4],v=this.h[5],b=this.h[6],x=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=c(x,p(w),d(w,v,b),this.k[n],r[n]),_=o(h(i),u(i,a,m));x=b,b=v,v=w,w=o(y,E),y=m,m=a,a=i,i=o(E,_)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],m),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],w),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],b),this.h[7]=o(this.h[7],x)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},24706:(e,t,r)=>{let n=r(49900);function i(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function a(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){let s=n.getOptions(t),o=e.modules.size,l=e.modules.data,c=o+2*s.margin,d=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+i(s.color.dark,"stroke")+' d="'+function(e,t,r){let n="",i=0,s=!1,o=0;for(let l=0;l<e.length;l++){let c=Math.floor(l%t),d=Math.floor(l/t);c||s||(s=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=s?a("M",c+r,.5+d+r):a("m",i,0),i=0,s=!1),c+1<t&&e[l+1]||(n+=a("h",o),o=0)):i++}return n}(l,o,s.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+('viewBox="0 0 '+c+" ")+c+'" shape-rendering="crispEdges">'+d+u+"</svg>\n";return"function"==typeof r&&r(null,h),h}},24760:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in a)a[o]&&(s+="; "+o,!0!==a[o]&&(s+="="+a[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var a=r[i].split("="),s=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(n[o]=t.read(s,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},25304:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=u(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,a=u(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=o(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[o(e)]},d.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},d.prototype.set=function(e,t){this.map[o(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,t){if(!(this instanceof y))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,a=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new d(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var b=[301,302,303,307,308];v.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise(function(a,s){var c=new y(e,r);if(c.signal&&c.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function h(){u.abort()}if(u.onload=function(){var e,t,r={statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(u.status<200||u.status>599)?r.status=200:r.status=u.status,r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var n="response"in u?u.response:u.responseText;setTimeout(function(){a(new v(n,r))},0)},u.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){s(TypeError("Network request timed out"))},0)},u.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},u.open(c.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&(i.blob?u.responseType="blob":i.arrayBuffer&&(u.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof d||n.Headers&&r.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(o(e)),u.setRequestHeader(e,l(r.headers[e]))}),c.headers.forEach(function(e,t){-1===p.indexOf(t)&&u.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){u.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",h),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",h)}),u.send(void 0===c._bodyInit?null:c._bodyInit)})}x.polyfill=!0,n.fetch||(n.fetch=x,n.Headers=d,n.Request=y,n.Response=v),t.Headers=d,t.Request=y,t.Response=v,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=n.fetch?n:i;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},25311:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var n=r(98815),i=r(19714),a=r(39612),s=r(69409);let o=new(r(92134)).A(8192);var l=r(11379),c=r(52406),d=r(96149);function u({key:e,methods:t,name:r,request:u,retryCount:h=3,retryDelay:p=150,timeout:f,type:g},m){return{config:{key:e,methods:t,name:r,request:u,retryCount:h,retryDelay:p,timeout:f,type:g},request:function(e,t={}){return async(r,d={})=>{let{dedupe:u=!1,methods:h,retryDelay:p=150,retryCount:f=3,uid:g}={...t,...d},{method:m}=r;if(h?.exclude?.includes(m)||h?.include&&!h.include.includes(m))throw new a.ab(Error("method not supported"),{method:m});let y=u?(0,s.i3)(`${g}.${(0,c.A)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(o.get(r))return o.get(r);let n=e().finally(()=>o.delete(r));return o.set(r,n),n}(()=>(0,l.b)(async()=>{try{return await e(r)}catch(e){switch(e.code){case a.XU.code:throw new a.XU(e);case a.CL.code:throw new a.CL(e);case a.Gi.code:throw new a.Gi(e,{method:r.method});case a.D5.code:throw new a.D5(e);case a.bq.code:throw new a.bq(e);case a.Di.code:throw new a.Di(e);case a.hA.code:throw new a.hA(e);case a.qZ.code:throw new a.qZ(e);case a.YW.code:throw new a.YW(e);case a.ab.code:throw new a.ab(e,{method:r.method});case a.s0.code:throw new a.s0(e);case a.xQ.code:throw new a.xQ(e);case a.vx.code:throw new a.vx(e);case a.sV.code:throw new a.sV(e);case a.Sf.code:throw new a.Sf(e);case a.RV.code:throw new a.RV(e);case a.xq.code:throw new a.xq(e);case a.ch.code:throw new a.ch(e);case a.L5.code:throw new a.L5(e);case a.WT.code:throw new a.WT(e);case a.hl.code:throw new a.hl(e);case a.cg.code:throw new a.cg(e);case a.uL.code:throw new a.uL(e);case a.G1.code:throw new a.G1(e);case a.jz.code:throw new a.jz(e);case 5e3:throw new a.vx(e);default:if(e instanceof n.C)throw e;throw new a.MI(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return~~(1<<e)*p},retryCount:f,shouldRetry:({error:e})=>{var t;return"code"in(t=e)&&"number"==typeof t.code?-1===t.code||t.code===a.s0.code||t.code===a.bq.code:!(t instanceof i.Ci)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status||!1}}),{enabled:u,id:y})}}(u,{methods:t,retryCount:h,retryDelay:p,uid:(0,d.L)()}),value:m}}},25780:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(51692);let i=/^tuple(?<array>(\[(\d*)\])*)$/;function a(e){let t="",r=e.length;for(let a=0;a<r;a++)t+=function e(t){let r=t.type;if(i.test(t.type)&&"components"in t){r="(";let a=t.components.length;for(let n=0;n<a;n++)r+=e(t.components[n]),n<a-1&&(r+=", ");let s=(0,n.Yv)(i,t.type);return r+=`)${s?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[a]),a!==r-1&&(t+=", ");return t}},25783:(e,t,r)=>{"use strict";r.d(t,{UG:()=>s,xo:()=>i,zz:()=>a});var n=r(71804);class i extends n.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class a extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class s extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},26834:(e,t,r)=>{t.utils=r(8640),t.common=r(16934),t.sha=r(18103),t.ripemd=r(10780),t.hmac=r(3076),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160},27629:(e,t,r)=>{"use strict";r.d(t,{BI:()=>_,EB:()=>x,Iy:()=>l,Iz:()=>v,MR:()=>b,M_:()=>w,Nc:()=>d,O:()=>c,Wq:()=>g,YE:()=>h,YF:()=>o,YW:()=>s,ZP:()=>p,_z:()=>m,d_:()=>T,dm:()=>S,fo:()=>C,gH:()=>u,j:()=>I,kE:()=>y,l3:()=>k,nK:()=>A,nM:()=>E,yy:()=>f});var n=r(65942),i=r(11371),a=r(98815);class s extends a.C{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class o extends a.C{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}a.C;class l extends a.C{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.A)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class c extends a.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class d extends a.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class u extends a.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.E)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class h extends a.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class p extends a.C{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class f extends a.C{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends a.C{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends a.C{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class y extends a.C{constructor(e,{docsPath:t}){super(`Encoded event signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class w extends a.C{constructor(e,{docsPath:t}={}){super(`Event ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:t,name:"AbiEventNotFoundError"})}}class v extends a.C{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class b extends a.C{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class x extends a.C{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class E extends a.C{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.B)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.B)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class _ extends a.C{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class C extends a.C{constructor({abiItem:e,data:t,params:r,size:i}){super(`Data size of ${i} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,n.A)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class k extends a.C{constructor({abiItem:e,param:t}){super(`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.B)(e,{includeName:!0})}".`,{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class A extends a.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class I extends a.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class S extends a.C{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class T extends a.C{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}a.C},28060:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(92134),i=r(19556);let a=/^0x[a-fA-F0-9]{40}$/,s=new n.A(8192);function o(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(s.has(n))return s.get(n);let o=!!a.test(e)&&(e.toLowerCase()===e||!r||(0,i.o)(e)===e);return s.set(n,o),o}},28274:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},28297:(e,t,r)=>{"use strict";r.d(t,{$:()=>eb,A:()=>V,B:()=>s,C:()=>el,D:()=>ec,E:()=>c,F:()=>w,G:()=>v,H:()=>eg,I:()=>eI,J:()=>em,K:()=>ey,L:()=>ew,M:()=>h,N:()=>o,O:()=>eh,P:()=>l,Q:()=>ep,R:()=>ef,S:()=>U,T:()=>q,U:()=>C,V:()=>T,W:()=>Z,X:()=>$,Y:()=>ed,Z:()=>eE,_:()=>ev,a:()=>p,a0:()=>ex,a1:()=>b,a2:()=>x,a3:()=>E,a4:()=>_,a5:()=>A,a6:()=>I,a7:()=>Q,a8:()=>eu,a9:()=>M,aa:()=>k,ab:()=>G,ac:()=>B,ad:()=>S,ae:()=>e_,af:()=>eC,ag:()=>et,ah:()=>ee,ai:()=>X,aj:()=>g,ak:()=>y,al:()=>m,am:()=>f,b:()=>ek,c:()=>L,d:()=>R,e:()=>F,f:()=>u,g:()=>d,h:()=>j,i:()=>N,j:()=>P,k:()=>O,l:()=>Y,m:()=>K,n:()=>eA,o:()=>J,p:()=>D,q:()=>eo,r:()=>es,s:()=>ea,t:()=>ei,u:()=>eS,v:()=>en,w:()=>er,x:()=>H,y:()=>z,z:()=>W});var n,i=r(22066),a=r(68658);class s extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class o extends s{constructor(e,t,r,n,i,a){super(r,n,i),this.type=e,this.status=t,this.data=a}}class l extends s{constructor(e,t,r){super(e,t,r),this.type="client_error"}}class c extends l{constructor(){super("Request timed out",void 0,"client_request_timeout")}}class d extends s{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}let u=e=>{if(e instanceof s)return e;if(!(e instanceof i.F))return h(e);if(!e.response)return new o("api_error",null,e.message,e);let{type:t,message:r,error:n,code:a}=e.data;return new o(t||"ApiError",e.response.status,r||n,e,a,e.data)},h=e=>e instanceof s?e:e instanceof Error?new l(e.message,e):new l(`Internal error: ${e}`);var p=((n={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",n.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",n.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",n.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",n.INVALID_DATA="invalid_data",n.INVALID_CAPTCHA="invalid_captcha",n.LINKED_TO_ANOTHER_USER="linked_to_another_user",n.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",n.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",n.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",n.USER_EXITED_UPDATE_FLOW="exited_update_flow",n.ALLOWLIST_REJECTED="allowlist_rejected",n.OAUTH_USER_DENIED="oauth_user_denied",n.OAUTH_UNEXPECTED="oauth_unexpected",n.UNKNOWN_AUTH_ERROR="unknown_auth_error",n.USER_EXITED_AUTH_FLOW="exited_auth_flow",n.USER_EXITED_LINK_FLOW="exited_link_flow",n.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",n.MUST_BE_AUTHENTICATED="must_be_authenticated",n.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",n.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",n.CLIENT_REQUEST_TIMEOUT="client_request_timeout",n.INVALID_CREDENTIALS="invalid_credentials",n.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",n.UNKNOWN_MFA_ERROR="unknown_mfa_error",n.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",n.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",n.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",n.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",n.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",n.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",n.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",n.TRANSACTION_FAILURE="transaction_failure",n.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",n.NOT_SUPPORTED="not_supported",n.CAPTCHA_TIMEOUT="captcha_timeout",n.INVALID_MESSAGE="invalid_message",n.UNABLE_TO_SIGN="unable_to_sign",n.CAPTCHA_FAILURE="captcha_failure",n.CAPTCHA_DISABLED="captcha_disabled",n.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",n.TOO_MANY_REQUESTS="too_many_requests",n.USER_LIMIT_REACHED="max_accounts_reached",n.DISALLOWED_LOGIN_METHOD="disallowed_login_method",n.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",n.PASSKEY_NOT_ALLOWED="passkey_not_allowed",n.USER_DOES_NOT_EXIST="user_does_not_exist",n.INSUFFICIENT_BALANCE="insufficient_balance",n.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",n.BUFFER_NOT_DEFINED="buffer_not_defined",n.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",n);class f extends l{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}}class g extends l{constructor(e="Embedded wallet error",t){super(e,t,"unknown_embedded_wallet_error")}}class m extends l{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}}class y extends l{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}}let w="/api/v1/sessions",v="/api/v1/sessions/logout",b="/api/v1/siwe/init",x="/api/v1/siwe/authenticate",E="/api/v1/siwe/link",_="/api/v1/siwe/link_smart_wallet",C="/api/v1/siwe/unlink",k="/api/v1/siwe/transfer",A="/api/v1/siws/init",I="/api/v1/siws/authenticate",S="/api/v1/siws/link",T="/api/v1/siws/unlink",P="/api/v1/farcaster/init",j="/api/v1/farcaster/authenticate",N="/api/v1/farcaster/link",O="/api/v1/farcaster/status",$="/api/v1/farcaster/unlink",M="/api/v1/farcaster/transfer",R="/api/v1/passwordless/init",D="/api/v1/passwordless/authenticate",L="/api/v1/passwordless/link",U="/api/v1/passwordless/unlink",F="/api/v1/passwordless/update",B="/api/v1/passwordless/transfer",W="/api/v1/passwordless_sms/init",z="/api/v1/passwordless_sms/link",q="/api/v1/passwordless_sms/unlink",H="/api/v1/passwordless_sms/authenticate",V="/api/v1/passwordless_sms/update",G="/api/v1/passwordless_sms/transfer",K="/api/v1/oauth/init",J="/api/v1/oauth/authenticate",Y="/api/v1/oauth/link",Z="/api/v1/oauth/unlink",Q="/api/v1/oauth/transfer",X="/api/v1/recovery/oauth/init",ee="/api/v1/recovery/oauth/init_icloud",et="/api/v1/recovery/oauth/authenticate",er="/api/v1/passkeys/link/init",en="/api/v1/passkeys/authenticate/init",ei="/api/v1/passkeys/register/init",ea="/api/v1/passkeys/link",es="/api/v1/passkeys/authenticate",eo="/api/v1/passkeys/register",el="/api/v1/telegram/authenticate",ec="/api/v1/telegram/link",ed="/api/v1/telegram/unlink",eu="/api/v1/telegram/transfer",eh="/api/v1/mfa/passwordless_sms/init",ep="/api/v1/mfa/passkeys/init",ef="/api/v1/users/me/accept_terms",eg="/api/v1/analytics_events",em="/api/v1/custom_jwt_account/authenticate",ey="/api/v1/custom_jwt_account/link",ew="/api/v1/guest/authenticate",ev="/api/v1/plugins/moonpay_on_ramp/sign",eb="/api/v1/funding/coinbase_on_ramp/init",ex="/api/v1/funding/coinbase_on_ramp/status",eE="/api/v1/wallets/revoke",e_="/api/v1/users/me",eC="/api/v1/scan/transaction",ek=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},eA=e=>()=>{throw Error(e.trim())},eI=(0,a.createContext)({setAuthenticated:ek,setUser:ek,setIsNewUser:ek,isNewUserThisSession:!1,walletConnectionStatus:null,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:ek,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:ek,initializeWalletProxy:ek,getAuthMeta:ek,getAuthFlow:ek,closePrivyModal:ek,openPrivyModal:ek,connectWallet:ek,initLoginWithWallet:ek,loginWithWallet:ek,initLoginWithFarcaster:ek,loginWithFarcaster:ek,loginWithCode:ek,initLoginWithEmail:ek,initLoginWithSms:ek,initUpdateEmail:ek,initUpdatePhone:ek,resendEmailCode:ek,resendSmsCode:ek,initLoginWithHeadlessOAuth:ek,loginWithHeadlessOAuth:ek,crossAppAuthFlow:ek,initLoginWithOAuth:ek,loginWithOAuth:ek,passkeyAuthState:{status:"initial"},setPasskeyAuthState:ek,initSignupWithPasskey:ek,signupWithPasskey:ek,initLoginWithPasskey:ek,loginWithPasskey:ek,initLinkWithPasskey:ek,linkWithPasskey:ek,refreshSessionAndUser:ek,walletProxy:null,createAnalyticsEvent:ek,acceptTerms:ek,getUsdTokenPrice:ek,getUsdPriceForSol:ek,getSplTokenMetadata:ek,recoverEmbeddedWallet:ek,updateWallets:ek,fundWallet:ek,openModal:ek,setReadyToTrue:ek,requestFarcasterSignerStatus:ek,initLoginWithTelegram:ek,loginWithTelegram:ek,generateSiweMessage:ek,generateSiweMessageForSmartWallet:ek,loginWithSiwe:ek,linkWithSiwe:ek,linkSmartWallet:ek,delegateWallet:ek,revokeDelegatedWallets:ek,exportSolanaWallet:ek,connectCoinbaseSmartWallet:ek,initiateAccountTransfer:ek,emailOtpState:{status:"initial"},setEmailOtpState:ek,smsOtpState:{status:"initial"},setSmsOtpState:ek,siweState:{status:"initial"},setSiweState:ek,oAuthState:{status:"initial"},setOAuthState:ek,telegramAuthState:{status:"initial"},setTelegramAuthState:ek,isHeadlessOAuthLoading:!1,isHeadlessSigning:ek}),eS=()=>(0,a.useContext)(eI)},28709:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});class n{}},28844:e=>{function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){let i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},28944:(e,t,r)=>{let n=r(14661);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=n.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(r,i),e}return r},e.exports=i},30013:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,a||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,a),!0;case 6:return d.fn.call(d.context,t,n,i,a,s),!0}for(c=1,l=Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,i);break;default:if(!l)for(h=1,l=Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},30170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(94458);r(71113);var i=r(68337),a=r.n(i),s=r(83382);let o=function(e){let{Component:t,pageProps:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("link",{rel:"preload",href:"/fonts/AdelleSans-Regular.woff",as:"font",crossOrigin:""}),(0,n.jsx)("link",{rel:"preload",href:"/fonts/AdelleSans-Regular.woff2",as:"font",crossOrigin:""}),(0,n.jsx)("link",{rel:"preload",href:"/fonts/AdelleSans-Semibold.woff",as:"font",crossOrigin:""}),(0,n.jsx)("link",{rel:"preload",href:"/fonts/AdelleSans-Semibold.woff2",as:"font",crossOrigin:""}),(0,n.jsx)("link",{rel:"icon",href:"/favicons/favicon.ico",sizes:"any"}),(0,n.jsx)("link",{rel:"icon",href:"/favicons/icon.svg",type:"image/svg+xml"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"/favicons/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"manifest",href:"/favicons/manifest.json"}),(0,n.jsx)("title",{children:"Privy Auth Starter"}),(0,n.jsx)("meta",{name:"description",content:"Privy Auth Starter"})]}),(0,n.jsx)(s.z,{appId:"clsy0a89f00ih13j1tbkj5dtr",config:{embeddedWallets:{createOnLogin:"all-users"}},children:(0,n.jsx)(t,{...r})})]})}},30700:(e,t,r)=>{"use strict";r.d(t,{LX:()=>n,WN:()=>i,nP:()=>a});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",a="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"},31084:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{J:()=>n})},31120:(e,t,r)=>{"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{u:()=>n})},31657:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>a,NV:()=>s,ii:()=>i});var n=r(98815);class i extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class a extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class s extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},31802:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{aP:()=>i,xW:()=>n})},31932:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var n=r(73831),i=r(92185);let a=e=>(0,i.S)((0,n.ZJ)(e));var s=r(51850),o=r(98815);let l=e=>(function(e){let t=!0,r="",n=0,i="",a=!1;for(let s=0;s<e.length;s++){let o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function",""].includes(i))i="";else if(i+=o,")"===o){a=!0;break}continue}if(" "===o){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!a)throw new o.C("Unable to normalize signature.");return i})("string"==typeof e?e:(0,s.B)(e));function c(e){return a(l(e))}},32214:e=>{"use strict";var t,r=(t=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],function(e){return t.reduce(function(t,r){return t+(r.re.test(e)?r.length:0)},0)});e.exports=function(e){var t;return e?(t=r(e),Math.round(e.length*Math.log(t)/Math.LN2)):0}},32845:e=>{"use strict";var t={single_source_shortest_paths:function(e,r,n){var i,a,s,o,l,c,d,u={},h={};h[r]=0;var p=t.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(s in a=(i=p.pop()).value,o=i.cost,l=e[a]||{})l.hasOwnProperty(s)&&(c=o+l[s],d=h[s],(void 0===h[s]||d>c)&&(h[s]=c,p.push(s,c),u[s]=a));if(void 0!==n&&void 0===h[n])throw Error(["Could not find a path from ",r," to ",n,"."].join(""));return u},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},32860:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,b:()=>n});var n=r(30013);let i=n},33509:(e,t,r)=>{let n=r(20964),i=r(38880);function a(e){this.mode=n.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},e.exports=a},33685:(e,t)=>{t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,l=(1<<o)-1,c=l>>1,d=-7,u=r?i-1:0,h=r?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=o;d>0;a=256*a+e[t+u],u+=h,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=c}return(p?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,l,c=8*a-i-1,d=(1<<c)-1,u=d>>1,h=5960464477539062e-23*(23===i),p=n?0:a-1,f=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(t*l-1)*Math.pow(2,i),s+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&o,p+=f,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[r+p]=255&s,p+=f,s/=256,c-=8);e[r+p-f]|=128*g}},33809:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var n=r(19714),i=r(98815);class a extends i.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var s=r(40398),o=r(52406);let l={current:0,take(){return this.current++},reset(){this.current=0}};var c=r(25311);function d(e,t={}){let{batch:r,fetchOptions:i,key:u="http",methods:h,name:p="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:g,retryDelay:m,raw:y}=t;return({chain:d,retryCount:w,timeout:v})=>{let{batchSize:b=1e3,wait:x=0}="object"==typeof r?r:{},E=t.retryCount??w,_=v??t.timeout??1e4,C=e||d?.rpcUrls.default.http[0];if(!C)throw new a;let k=function(e,t={}){return{async request(r){let{body:i,onRequest:a=t.onRequest,onResponse:s=t.onResponse,timeout:c=t.timeout??1e4}=r,d={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:h,signal:p}=d;try{let t,r=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,a)=>{(async()=>{let s;try{let o=new AbortController;r>0&&(s=setTimeout(()=>{n?o.abort():a(t)},r)),i(await e({signal:o?.signal||null}))}catch(e){e?.name==="AbortError"&&a(t),a(e)}finally{clearTimeout(s)}})()})}(async({signal:t})=>{let r={...d,body:Array.isArray(i)?(0,o.A)(i.map(e=>({jsonrpc:"2.0",id:e.id??l.take(),...e}))):(0,o.A)({jsonrpc:"2.0",id:i.id??l.take(),...i}),headers:{"Content-Type":"application/json",...u},method:h||"POST",signal:p||(c>0?t:null)},n=new Request(e,r),s=await a?.(n,r)??{...r,url:e};return await fetch(s.url??e,s)},{errorInstance:new n.MU({body:i,url:e}),timeout:c,signal:!0});if(s&&await s(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new n.Ci({body:i,details:(0,o.A)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof n.Ci||t instanceof n.MU)throw t;throw new n.Ci({body:i,cause:t,url:e})}}}}(C,{fetchOptions:i,onRequest:f,onResponse:g,timeout:_});return(0,c.o)({key:u,methods:h,name:p,async request({method:e,params:t}){let i={method:e,params:t},{schedule:a}=(0,s.u)({id:C,wait:x,shouldSplitBatch:e=>e.length>b,fn:e=>k.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?a(e):[await k.request({body:e})],[{error:l,result:c}]=await o(i);if(y)return{error:l,result:c};if(l)throw new n.J8({body:i,error:l,url:C});return c},retryCount:E,retryDelay:m,timeout:_,type:"http"},{fetchOptions:i,url:C})}}},34316:(e,t,r)=>{"use strict";var n=r(68658),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,d){var u=s(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var p=a(e,(u=l(function(){function e(e){if(!o){if(o=!0,a=e,e=n(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var r=n(e);return void 0!==d&&d(t,r)?(a=e,t):(a=e,s=r)}var a,s,o=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,d]))[0],u[1]);return o(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},34461:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(98815),i=r(4609);function a(e,t){let r=(e.details||"").toLowerCase(),a=e instanceof n.C?e.walk(e=>e?.code===i.A7.code):e;return a instanceof n.C?new i.A7({cause:e,message:a.details}):i.A7.nodeMessage.test(r)?new i.A7({cause:e,message:e.details}):i.BG.nodeMessage.test(r)?new i.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.jj.nodeMessage.test(r)?new i.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.K0.nodeMessage.test(r)?new i.K0({cause:e,nonce:t?.nonce}):i.Oh.nodeMessage.test(r)?new i.Oh({cause:e,nonce:t?.nonce}):i.vW.nodeMessage.test(r)?new i.vW({cause:e,nonce:t?.nonce}):i.k5.nodeMessage.test(r)?new i.k5({cause:e}):i.lY.nodeMessage.test(r)?new i.lY({cause:e,gas:t?.gas}):i.Fo.nodeMessage.test(r)?new i.Fo({cause:e,gas:t?.gas}):i.uC.nodeMessage.test(r)?new i.uC({cause:e}):i.lN.nodeMessage.test(r)?new i.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.RM({cause:e})}},34603:e=>{function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},35215:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},35937:(e,t,r)=>{let n=r(20964);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)n=parseInt(this.data.substr(t,3),10),e.put(n,10);let i=this.data.length-t;i>0&&(n=parseInt(this.data.substr(t),10),e.put(n,3*i+1))},e.exports=i},36015:(e,t,r)=>{"use strict";r.d(t,{iY:()=>l});var n=r(27629),i=r(81063),a=r(28060),s=r(90148),o=r(21758);function l(e){let t,{abi:r,args:l=[],name:c}=e,d=(0,i.q)(c,{strict:!1}),u=r.filter(e=>d?"function"===e.type?(0,o.V)(e)===c:"event"===e.type&&(0,s.h)(e)===c:"name"in e&&e.name===c);if(0!==u.length){if(1===u.length)return u[0];for(let e of u){if("inputs"in e){if(!l||0===l.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===l.length&&l.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,a.P)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let s=t[i],o=r[i];if("tuple"===s.type&&"tuple"===o.type&&"components"in s&&"components"in o)return e(s.components,o.components,n[i]);let l=[s.type,o.type];if(l.includes("address")&&l.includes("bytes20")||(l.includes("address")&&l.includes("string")||l.includes("address")&&l.includes("bytes"))&&(0,a.P)(n[i],{strict:!1}))return l}}(e.inputs,t.inputs,l);if(r)throw new n.nM({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}}return t||u[0]}}},36139:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw TypeError(i+" is ambiguous");r[i]=n}function a(e){var t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-((0|t)&1)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=a(t)^n>>5}for(r=0,t=a(t);r<e.length;++r){var i=e.charCodeAt(r);t=a(t)^31&i}return t}function o(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var o=(e=n).lastIndexOf("1");if(-1===o)return"No separator character for "+e;if(0===o)return"Missing prefix for "+e;var l=e.slice(0,o),c=e.slice(o+1);if(c.length<6)return"Data too short";var d=s(l);if("string"==typeof d)return d;for(var u=[],h=0;h<c.length;++h){var p=c.charAt(h),f=r[p];if(void 0===f)return"Unknown character "+p;d=a(d)^f,h+6>=c.length||u.push(f)}return 1!==d?"Invalid checksum for "+e:{prefix:l,words:u}}function l(e,t,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],l=0;l<e.length;++l)for(i=i<<t|e[l],a+=t;a>=r;)o.push(i>>(a-=r)&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=t)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}e.exports={decodeUnsafe:function(){var e=o.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=o.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw TypeError("Exceeds length limit");var i=s(e=e.toLowerCase());if("string"==typeof i)throw Error(i);for(var o=e+"1",l=0;l<r.length;++l){var c=r[l];if(c>>5!=0)throw Error("Non 5-bit word");i=a(i)^c,o+=t.charAt(c)}for(l=0;l<6;++l)i=a(i);for(i^=1,l=0;l<6;++l){var d=i>>(5-l)*5&31;o+=t.charAt(d)}return o},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},37479:(e,t,r)=>{"use strict";r.d(t,{db:()=>a,eV:()=>i});var n=r(31657);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?a(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.Fl({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let a="right"===t;i[a?n:r-n-1]=e[a?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function a(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.Fl({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},37599:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(27629),i=r(31802),a=r(98322);let s="/docs/contract/encodeDeployData";function o(e){let{abi:t,args:r,bytecode:o}=e;if(!r||0===r.length)return o;let l=t.find(e=>"type"in e&&"constructor"===e.type);if(!l)throw new n.YW({docsPath:s});if(!("inputs"in l)||!l.inputs||0===l.inputs.length)throw new n.YF({docsPath:s});let c=(0,a.h)(l.inputs,r);return(0,i.aP)([o,c])}},38356:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(r,n){var i,a,s;function o(r){e.removeListener(t,l),n(r)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}g(e,t,l,{once:!0}),"error"!==t&&(i=e,a=o,s={once:!0},"function"==typeof i.on&&g(i,"error",a,s))})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(o(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,a,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function d(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,o=Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var c=l.length,d=f(l,c),r=0;r<c;++r)n(d[r],this,t);return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,a,s;if(o(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},38476:(e,t,r)=>{"use strict";r.d(t,{A1:()=>c,di:()=>s,iN:()=>d});var n=r(31657),i=r(81063),a=r(11371);function s(e,t,r,{strict:n}={}){return(0,i.q)(e,{strict:!1})?d(e,t,r,{strict:n}):c(e,t,r,{strict:n})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,a.E)(e)-1)throw new n.ii({offset:t,position:"start",size:(0,a.E)(e)})}function l(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,a.E)(e)!==r-t)throw new n.ii({offset:r,position:"end",size:(0,a.E)(e)})}function c(e,t,r,{strict:n}={}){o(e,t);let i=e.slice(t,r);return n&&l(i,t,r),i}function d(e,t,r,{strict:n}={}){o(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&l(i,t,r),i}},38610:(e,t,r)=>{"use strict";r.d(t,{xW:()=>w,sH:()=>eY,dI:()=>eZ});var n={};r.r(n),r.d(n,{identity:()=>$});var i={};r.r(i),r.d(i,{base2:()=>M});var a={};r.r(a),r.d(a,{base8:()=>R});var s={};r.r(s),r.d(s,{base10:()=>D});var o={};r.r(o),r.d(o,{base16:()=>L,base16upper:()=>U});var l={};r.r(l),r.d(l,{base32:()=>F,base32hex:()=>q,base32hexpad:()=>V,base32hexpadupper:()=>G,base32hexupper:()=>H,base32pad:()=>W,base32padupper:()=>z,base32upper:()=>B,base32z:()=>K});var c={};r.r(c),r.d(c,{base36:()=>J,base36upper:()=>Y});var d={};r.r(d),r.d(d,{base58btc:()=>Z,base58flickr:()=>Q});var u={};r.r(u),r.d(u,{base64:()=>X,base64pad:()=>ee,base64url:()=>et,base64urlpad:()=>er});var h={};r.r(h),r.d(h,{base256emoji:()=>es});var p={};r.r(p),r.d(p,{sha256:()=>eb,sha512:()=>ex});var f={};r.r(f),r.d(f,{identity:()=>eE});var g={};r.r(g),r.d(g,{code:()=>eC,decode:()=>eA,encode:()=>ek,name:()=>e_});var m={};function y(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function w(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=y(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}r.r(m),r.d(m,{code:()=>eP,decode:()=>eN,encode:()=>ej,name:()=>eT});let v=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==r[s])throw TypeError(a+" is ambiguous");r[s]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var a=(e.length-t)*c+1>>>0,s=new Uint8Array(a);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=a-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=o*s[h]>>>0,s[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var f=new Uint8Array(n+(a-p)),g=n;p!==a;)f[g++]=s[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var s=(a-i)*d+1>>>0,c=new Uint8Array(s);i!==a;){for(var u=t[i],h=0,p=s-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw Error("Non-zero carry");n=h,i++}for(var f=s-n;f!==s&&0===c[f];)f++;for(var g=l.repeat(r);f<s;++f)g+=e.charAt(c[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let b=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},x=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},E=e=>new TextEncoder().encode(e),_=e=>new TextDecoder().decode(e);class C{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return I(this,e)}}class A{constructor(e){this.decoders=e}or(e){return I(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let I=(e,t)=>new A({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new C(e,t,r),this.decoder=new k(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let T=({name:e,prefix:t,encode:r,decode:n})=>new S(e,t,r,n),P=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=v(r,t);return T({prefix:e,name:t,encode:n,decode:e=>x(i(e))})},j=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;let s=new Uint8Array(a*r/8|0),o=0,l=0,c=0;for(let t=0;t<a;++t){let a=i[e[t]];if(void 0===a)throw SyntaxError(`Non-${n} character`);l=l<<r|a,(o+=r)>=8&&(o-=8,s[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return s},N=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,a="",s=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],s+=8;s>r;)s-=r,a+=t[i&o>>s];if(s&&(a+=t[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},O=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>T({prefix:t,name:e,encode:e=>N(e,n,r),decode:t=>j(t,n,r,e)}),$=T({prefix:"\0",name:"identity",encode:e=>_(e),decode:e=>E(e)}),M=O({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),R=O({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),D=P({prefix:"9",name:"base10",alphabet:"0123456789"}),L=O({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U=O({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),F=O({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B=O({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),W=O({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=O({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),q=O({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),H=O({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=O({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=O({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K=O({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),J=P({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y=P({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Z=P({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q=P({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),X=O({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ee=O({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),et=O({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),er=O({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),en=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ei=en.reduce((e,t,r)=>(e[r]=t,e),[]),ea=en.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),es=T({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ei[t],"")},decode:function(e){let t=[];for(let r of e){let e=ea[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});function eo(e,t,r){t=t||[];for(var n=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,eo.bytes=r-n+1,t}function el(e,t){var r,n=0,t=t||0,i=0,a=t,s=e.length;do{if(a>=s)throw el.bytes=0,RangeError("Could not decode varint");r=e[a++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return el.bytes=a-t,n}let ec={encode:eo,decode:el,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}},ed=(e,t=0)=>[ec.decode(e,t),ec.decode.bytes],eu=(e,t,r=0)=>(ec.encode(e,t,r),t),eh=e=>ec.encodingLength(e),ep=(e,t)=>{let r=t.byteLength,n=eh(e),i=n+eh(r),a=new Uint8Array(i+r);return eu(e,a,0),eu(r,a,n),a.set(t,i),new em(e,r,t,a)},ef=e=>{let t=x(e),[r,n]=ed(t),[i,a]=ed(t.subarray(n)),s=t.subarray(n+a);if(s.byteLength!==i)throw Error("Incorrect length");return new em(r,i,s,t)},eg=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&b(e.bytes,t.bytes);class em{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ey=({name:e,code:t,encode:r})=>new ew(e,t,r);class ew{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ep(this.code,t):t.then(e=>ep(this.code,e))}throw Error("Unknown type, must be binary type")}}let ev=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),eb=ey({name:"sha2-256",code:18,encode:ev("SHA-256")}),ex=ey({name:"sha2-512",code:19,encode:ev("SHA-512")}),eE={code:0,name:"identity",encode:x,digest:e=>ep(0,x(e))},e_="raw",eC=85,ek=e=>x(e),eA=e=>x(e),eI=new TextEncoder,eS=new TextDecoder,eT="json",eP=512,ej=e=>eI.encode(JSON.stringify(e)),eN=e=>JSON.parse(eS.decode(e));class eO{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eW,byteLength:eW,code:eB,version:eB,multihash:eB,bytes:eB,_baseCache:eW,asCID:eW})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eD)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eL)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eO.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=ep(e,t);return eO.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&eg(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eM(t,n,e||Z.encoder):eR(t,n,e||F.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return ez(/^0\.0/,eq),!!(e&&(e[eF]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eO)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eO(t,r,n,i||eU(t,r,n.bytes))}if(null==e||!0!==e[eF])return null;{let{version:t,multihash:r,code:n}=e,i=ef(r);return eO.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eD)return new eO(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eD}) block encoding`);case 1:{let n=eU(e,t,r.bytes);return new eO(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eO.create(0,eD,e)}static createV1(e,t){return eO.create(1,e,t)}static decode(e){let[t,r]=eO.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eO.inspectBytes(e),r=t.size-t.multihashSize,n=x(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),a=new em(t.multihashCode,t.digestSize,i,n);return[0===t.version?eO.createV0(a):eO.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ed(e.subarray(t));return t+=n,r},n=r(),i=eD;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let a=t,s=r(),o=r(),l=t+o;return{version:n,codec:i,multihashCode:s,digestSize:o,multihashSize:l-a,size:l}}static parse(e,t){let[r,n]=e$(e,t),i=eO.decode(n);return i._baseCache.set(r,e),i}}let e$=(e,t)=>{switch(e[0]){case"Q":{let r=t||Z;return[Z.prefix,r.decode(`${Z.prefix}${e}`)]}case Z.prefix:{let r=t||Z;return[Z.prefix,r.decode(e)]}case F.prefix:{let r=t||F;return[F.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eM=(e,t,r)=>{let{prefix:n}=r;if(n!==Z.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eR=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eD=112,eL=18,eU=(e,t,r)=>{let n=eh(e),i=n+eh(t),a=new Uint8Array(i+r.byteLength);return eu(e,a,0),eu(t,a,n),a.set(r,i),a},eF=Symbol.for("@ipld/js-cid/CID"),eB={writable:!1,configurable:!1,enumerable:!0},eW={writable:!1,enumerable:!1,configurable:!1},ez=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eq=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eH={...n,...i,...a,...s,...o,...l,...c,...d,...u,...h};function eV(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...p,...f});let eG=eV("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),eK=eV("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=y((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eJ={utf8:eG,"utf-8":eG,hex:eH.base16,latin1:eK,ascii:eK,binary:eK,...eH};function eY(e,t="utf8"){let r=eJ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function eZ(e,t="utf8"){let r=eJ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},38831:(e,t,r)=>{"use strict";t.g=void 0;let n=r(68741);t.g=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let a=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),s=i("description","og:description","twitter:description","keywords"),o=t.origin;return{description:s,url:o,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],a=i.getAttribute("rel");if(a&&a.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:a}}},38880:(e,t)=>{let r,n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},38986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=v,t.fromBig=i,t.split=a;let r=BigInt(0x100000000-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function a(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:o}=i(e[a],t);[n[a],s[a]]=[r,o]}return[n,s]}let s=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=s;let o=(e,t,r)=>e>>>r;t.shrSH=o;let l=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=l;let c=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=c;let d=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=d;let u=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=u;let h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;let p=(e,t)=>t;t.rotr32H=p;let f=(e,t)=>e;t.rotr32L=f;let g=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=g;let m=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=m;let y=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=y;let w=(e,t,r)=>e<<r-32|t>>>64-r;function v(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}t.rotlBL=w;let b=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=b;let x=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;t.add3H=x;let E=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=E;let _=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0;t.add4H=_;let C=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=C;let k=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0;t.add5H=k,t.default={fromBig:i,split:a,toBig:s,shrSH:o,shrSL:l,rotrSH:c,rotrSL:d,rotrBH:u,rotrBL:h,rotr32H:p,rotr32L:f,rotlSH:g,rotlSL:m,rotlBH:y,rotlBL:w,add:v,add3L:b,add3H:x,add4L:E,add4H:_,add5H:k,add5L:C}},39612:(e,t,r)=>{"use strict";r.d(t,{CL:()=>l,D5:()=>d,Di:()=>h,G1:()=>P,Gi:()=>c,L5:()=>k,MI:()=>N,RV:()=>E,Sf:()=>x,WT:()=>A,XU:()=>o,YW:()=>g,ab:()=>m,bq:()=>u,cg:()=>S,ch:()=>C,hA:()=>p,hl:()=>I,jz:()=>j,qZ:()=>f,s0:()=>y,sV:()=>b,uL:()=>T,vx:()=>v,xQ:()=>w,xq:()=>_});var n=r(98815),i=r(19714);class a extends n.C{constructor(e,{code:t,docsPath:r,metaMessages:n,name:a,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class s extends a{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class o extends a{constructor(e){super(e,{code:o.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class l extends a{constructor(e){super(e,{code:l.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class c extends a{constructor(e,{method:t}={}){super(e,{code:c.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class d extends a{constructor(e){super(e,{code:d.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends a{constructor(e){super(e,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class h extends a{constructor(e){super(e,{code:h.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class p extends a{constructor(e){super(e,{code:p.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class f extends a{constructor(e){super(e,{code:f.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends a{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends a{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends a{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class w extends a{constructor(e){super(e,{code:w.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends s{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class b extends s{constructor(e){super(e,{code:b.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class x extends s{constructor(e,{method:t}={}){super(e,{code:x.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class E extends s{constructor(e){super(e,{code:E.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class _ extends s{constructor(e){super(e,{code:_.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class C extends s{constructor(e){super(e,{code:C.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class k extends s{constructor(e){super(e,{code:k.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class A extends s{constructor(e){super(e,{code:A.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class I extends s{constructor(e){super(e,{code:I.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class S extends s{constructor(e){super(e,{code:S.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class T extends s{constructor(e){super(e,{code:T.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class P extends s{constructor(e){super(e,{code:P.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class j extends s{constructor(e){super(e,{code:j.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(j,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class N extends a{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},40398:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var n=r(95834);let i=new Map;function a({fn:e,id:t,shouldSplitBatch:r,wait:a=0,sort:s}){let o=async()=>{let t=d();l();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},l=()=>i.delete(t),c=()=>d().map(({args:e})=>e),d=()=>i.get(t)||[],u=e=>i.set(t,[...d(),e]);return{flush:l,async schedule(e){let{promise:t,resolve:i,reject:s}=(0,n.Y)();return(r?.([...c(),e])&&o(),d().length>0)?u({args:e,resolve:i,reject:s}):(u({args:e,resolve:i,reject:s}),setTimeout(o,a)),t}}}},40704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68362);n.__exportStar(r(23246),t),n.__exportStar(r(2603),t),n.__exportStar(r(53946),t),n.__exportStar(r(95714),t)},42153:(e,t,r)=>{"use strict";r.d(t,{Sl:()=>i,X:()=>s,eV:()=>o,kK:()=>a});var n=r(89235);function i(e,t){if(n.Ej(e)>t)throw new n.u({givenSize:n.Ej(e),maxSize:t})}function a(e,t){if("number"==typeof t&&t>0&&t>n.Ej(e)-1)throw new n.ii({offset:t,position:"start",size:n.Ej(e)})}function s(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.Ej(e)!==r-t)throw new n.ii({offset:r,position:"end",size:n.Ej(e)})}function o(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let a=e.replace("0x","");if(a.length>2*i)throw new n.Fl({size:Math.ceil(a.length/2),targetSize:i,type:"Hex"});return`0x${a["right"===r?"padEnd":"padStart"](2*i,"0")}`}},42507:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(23403),i=r(64166);function a(e,t="wei"){return(0,i.J)(e,n.sz[t])}},42825:(e,t,r)=>{"use strict";r.d(t,{D5:()=>k,U5:()=>C,h6:()=>i.a,iP:()=>E,oI:()=>_});var n=r(69786),i=r.n(n),a=r(43617);let s={level:"info"},o="custom_context";class l{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class c{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new l(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}class d{constructor(e,t=1024e3){this.level=e??"error",this.levelValue=n.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new c(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===n.levels.values.error?console.error(e):t===n.levels.values.warn?console.warn(e):t===n.levels.values.debug?console.debug(e):t===n.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,a.h)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new c(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,a.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class u{constructor(e,t=1024e3){this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class h{constructor(e,t=1024e3){this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var p=Object.defineProperty,f=Object.defineProperties,g=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&v(e,r,t[r]);if(m)for(var r of m(t))w.call(t,r)&&v(e,r,t[r]);return e},x=(e,t)=>f(e,g(t));function E(e){return x(b({},e),{level:e?.level||s.level})}function _(e,t=o){return typeof e.bindings>"u"?function(e,t=o){return e[t]||""}(e,t):e.bindings().context||""}function C(e,t,r=o){let n=function(e,t,r=o){let n=_(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=o){return e[r]=t,e}(e.child({context:n}),n,r)}function k(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let n=new u(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(x(b({},e.opts),{level:"trace",browser:x(b({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;let r=new h(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(x(b({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}},43617:(e,t,r)=>{"use strict";r.d(t,{h:()=>s,j:()=>a});let n=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function a(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return i(e)}catch(t){return e}}function s(e){return"string"==typeof e?e:n(e)||""}},43764:(e,t,r)=>{"use strict";var n=r(8640),i=r(24361);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}n.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},45236:(e,t,r)=>{"use strict";e.exports=r(34316)},45564:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,a=l(e),s=a[0],o=a[1],c=new i((s+o)*3/4-o),d=0,u=o>0?s-4:s;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=0,o=n-i;s<o;s+=16383)a.push(function(e,t,n){for(var i,a=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},45580:(e,t,r)=>{"use strict";r.d(t,{e:()=>u});var n=r(51692),i=r(25783),a=r(96851),s=r(21892),o=r(71804);class l extends o.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var c=r(1136),d=r(9168);function u(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,c.WL)(r))continue;let i=(0,c.FO)(r);if(!i)throw new s.s7({signature:r,type:"struct"});let a=i.properties.split(";"),o=[],l=a.length;for(let e=0;e<l;e++){let t=a[e].trim();if(!t)continue;let r=(0,d.Pj)(t,{type:"struct"});o.push(r)}if(!o.length)throw new s.X9({signature:r});t[i.name]=o}let o={},u=Object.entries(t),p=u.length;for(let e=0;e<p;e++){let[r,s]=u[e];o[r]=function e(t,r,s=new Set){let o=[],c=t.length;for(let u=0;u<c;u++){let c=t[u];if(n.wj.test(c.type))o.push(c);else{let t=(0,n.Yv)(h,c.type);if(!t?.type)throw new a.nx({abiParameter:c});let{array:u,type:p}=t;if(p in r){if(s.has(p))throw new l({type:p});o.push({...c,type:`tuple${u??""}`,components:e(r[p]??[],r,new Set([...s,p]))})}else if((0,d._o)(p))o.push(c);else throw new i.zz({type:p})}}return o}(s,t)}return o}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},45909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=a,t.abytes=s,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=l,t.bytesToHex=function(e){if(s(e),c)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=d[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=h(e.charCodeAt(i)),a=h(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n},t.asyncLoop=p,t.utf8ToBytes=f,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=g,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),s(e),e},t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=y,t.createOptHasher=w,t.createXOFer=v,t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let n=r(12597);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:l;let c="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),u={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=u._0&&e<=u._9?e-u._0:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}async function p(e,r,n){let i=Date.now();for(let a=0;a<e;a++){n(a);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function f(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function g(e){return"string"==typeof e&&(e=f(e)),s(e),e}t.nextTick=async()=>{};class m{}function y(e){let t=t=>e().update(g(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function w(e){let t=(t,r)=>e(r).update(g(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function v(e){let t=(t,r)=>e(r).update(g(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}t.Hash=m,t.wrapConstructor=y,t.wrapConstructorWithOpts=w,t.wrapXOFConstructorWithOpts=v},46720:(e,t,r)=>{"use strict";r.d(t,{B4:()=>p,CQ:()=>b,CW:()=>v,Ei:()=>u,F8:()=>x,P5:()=>h,TH:()=>E,Vl:()=>y,Vr:()=>w,WM:()=>f,WQ:()=>m,im:()=>g,jm:()=>o,lD:()=>a,qh:()=>d,rE:()=>l,ry:()=>c,xn:()=>s});let n=BigInt(0x100000000-1),i=BigInt(32);function a(e,t=!1){let r=e.length,s=new Uint32Array(r),o=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}(e[a],t);[s[a],o[a]]=[r,l]}return[s,o]}let s=(e,t,r)=>e>>>r,o=(e,t,r)=>e<<32-r|t>>>r,l=(e,t,r)=>e>>>r|t<<32-r,c=(e,t,r)=>e<<32-r|t>>>r,d=(e,t,r)=>e<<64-r|t>>>r-32,u=(e,t,r)=>e>>>r-32|t<<64-r,h=(e,t,r)=>e<<r|t>>>32-r,p=(e,t,r)=>t<<r|e>>>32-r,f=(e,t,r)=>t<<r-32|e>>>64-r,g=(e,t,r)=>e<<r-32|t>>>64-r;function m(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let y=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),w=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,v=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),b=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,x=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),E=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0},46754:(e,t,r)=>{"use strict";r.d(t,{Hi:()=>i,ft:()=>a,uj:()=>o});var n=r(98815);class i extends n.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class a extends n.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function o(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n",n+=s(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=s(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},47296:(e,t,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},47661:(e,t,r)=>{"use strict";var n=r(8640),i=r(17656);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}n.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},47772:(e,t,r)=>{"use strict";var n=r(13463);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return n.isHttpUrl}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}})},49900:(e,t)=>{function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){let n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){let i=r.modules.size,a=r.modules.data,s=t.getScale(i,n),o=Math.floor((i+2*n.margin)*s),l=n.margin*s,c=[n.color.light,n.color.dark];for(let t=0;t<o;t++)for(let r=0;r<o;r++){let d=(t*o+r)*4,u=n.color.light;t>=l&&r>=l&&t<o-l&&r<o-l&&(u=c[+!!a[Math.floor((t-l)/s)*i+Math.floor((r-l)/s)]]),e[d++]=u.r,e[d++]=u.g,e[d++]=u.b,e[d]=u.a}}},51256:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},51319:(e,t,r)=>{"use strict";r.d(t,{VH:()=>c,li:()=>l});var n=r(38356),i=r(40704),a=r(28709);class s extends a.H{constructor(e){super()}}let o=i.FIVE_SECONDS,l={pulse:"heartbeat_pulse"};class c extends s{constructor(e){super(e),this.events=new n.EventEmitter,this.interval=o,this.interval=e?.interval||o}static async init(e){let t=new c(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(l.pulse)}}},51692:(e,t,r)=>{"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.d(t,{BD:()=>i,Ge:()=>a,Yv:()=>n,wj:()=>s});let i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,a=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,s=/^\(.+?\).*?$/},51820:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(8542);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.rj({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.rj({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},51850:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(25780);function i(e){return"function"===e.type?`function ${e.name}(${(0,n.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,n.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,n.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,n.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,n.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}},52116:(e,t,r)=>{"use strict";var n=r(2272);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function a(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=a,t.isBrowser=function(){return!i()&&!a()}},52406:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},53447:(e,t,r)=>{let n=r(38880),i=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){let r=e.bit<<3|t,a=r<<10;for(;n.getBCHDigit(a)-i>=0;)a^=1335<<n.getBCHDigit(a)-i;return(r<<10|a)^21522}},53939:(e,t,r)=>{"use strict";r.d(t,{$s:()=>c,Kc:()=>u,Kz:()=>d,Vg:()=>l,WA:()=>h,aO:()=>s,n3:()=>o});var n=r(76141),i=r(42507),a=r(98815);function s(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class o extends a.C{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}a.C;class l extends a.C{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",s(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}a.C,a.C,a.C;class c extends a.C{constructor(e,{account:t,docsPath:r,chain:a,data:o,gas:l,gasPrice:c,maxFeePerGas:d,maxPriorityFeePerGas:u,nonce:h,to:p,value:f}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",s({chain:a&&`${a?.name} (id: ${a?.id})`,from:t?.address,to:p,value:void 0!==f&&`${(0,n.c)(f)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,i.Q)(c)} gwei`,maxFeePerGas:void 0!==d&&`${(0,i.Q)(d)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,i.Q)(u)} gwei`,nonce:h})].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class d extends a.C{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let a="Transaction";r&&void 0!==i&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(a=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(a=`Transaction at block number "${t}" at index "${i}"`),n&&(a=`Transaction with hash "${n}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class u extends a.C{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class h extends a.C{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},53946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(68362).__exportStar(r(69201),t)},54015:(e,t,r)=>{"use strict";var n=(function(e){e&&"object"==typeof e&&"default"in e&&e.default}(r(68658)),r(84677)),i=new n,a=i.getBrowser(),s=i.getCPU(),o=i.getDevice(),l=i.getEngine(),c=i.getOS(),d=i.getUA(),u=function(e){if(!e)return void console.error("No userAgent string was provided");var t=new n(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}},h=Object.freeze({ClientUAInstance:i,browser:a,cpu:s,device:o,engine:l,os:c,ua:d,setUa:function(e){return i.setUA(e)},parseUserAgent:u});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var f={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},g={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},m={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},y={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},v=function(){return!!("undefined"!=typeof window&&(window.navigator||navigator))&&(window.navigator||navigator)},b=function(e){var t=v();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},x=function(e){return e.type===f.Mobile},E=function(e){return e.type===f.Tablet},_=function(e){var t=e.type;return t===f.Mobile||t===f.Tablet},C=function(e){return e.type===f.SmartTv},k=function(e){return e.type===f.Browser},A=function(e){return e.type===f.Wearable},I=function(e){return e.type===f.Console},S=function(e){return e.type===f.Embedded},T=function(e){return w(e.vendor)},P=function(e){return w(e.model)},j=function(e){return w(e.type,"browser")},N=function(e){return e.name===m.Android},O=function(e){return e.name===m.Windows},$=function(e){return e.name===m.MAC_OS},M=function(e){return e.name===m.WindowsPhone},R=function(e){return e.name===m.IOS},D=function(e){return w(e.version)},L=function(e){return w(e.name)},U=function(e){return e.name===g.Chrome},F=function(e){return e.name===g.Firefox},B=function(e){return e.name===g.Chromium},W=function(e){return e.name===g.Edge},z=function(e){return e.name===g.Yandex},q=function(e){var t=e.name;return t===g.Safari||t===g.MobileSafari},H=function(e){return e.name===g.MobileSafari},V=function(e){return e.name===g.Opera},G=function(e){var t=e.name;return t===g.InternetExplorer||t===g.Ie},K=function(e){return e.name===g.MIUI},J=function(e){return e.name===g.SamsungBrowser},Y=function(e){return w(e.version)},Z=function(e){return w(e.major)},Q=function(e){return w(e.name)},X=function(e){return w(e.name)},ee=function(e){return w(e.version)},et=function(){var e=v(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)},er=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},en=function(){var e=v();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},ei=function(){return b("iPad")},ea=function(){return b("iPhone")},es=function(){return b("iPod")},eo=function(e){return w(e)};C(o),I(o),A(o),S(o),H(a)||ei(),B(a);var el=_(o)||ei(),ec=(x(o),E(o)||ei(),k(o),k(o),N(c)),ed=(M(c),R(c)||ei()),eu=(U(a),F(a)),eh=q(a);V(a),G(a),D(c),L(c),Y(a),Z(a),Q(a),T(o),P(o),X(l),ee(l),eo(d),W(a)||er(d),z(a),j(o),en(),ei(),ea(),es(),et(),er(d),W(a)&&er(d),O(c),$(c),K(a),J(a);t.m0=ec,t.gm=eu,t.un=ed,t.Fr=el,t.nr=eh},55425:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(69214);class i extends n.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.sd)(e);let r=(0,n.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),(0,n.uH)(a)}update(e){return(0,n.CC)(this),this.iHash.update(e),this}digestInto(e){(0,n.CC)(this),(0,n.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let a=(e,t,r)=>new i(e,t).update(r).digest();a.create=(e,t)=>new i(e,t)},55917:(e,t,r)=>{"use strict";r.d(t,{sc:()=>n});let n=r(69523).sc},57141:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/HeartbeatWorker.3ef8cf74.js"},57953:function(e){e.exports=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(r,n){if(n=n||{},"function"!=typeof r)throw new t("fetch must be a function");if("object"!=typeof n)throw new t("defaults must be an object");if(void 0!==n.retries&&!e(n.retries))throw new t("retries must be a positive integer");if(void 0!==n.retryDelay&&!e(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new t("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(i,a){var s=n.retries,o=n.retryDelay,l=n.retryOn;if(a&&void 0!==a.retries)if(e(a.retries))s=a.retries;else throw new t("retries must be a positive integer");if(a&&void 0!==a.retryDelay)if(e(a.retryDelay)||"function"==typeof a.retryDelay)o=a.retryDelay;else throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(a&&a.retryOn)if(Array.isArray(a.retryOn)||"function"==typeof a.retryOn)l=a.retryOn;else throw new t("retryOn property expects an array or function");return new Promise(function(e,t){var n=function(n){r("undefined"!=typeof Request&&i instanceof Request?i.clone():i,a).then(function(r){if(Array.isArray(l)&&-1===l.indexOf(r.status))e(r);else if("function"==typeof l)try{return Promise.resolve(l(n,null,r)).then(function(t){t?c(n,null,r):e(r)}).catch(t)}catch(e){t(e)}else n<s?c(n,null,r):e(r)}).catch(function(e){if("function"==typeof l)try{Promise.resolve(l(n,e,null)).then(function(r){r?c(n,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else n<s?c(n,e,null):t(e)})};function c(e,t,r){setTimeout(function(){n(++e)},"function"==typeof o?o(e,t,r):o)}n(0)})}}}()},58106:(e,t,r)=>{"use strict";r.d(t,{ER:()=>a,Im:()=>l,dZ:()=>c,eX:()=>s,e_:()=>o});var n=r(74881),i=r(82698);function a(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function s(e=6){return BigInt(a(e))}function o(e,t,r){return{id:r||a(),jsonrpc:"2.0",method:e,params:t}}function l(e,t){return{id:e,jsonrpc:"2.0",result:t}}function c(e,t,r){var a,s;return{id:e,jsonrpc:"2.0",error:(a=t,s=r,void 0===a?(0,n.vG)(i.zR):("string"==typeof a&&(a=Object.assign(Object.assign({},(0,n.vG)(i.fO)),{message:a})),void 0!==s&&(a.data=s),(0,n.mE)(a.code)&&(a=(0,n.rI)(a.code)),a))}}},58296:(e,t,r)=>{"use strict";r.d(t,{BD:()=>n,Ge:()=>i});let n=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,i=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},59570:(e,t,r)=>{"use strict";function n(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function i(e){return n(e,"^https?:")}function a(e){return n(e,"^wss?:")}function s(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{A1:()=>a,q$:()=>i,z:()=>s})},60280:(e,t,r)=>{let n=r(20964);function i(e){this.mode=n.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=i},63514:()=>{},63739:(e,t,r)=>{let n=r(92865),i=r(23185),a=r(10815),s=r(24706);function o(e,t,r,a,s){let o=[].slice.call(arguments,1),l=o.length,c="function"==typeof o[l-1];if(!c&&!n())throw Error("Callback required as last argument");if(c){if(l<2)throw Error("Too few arguments provided");2===l?(s=r,r=t,t=a=void 0):3===l&&(t.getContext&&void 0===s?(s=a,a=void 0):(s=a,a=r,r=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(r=t,t=a=void 0):2!==l||t.getContext||(a=r,r=t,t=void 0),new Promise(function(n,s){try{let s=i.create(r,a);n(e(s,t,a))}catch(e){s(e)}})}try{let n=i.create(r,a);s(null,e(n,t,a))}catch(e){s(e)}}t.create=i.create,t.toCanvas=o.bind(null,a.render),t.toDataURL=o.bind(null,a.renderToDataURL),t.toString=o.bind(null,function(e,t,r){return s.render(e,r)})},64044:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(27629),i=r(38476),a=r(21758),s=r(614),o=r(65942);function l(e){let{abi:t,data:r}=e,l=(0,i.di)(r,0,4),c=t.find(e=>"function"===e.type&&l===(0,a.V)((0,o.B)(e)));if(!c)throw new n.EB(l,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:c.name,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,s.n)(c.inputs,(0,i.di)(r,4)):void 0}}},64166:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,a]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${a?`.${a}`:""}`}r.d(t,{J:()=>n})},64251:(e,t,r)=>{"use strict";r.d(t,{GK:()=>n,H_:()=>a,xh:()=>o,yG:()=>i,zv:()=>s});let n={path:"/api/v1/wallets",method:"POST"},i={path:"/api/v1/wallets/:wallet_id",method:"GET"},a={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},s={path:"/api/v1/wallets/:wallet_id",method:"PATCH"},o={path:"/api/v1/wallets/revoke",method:"POST"}},64325:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}catch(e){return r}}},64606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},65143:(e,t,r)=>{"use strict";r.d(t,{c:()=>c});var n=r(31084);let i=2n**256n-1n;var a=r(90175),s=r(4609),o=r(53939),l=r(28060);function c(e){let{account:t,gasPrice:r,maxFeePerGas:c,maxPriorityFeePerGas:d,to:u}=e,h=t?(0,n.J)(t):void 0;if(h&&!(0,l.P)(h.address))throw new a.M({address:h.address});if(u&&!(0,l.P)(u))throw new a.M({address:u});if(void 0!==r&&(void 0!==c||void 0!==d))throw new o.n3;if(c&&c>i)throw new s.BG({maxFeePerGas:c});if(d&&c&&d>c)throw new s.lN({maxFeePerGas:c,maxPriorityFeePerGas:d})}},65942:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,B:()=>i});var n=r(27629);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.d_(e.type);return`${e.name}(${a(e.inputs,{includeName:t})})`}function a(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${a(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},66090:(e,t,r)=>{"use strict";r.d(t,{x:()=>Q});let n="2.23.2",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class a extends Error{constructor(e,t={}){let r=t.cause instanceof a?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof a&&t.cause.docsPath||t.docsPath,o=i.getDocsUrl?.({...t,docsPath:s});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}function s(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class o extends a{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function l(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new o({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new o({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let a="right"===t;n[a?i:r-i-1]=e[a?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class c extends a{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class d extends a{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function u(e){return s(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function h(e,{size:t}){if(u(e)>t)throw new d({givenSize:u(e),maxSize:t})}function p(e,t={}){let{signed:r}=t;t.size&&h(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}let f=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e,t={}){return"number"==typeof e||"bigint"==typeof e?y(e,t):"string"==typeof e?function(e,t={}){return m(w.encode(e),t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(h(r,{size:t.size}),l(r,{size:t.size})):r}(e,t):m(e,t)}function m(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=f[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(h(n,{size:t.size}),l(n,{dir:"right",size:t.size})):n}function y(e,t={}){let r,{signed:n,size:i}=t,a=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&a>r||a<s){let t="bigint"==typeof e?"n":"";throw new c({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let o=`0x${(n&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?l(o,{size:i}):o}let w=new TextEncoder,v=new TextEncoder,b={zero:48,nine:57,A:65,F:70,a:97,f:102};function x(e){return e>=b.zero&&e<=b.nine?e-b.zero:e>=b.A&&e<=b.F?e-(b.A-10):e>=b.a&&e<=b.f?e-(b.a-10):void 0}function E(e,t={}){let r=e;t.size&&(h(r,{size:t.size}),r=l(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=x(n.charCodeAt(t++)),i=x(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new a(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=16*r+i}return s}function _(e,t={}){let r=v.encode(e);return"number"==typeof t.size?(h(r,{size:t.size}),l(r,{dir:"right",size:t.size})):r}var C=r(1887);let k=BigInt(0x100000000-1),A=BigInt(32),I=(e,t,r)=>e<<r|t>>>32-r,S=(e,t,r)=>t<<r|e>>>32-r,T=(e,t,r)=>t<<r-32|e>>>64-r,P=(e,t,r)=>e<<r-32|t>>>64-r;var j=r(2452);let N=[],O=[],$=[],M=BigInt(0),R=BigInt(1),D=BigInt(2),L=BigInt(7),U=BigInt(256),F=BigInt(113);for(let e=0,t=R,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],N.push(2*(5*n+r)),O.push((e+1)*(e+2)/2%64);let i=M;for(let e=0;e<7;e++)(t=(t<<R^(t>>L)*F)%U)&D&&(i^=R<<(R<<BigInt(e))-R);$.push(i)}let[B,W]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&k),l:Number(e>>A&k)}:{h:0|Number(e>>A&k),l:0|Number(e&k)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}($,!0),z=(e,t,r)=>r>32?T(e,t,r):I(e,t,r),q=(e,t,r)=>r>32?P(e,t,r):S(e,t,r);class H extends j.Vw{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,C.Fe)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,j.DH)(this.state)}keccak(){j.qv||(0,j.Fc)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=z(a,s,1)^r[n],l=q(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=O[r],a=z(t,i,n),s=q(t,i,n),o=N[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=B[n],e[1]^=W[n]}r.fill(0)}(this.state32,this.rounds),j.qv||(0,j.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,C.CC)(this);let{blockLen:t,state:r}=this,n=(e=(0,j.ZJ)(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,C.CC)(this,!1),(0,C.DO)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,C.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,C.Ht)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new H(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let V=(0,j.ld)(()=>new H(136,1,32));function G(e,t){let r=V(s(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?E(y(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(h(r,{size:t.size}),l(r,{size:t.size})):r}(e,t):s(e)?E(e,t):_(e,t)}(e):e);return"bytes"===(t||"hex")?r:g(r)}class K extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let J=new K(8192);async function Y({hash:e,signature:t}){let n=s(e)?e:g(e),{secp256k1:i}=await r.e(9007).then(r.bind(r,29007)),a=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:a}=t,s=Z(Number(a??n));return new i.Signature(p(e),p(r)).addRecoveryBit(s)}let e=s(t)?t:g(t),r=Z(function(e,t={}){return Number(p(e,t))}(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${a}`}function Z(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function Q({hash:e,signature:t}){var r=await Y({hash:e,signature:t});let n=G(`0x${r.substring(4)}`).substring(26);return function(e,t){if(J.has(`${e}.${void 0}`))return J.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=G(_(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let a=`0x${i.join("")}`;return J.set(`${e}.${t}`,a),a}(`0x${n}`)}},68337:(e,t,r)=>{e.exports=r(77694)},68362:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>a,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>d,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>A,__createBinding:()=>h,__decorate:()=>o,__exportStar:()=>p,__extends:()=>i,__generator:()=>u,__importDefault:()=>C,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>l,__read:()=>g,__rest:()=>s,__spread:()=>m,__spreadArrays:()=>y,__values:()=>f});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}function u(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){var l=[a,o];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,n=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(6===l[0]&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function h(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{var r;(r=i[e](t)).value instanceof w?Promise.resolve(r.value.v).then(l,c):d(a[0][2],r)}catch(e){d(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function b(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var a,s,o;a=n,s=i,o=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){a({value:e,done:o})},s)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},68741:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},68901:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{lY:()=>_});var s=r(46720),o=r(69214);let l=BigInt(0),c=BigInt(1),d=BigInt(2),u=BigInt(7),h=BigInt(256),p=BigInt(113),f=[],g=[],m=[];for(let e=0,t=c,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],f.push(2*(5*n+r)),g.push((e+1)*(e+2)/2%64);let i=l;for(let e=0;e<7;e++)(t=(t<<c^(t>>u)*p)%h)&d&&(i^=c<<(c<<BigInt(e))-c);m.push(i)}let y=(0,s.lD)(m,!0),w=y[0],v=y[1],b=(e,t,r)=>r>32?(0,s.WM)(e,t,r):(0,s.P5)(e,t,r),x=(e,t,r)=>r>32?(0,s.im)(e,t,r):(0,s.B4)(e,t,r);class E extends o.Vw{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,o.Fe)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,o.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,o.fd)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=b(a,s,1)^r[n],l=x(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=g[r],a=b(t,i,n),s=x(t,i,n),o=f[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=w[n],e[1]^=v[n]}(0,o.uH)(r)}(this.state32,this.rounds),(0,o.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,o.CC)(this),e=(0,o.ZJ)(e),(0,o.DO)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,o.CC)(this,!1),(0,o.DO)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,o.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,o.Ht)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,o.uH)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new E(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let _=(n=1,i=136,a=32,(0,o.qj)(()=>new E(i,n,a)))},69201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},69214:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>_,DO:()=>s,CC:()=>l,sd:()=>o,Fe:()=>a,Ht:()=>c,My:()=>y,uH:()=>u,Id:()=>E,qj:()=>C,O8:()=>h,aT:()=>b,aY:()=>i,po:()=>k,Ow:()=>p,fd:()=>f,ZJ:()=>x,DH:()=>d});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)}function l(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function d(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function u(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function p(e,t){return e<<32-t|e>>>t}let f=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},g="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function y(e){if(s(e),g)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=m[e[r]];return t}let w={_0:48,_9:57,A:65,F:70,a:97,f:102};function v(e){return e>=w._0&&e<=w._9?e-w._0:e>=w.A&&e<=w.F?e-(w.A-10):e>=w.a&&e<=w.f?e-(w.a-10):void 0}function b(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(g)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=v(e.charCodeAt(i)),a=v(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function x(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}function E(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class _{}function C(e){let t=t=>e().update(x(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function k(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},69409:(e,t,r)=>{"use strict";r.d(t,{$P:()=>l,My:()=>c,cK:()=>d,i3:()=>h,nj:()=>o});var n=r(79712),i=r(37479),a=r(77682);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?d(e,t):"string"==typeof e?h(e,t):"boolean"==typeof e?l(e,t):c(e,t)}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,a.Sl)(r,{size:t.size}),(0,i.eV)(r,{size:t.size})):r}function c(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,a.Sl)(n,{size:t.size}),(0,i.eV)(n,{dir:"right",size:t.size})):n}function d(e,t={}){let r,{signed:a,size:s}=t,o=BigInt(e);s?r=a?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let l="bigint"==typeof r&&a?-r-1n:0;if(r&&o>r||o<l){let t="bigint"==typeof e?"n":"";throw new n.Ty({max:r?`${r}${t}`:void 0,min:`${l}${t}`,signed:a,size:s,value:`${e}${t}`})}let c=`0x${(a&&o<0?(1n<<BigInt(8*s))+BigInt(o):o).toString(16)}`;return s?(0,i.eV)(c,{size:s}):c}let u=new TextEncoder;function h(e,t={}){return c(u.encode(e),t)}},69523:(e,t,r)=>{"use strict";r.d(t,{sc:()=>y,Zf:()=>w});var n=r(69214);class i extends n.Vw{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.O8)(this.buffer)}update(e){(0,n.CC)(this),e=(0,n.ZJ)(e),(0,n.DO)(e);let{view:t,buffer:r,blockLen:i}=this,a=e.length;for(let s=0;s<a;){let o=Math.min(i-this.pos,a-s);if(o===i){let t=(0,n.O8)(e);for(;i<=a-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.CC)(this),(0,n.Ht)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:a}=this,{pos:s}=this;t[s++]=128,(0,n.uH)(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);let o=(0,n.O8)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,d=this.get();if(c>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,d[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let a=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),s=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);var o=r(46720);let l=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),c=new Uint32Array(64);class d extends i{constructor(e=32){super(64,e,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],i=(0,n.Ow)(t,7)^(0,n.Ow)(t,18)^t>>>3,a=(0,n.Ow)(r,17)^(0,n.Ow)(r,19)^r>>>10;c[e]=a+c[e-7]+i+c[e-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:d,G:u,H:h}=this;for(let e=0;e<64;e++){var p,f,g,m;let t=h+((0,n.Ow)(o,6)^(0,n.Ow)(o,11)^(0,n.Ow)(o,25))+((p=o)&d^~p&u)+l[e]+c[e]|0,y=((0,n.Ow)(r,2)^(0,n.Ow)(r,13)^(0,n.Ow)(r,22))+((f=r)&(g=i)^f&(m=a)^g&m)|0;h=u,u=d,d=o,o=s+t|0,s=a,a=i,i=r,r=t+y|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,d=d+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,a,s,o,d,u,h)}roundClean(){(0,n.uH)(c)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.uH)(this.buffer)}}let u=o.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),h=u[0],p=u[1],f=new Uint32Array(80),g=new Uint32Array(80);class m extends i{constructor(e=64){super(128,e,16,!1),this.Ah=0|s[0],this.Al=0|s[1],this.Bh=0|s[2],this.Bl=0|s[3],this.Ch=0|s[4],this.Cl=0|s[5],this.Dh=0|s[6],this.Dl=0|s[7],this.Eh=0|s[8],this.El=0|s[9],this.Fh=0|s[10],this.Fl=0|s[11],this.Gh=0|s[12],this.Gl=0|s[13],this.Hh=0|s[14],this.Hl=0|s[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:l,El:c,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,a,s,o,l,c,d,u,h,p,f,g]}set(e,t,r,n,i,a,s,o,l,c,d,u,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)f[r]=e.getUint32(t),g[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|f[e-15],r=0|g[e-15],n=o.rE(t,r,1)^o.rE(t,r,8)^o.xn(t,r,7),i=o.ry(t,r,1)^o.ry(t,r,8)^o.jm(t,r,7),a=0|f[e-2],s=0|g[e-2],l=o.rE(a,s,19)^o.qh(a,s,61)^o.xn(a,s,6),c=o.ry(a,s,19)^o.Ei(a,s,61)^o.jm(a,s,6),d=o.CW(i,c,g[e-7],g[e-16]),u=o.CQ(d,n,l,f[e-7],f[e-16]);f[e]=0|u,g[e]=0|d}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:l,Dh:c,Dl:d,Eh:u,El:m,Fh:y,Fl:w,Gh:v,Gl:b,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){let t=o.rE(u,m,14)^o.rE(u,m,18)^o.qh(u,m,41),_=o.ry(u,m,14)^o.ry(u,m,18)^o.Ei(u,m,41),C=u&y^~u&v,k=m&w^~m&b,A=o.F8(E,_,k,p[e],g[e]),I=o.TH(A,x,t,C,h[e],f[e]),S=0|A,T=o.rE(r,n,28)^o.qh(r,n,34)^o.qh(r,n,39),P=o.ry(r,n,28)^o.Ei(r,n,34)^o.Ei(r,n,39),j=r&i^r&s^i&s,N=n&a^n&l^a&l;x=0|v,E=0|b,v=0|y,b=0|w,y=0|u,w=0|m,({h:u,l:m}=o.WQ(0|c,0|d,0|I,0|S)),c=0|s,d=0|l,s=0|i,l=0|a,i=0|r,a=0|n;let O=o.Vl(S,P,N);r=o.Vr(O,I,T,j),n=0|O}({h:r,l:n}=o.WQ(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=o.WQ(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:l}=o.WQ(0|this.Ch,0|this.Cl,0|s,0|l)),({h:c,l:d}=o.WQ(0|this.Dh,0|this.Dl,0|c,0|d)),({h:u,l:m}=o.WQ(0|this.Eh,0|this.El,0|u,0|m)),({h:y,l:w}=o.WQ(0|this.Fh,0|this.Fl,0|y,0|w)),({h:v,l:b}=o.WQ(0|this.Gh,0|this.Gl,0|v,0|b)),({h:x,l:E}=o.WQ(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(r,n,i,a,s,l,c,d,u,m,y,w,v,b,x,E)}roundClean(){(0,n.uH)(f,g)}destroy(){(0,n.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let y=(0,n.qj)(()=>new d),w=(0,n.qj)(()=>new m)},69767:(e,t)=>{let r=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]}(),t.log=function(e){if(e<1)throw Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},69786:(e,t,r)=>{"use strict";let n=r(89047);e.exports=a;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function a(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let d=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let u=e.serializers||{},g=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(u)),m=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(m=!1),"function"==typeof d&&(d.error=d.fatal=d.warn=d.info=d.debug=d.trace=d),!1===e.enabled&&(e.level="silent");let y=e.level||"info",w=Object.create(d);w.log||(w.log=h),Object.defineProperty(w,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(w,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,s(v,w,"error","log"),s(v,w,"fatal","error"),s(v,w,"warn","error"),s(v,w,"info","log"),s(v,w,"debug","log"),s(v,w,"trace","log")}});let v={transmit:n,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?p:f};return w.levels=a.levels,w.level=y,w.setMaxListeners=w.getMaxListeners=w.emit=w.addListener=w.on=w.prependListener=w.once=w.prependOnceListener=w.removeListener=w.removeAllListeners=w.listeners=w.listenerCount=w.eventNames=w.write=w.flush=h,w.serializers=u,w._serialize=g,w._stdErrSerialize=m,w.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let i=r.serializers;if(g&&i){var a=Object.assign({},u,i),s=!0===e.browser.serialize?Object.keys(a):g;delete t.serializers,o([t],s,a,this._stdErrSerialize)}function d(e){this._childLevel=(0|e._childLevel)+1,this.error=l(e,t,"error"),this.fatal=l(e,t,"fatal"),this.warn=l(e,t,"warn"),this.info=l(e,t,"info"),this.debug=l(e,t,"debug"),this.trace=l(e,t,"trace"),a&&(this.serializers=a,this._serialize=s),n&&(this._logEvent=c([].concat(e._logEvent.bindings,t)))}return d.prototype=this,new d(this)},n&&(w._logEvent=c()),w}function s(e,t,r,s){let l=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?h:l[r]?l[r]:i[r]||i[s]||h,function(e,t,r){if(e.transmit||t[r]!==h){var s;t[r]=(s=t[r],function(){let l=e.timestamp(),d=Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<d.length;h++)d[h]=arguments[h];if(e.serialize&&!e.asObject&&o(d,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(u,function(e,t,r,i){e._serialize&&o(r,e._serialize,e.serializers,e._stdErrSerialize);let s=r.slice(),l=s[0],c={};i&&(c.time=i),c.level=a.levels.values[t];let d=(0|e._childLevel)+1;if(d<1&&(d=1),null!==l&&"object"==typeof l){for(;d--&&"object"==typeof s[0];)Object.assign(c,s.shift());l=s.length?n(s.shift(),s):void 0}else"string"==typeof l&&(l=n(s.shift(),s));return void 0!==l&&(c.msg=l),c}(this,r,d,l)):s.apply(u,d),e.transmit){let n=e.transmit.level||t.level,i=a.levels.values[n],s=a.levels.values[r];if(s<i)return;!function(e,t,r){let n=t.send,i=t.ts,a=t.methodLevel,s=t.methodValue,l=t.val,d=e._logEvent.bindings;o(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===d.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=s,n(a,e._logEvent,l),e._logEvent=c(d)}(this,{ts:l,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:a.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},d)}})}}(e,t,r)}function o(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=a.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function l(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function c(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function d(){return{}}function u(e){return e}function h(){}function p(){return!1}function f(){return Date.now()}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:u,wrapResponseSerializer:u,wrapErrorSerializer:u,req:d,res:d,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},a.stdTimeFunctions=Object.assign({},{nullTime:p,epochTime:f,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},70273:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{A:()=>s});var i=/^\s+/,a=/\s+$/;function s(e,t){if(t=t||{},(e=e||"")instanceof s)return e;if(!(this instanceof s))return new s(e,t);var r,o,l,c,d,u,h,p,f,g,m,y,w,v,b,x,E,C,I,T,j=(o={r:0,g:0,b:0},l=1,c=null,d=null,u=null,h=!1,p=!1,"string"==typeof(r=e)&&(r=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,r=!1;if(_[e])e=_[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=N.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=N.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=N.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=N.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=N.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=N.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=N.hex8.exec(e))?{r:S(t[1]),g:S(t[2]),b:S(t[3]),a:S(t[4])/255,format:r?"name":"hex8"}:(t=N.hex6.exec(e))?{r:S(t[1]),g:S(t[2]),b:S(t[3]),format:r?"name":"hex"}:(t=N.hex4.exec(e))?{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),a:S(t[4]+""+t[4])/255,format:r?"name":"hex8"}:!!(t=N.hex3.exec(e))&&{r:S(t[1]+""+t[1]),g:S(t[2]+""+t[2]),b:S(t[3]+""+t[3]),format:r?"name":"hex"}}(r)),"object"==n(r)&&(O(r.r)&&O(r.g)&&O(r.b)?(f=r.r,g=r.g,m=r.b,o={r:255*A(f,255),g:255*A(g,255),b:255*A(m,255)},h=!0,p="%"===String(r.r).substr(-1)?"prgb":"rgb"):O(r.h)&&O(r.s)&&O(r.v)?(c=P(r.s),d=P(r.v),y=r.h,w=c,v=d,y=6*A(y,360),w=A(w,100),v=A(v,100),b=Math.floor(y),x=y-b,E=v*(1-w),C=v*(1-x*w),I=v*(1-(1-x)*w),o={r:255*[v,C,E,E,I,v][T=b%6],g:255*[I,v,v,C,E,E][T],b:255*[E,E,I,v,v,C][T]},h=!0,p="hsv"):O(r.h)&&O(r.s)&&O(r.l)&&(c=P(r.s),u=P(r.l),o=function(e,t,r){var n,i,a;function s(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=A(e,360),t=A(t,100),r=A(r,100),0===t)n=i=a=r;else{var o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;n=s(l,o,e+1/3),i=s(l,o,e),a=s(l,o,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(r.h,c,u),h=!0,p="hsl"),r.hasOwnProperty("a")&&(l=r.a)),l=k(l),{ok:h,format:r.format||p,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:l});this._originalInput=e,this._r=j.r,this._g=j.g,this._b=j.b,this._a=j.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||j.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=j.ok}function o(e,t,r){e=A(e,255);var n,i,a=Math.max(e,t=A(t,255),r=A(r,255)),s=Math.min(e,t,r),o=(a+s)/2;if(a==s)n=i=0;else{var l=a-s;switch(i=o>.5?l/(2-a-s):l/(a+s),a){case e:n=(t-r)/l+6*(t<r);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:o}}function l(e,t,r){e=A(e,255);var n,i=Math.max(e,t=A(t,255),r=A(r,255)),a=Math.min(e,t,r),s=i-a;if(i==a)n=0;else{switch(i){case e:n=(t-r)/s+6*(t<r);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:0===i?0:s/i,v:i}}function c(e,t,r,n){var i=[T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(e,t,r,n){return[T(j(n)),T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(r).toString(16))].join("")}function u(e,t){t=0===t?0:t||10;var r=s(e).toHsl();return r.s-=t/100,r.s=I(r.s),s(r)}function h(e,t){t=0===t?0:t||10;var r=s(e).toHsl();return r.s+=t/100,r.s=I(r.s),s(r)}function p(e){return s(e).desaturate(100)}function f(e,t){t=0===t?0:t||10;var r=s(e).toHsl();return r.l+=t/100,r.l=I(r.l),s(r)}function g(e,t){t=0===t?0:t||10;var r=s(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(t/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(t/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(t/100*255)))),s(r)}function m(e,t){t=0===t?0:t||10;var r=s(e).toHsl();return r.l-=t/100,r.l=I(r.l),s(r)}function y(e,t){var r=s(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,s(r)}function w(e){var t=s(e).toHsl();return t.h=(t.h+180)%360,s(t)}function v(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var r=s(e).toHsl(),n=[s(e)],i=360/t,a=1;a<t;a++)n.push(s({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function b(e){var t=s(e).toHsl(),r=t.h;return[s(e),s({h:(r+72)%360,s:t.s,l:t.l}),s({h:(r+216)%360,s:t.s,l:t.l})]}function x(e,t,r){t=t||6,r=r||30;var n=s(e).toHsl(),i=360/r,a=[s(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(s(n));return a}function E(e,t){t=t||6;for(var r=s(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],l=1/t;t--;)o.push(s({h:n,s:i,v:a})),a=(a+l)%1;return o}s.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n,i,a,s=this.toRgb();return e=s.r/255,t=s.g/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((r=s.b/255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=k(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,r,n,i,a,s;return t=this._r,r=this._g,n=this._b,i=this._a,a=e,s=[T(Math.round(t).toString(16)),T(Math.round(r).toString(16)),T(Math.round(n).toString(16)),T(j(i))],a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*A(this._r,255))+"%",g:Math.round(100*A(this._g,255))+"%",b:Math.round(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*A(this._r,255))+"%, "+Math.round(100*A(this._g,255))+"%, "+Math.round(100*A(this._b,255))+"%)":"rgba("+Math.round(100*A(this._r,255))+"%, "+Math.round(100*A(this._g,255))+"%, "+Math.round(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+d(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=s(e);r="#"+d(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(v,[3])},tetrad:function(){return this._applyCombination(v,[4])}},s.fromRatio=function(e,t){if("object"==n(e)){var r={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?r[i]=e[i]:r[i]=P(e[i]));e=r}return s(e,t)},s.equals=function(e,t){return!!e&&!!t&&s(e).toRgbString()==s(t).toRgbString()},s.random=function(){return s.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},s.mix=function(e,t,r){r=0===r?0:r||50;var n=s(e).toRgb(),i=s(t).toRgb(),a=r/100;return s({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},s.readability=function(e,t){var r=s(e),n=s(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},s.isReadable=function(e,t,r){var n,i,a,o,l,c=s.readability(e,t);switch(l=!1,(i=((n=(n=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(n.size||"small").toLowerCase(),"AA"!==i&&"AAA"!==i&&(i="AA"),"small"!==a&&"large"!==a&&(a="small"),o={level:i,size:a}).level+o.size){case"AAsmall":case"AAAlarge":l=c>=4.5;break;case"AAlarge":l=c>=3;break;case"AAAsmall":l=c>=7}return l},s.mostReadable=function(e,t,r){var n,i,a,o,l=null,c=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var d=0;d<t.length;d++)(n=s.readability(e,t[d]))>c&&(c=n,l=s(t[d]));return s.isReadable(e,l,{level:a,size:o})||!i?l:(r.includeFallbackColors=!1,s.mostReadable(e,["#fff","#000"],r))};var _=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=s.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(_);function k(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function A(e,t){"string"==typeof(r=e)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(e="100%");var r,n,i="string"==typeof(n=e)&&-1!=n.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function I(e){return Math.min(1,Math.max(0,e))}function S(e){return parseInt(e,16)}function T(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function j(e){return Math.round(255*parseFloat(e)).toString(16)}var N=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:RegExp("rgb"+t),rgba:RegExp("rgba"+r),hsl:RegExp("hsl"+t),hsla:RegExp("hsla"+r),hsv:RegExp("hsv"+t),hsva:RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function O(e){return!!N.CSS_UNIT.exec(e)}},70585:(e,t,r)=>{"use strict";var n=r(8640).rotr32;function i(e,t,r){return e&t^e&r^t&r}t.ft_1=function(e,t,r,n){var a;return 0===e?(a=t)&r^~a&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},t.ch32=function(e,t,r){return e&t^~e&r},t.maj32=i,t.p32=function(e,t,r){return e^t^r},t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},70871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},71113:()=>{},71242:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(38356),i=r(43617),a=r(83327);let s=()=>"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,o=e=>e.split("?")[0],l="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(28274);class c{constructor(e){if(this.url=e,this.events=new n.EventEmitter,this.registering=!1,!(0,a.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u")return void t(Error("Connection already closed"));this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,a.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=(0,a.isReactNative)()?void 0:{rejectUnauthorized:!(0,a.isLocalhostUrl)(e)},i=new l(e,[],n);s()?i.onerror=e=>{r(this.emitError(e.error))}:i.on("error",e=>{r(this.emitError(e))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,a.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,a.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${o(this.url)}`));return this.events.emit("register_error",t),t}}},71804:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.8"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},72076:(e,t,r)=>{"use strict";let n=r(45564),i=r(33685),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);let r=0|f(n,i),a=s(r),l=a.write(n,i);return l!==r&&(a=a.slice(0,l)),a}if(ArrayBuffer.isView(e)){var a=e;if(D(a,Uint8Array)){let e=new Uint8Array(a);return h(e.buffer,e.byteOffset,e.byteLength)}return u(a)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(D(e,SharedArrayBuffer)||e&&D(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return o.from(l,t,r);let c=function(e){if(o.isBuffer(e)){let t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|p(e))}function u(e){let t=e.length<0?0:0|p(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function p(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=L[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var a,s,o;return a=this,s=t,o=r,0===s&&o===a.length?n.fromByteArray(a):n.fromByteArray(a.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return w(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let a,s=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,o/=2,l/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(c(e,a)===c(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*s}else -1!==n&&(a-=a-n),n=-1}else for(r+l>o&&(r=o-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(c(e,a+n)!==c(t,n)){r=!1;break}if(r)return a}return -1}function v(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(a=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}var a=n;let s=a.length;if(s<=4096)return String.fromCharCode.apply(String,a);let o="",l=0;for(;l<s;)o+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return o}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,i,a){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){P(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function _(e,t,r,n,i){P(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function C(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,n,a){return t*=1,r>>>=0,a||C(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function A(e,t,r,n,a){return t*=1,r>>>=0,a||C(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},o.allocUnsafe=function(e){return d(e)},o.allocUnsafeSlow=function(e){return d(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(D(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(D(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let a=i-n,s=r-t,l=Math.min(a,s),c=this.slice(n,i),d=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==d[e]){a=c[e],s=d[e];break}return a<s?-1:+(s<a)},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,a,s,o,l,c,d,u;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){var o;let n=parseInt(t.substr(2*i,2),16);if((o=n)!=o)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,R($(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return s=t,o=r,R(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,o);case"base64":return l=t,c=r,R(M(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,R(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-d),this,d,u);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&N(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&N(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&N(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=U(function(e){j(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&N(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;x(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=U(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=U(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);x(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||x(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=U(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=U(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return A(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return A(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let a=o.isBuffer(e)?e:o.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};let I={};function S(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function T(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function P(e,t,r,n,i,a){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new I.ERR_OUT_OF_RANGE("value",n,e)}j(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&N(i,n.length-(a+1))}function j(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function N(e,t,r){if(Math.floor(e)!==e)throw j(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}S("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),S("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),S("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=T(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=T(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let O=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function M(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let L=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function U(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},72096:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>tI,FA:()=>tT,TZ:()=>tS,UF:()=>tA});var n=r(40704),i=r(43617);function a(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let o="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function c(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),a(e),e}class d{clone(){return this._cloneInto()}}function u(e=32){if(o&&"function"==typeof o.getRandomValues)return o.getRandomValues(new Uint8Array(e));if(o&&"function"==typeof o.randomBytes)return o.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class h extends d{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){s(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=c(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=l(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s(this),function(e,t){a(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let c=l(e),d=this.outputLen;if(d%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=d/4,h=this.get();if(u>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,h[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let p=BigInt(0x100000000-1),f=BigInt(32),g={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&p),l:Number(e>>f&p)}:{h:0|Number(e>>f&p),l:0|Number(e&p)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,add5H:(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[m,y]=g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),w=new Uint32Array(80),v=new Uint32Array(80);class b extends h{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:l,El:c,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,a,s,o,l,c,d,u,h,p,f,g]}set(e,t,r,n,i,a,s,o,l,c,d,u,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)w[r]=e.getUint32(t),v[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|w[e-15],r=0|v[e-15],n=g.rotrSH(t,r,1)^g.rotrSH(t,r,8)^g.shrSH(t,r,7),i=g.rotrSL(t,r,1)^g.rotrSL(t,r,8)^g.shrSL(t,r,7),a=0|w[e-2],s=0|v[e-2],o=g.rotrSH(a,s,19)^g.rotrBH(a,s,61)^g.shrSH(a,s,6),l=g.rotrSL(a,s,19)^g.rotrBL(a,s,61)^g.shrSL(a,s,6),c=g.add4L(i,l,v[e-7],v[e-16]),d=g.add4H(c,n,o,w[e-7],w[e-16]);w[e]=0|d,v[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:o,Dh:l,Dl:c,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:b,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){let t=g.rotrSH(d,u,14)^g.rotrSH(d,u,18)^g.rotrBH(d,u,41),_=g.rotrSL(d,u,14)^g.rotrSL(d,u,18)^g.rotrBL(d,u,41),C=d&h^~d&f,k=u&p^~u&b,A=g.add5L(E,_,k,y[e],v[e]),I=g.add5H(A,x,t,C,m[e],w[e]),S=0|A,T=g.rotrSH(r,n,28)^g.rotrBH(r,n,34)^g.rotrBH(r,n,39),P=g.rotrSL(r,n,28)^g.rotrBL(r,n,34)^g.rotrBL(r,n,39),j=r&i^r&s^i&s,N=n&a^n&o^a&o;x=0|f,E=0|b,f=0|h,b=0|p,h=0|d,p=0|u,({h:d,l:u}=g.add(0|l,0|c,0|I,0|S)),l=0|s,c=0|o,s=0|i,o=0|a,i=0|r,a=0|n;let O=g.add3L(S,P,N);r=g.add3H(O,I,T,j),n=0|O}({h:r,l:n}=g.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=g.add(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=g.add(0|this.Ch,0|this.Cl,0|s,0|o)),({h:l,l:c}=g.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:d,l:u}=g.add(0|this.Eh,0|this.El,0|d,0|u)),({h:h,l:p}=g.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:b}=g.add(0|this.Gh,0|this.Gl,0|f,0|b)),({h:x,l:E}=g.add(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(r,n,i,a,s,o,l,c,d,u,h,p,f,b,x,E)}roundClean(){w.fill(0),v.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let x=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new b),E=BigInt(0),_=BigInt(1),C=BigInt(2);function k(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function A(e){if(!k(e))throw Error("Uint8Array expected")}function I(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let S=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e){A(e);let t="";for(let r=0;r<e.length;r++)t+=S[e[r]];return t}function P(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?E:BigInt("0x"+e)}let j={_0:48,_9:57,A:65,F:70,a:97,f:102};function N(e){return e>=j._0&&e<=j._9?e-j._0:e>=j.A&&e<=j.F?e-(j.A-10):e>=j.a&&e<=j.f?e-(j.a-10):void 0}function O(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=N(e.charCodeAt(i)),a=N(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function $(e){return A(e),P(T(Uint8Array.from(e).reverse()))}function M(e,t){return O(e.toString(16).padStart(2*t,"0"))}function R(e,t){return M(e,t).reverse()}function D(e,t,r){let n;if("string"==typeof t)try{n=O(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(k(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function L(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];A(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let U=e=>"bigint"==typeof e&&E<=e;function F(e,t,r,n){if(!(U(t)&&U(r)&&U(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let B=e=>(C<<BigInt(e-1))-_,W={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||k(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function z(e,t,r={}){let n=(t,r,n)=>{let i=W[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if(!(n&&void 0===a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function q(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}let H=BigInt(0),V=BigInt(1),G=BigInt(2),K=BigInt(3),J=BigInt(4),Y=BigInt(5),Z=BigInt(8);function Q(e,t){let r=e%t;return r>=H?r:t+r}function X(e,t,r){let n=e;for(;t-- >H;)n*=n,n%=r;return n}function ee(e,t){if(e===H)throw Error("invert: expected non-zero number");if(t<=H)throw Error("invert: expected positive modulus, got "+t);let r=Q(e,t),n=t,i=H,a=V;for(;r!==H;){let e=n/r,t=n%r,s=i-a*e;n=r,r=t,i=a,a=s}if(n!==V)throw Error("invert: does not exist");return Q(i,t)}let et=(e,t)=>(Q(e,t)&V)===V,er=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function en(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ei(e,t,r=!1,n={}){let i;if(e<=H)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:a,nByteLength:s}=en(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:s,MASK:B(a),ZERO:H,ONE:V,create:t=>Q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return H<=t&&t<e},is0:e=>e===H,isOdd:e=>(e&V)===V,neg:t=>Q(-t,e),eql:(e,t)=>e===t,sqr:t=>Q(t*t,e),add:(t,r)=>Q(t+r,e),sub:(t,r)=>Q(t-r,e),mul:(t,r)=>Q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<H)throw Error("invalid exponent, negatives unsupported");if(r===H)return e.ONE;if(r===V)return t;let n=e.ONE,i=t;for(;r>H;)r&V&&(n=e.mul(n,i)),i=e.sqr(i),r>>=V;return n})(o,e,t),div:(t,r)=>Q(t*ee(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ee(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%J===K){let t=(e+V)/J;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%Z===Y){let t=(e-Y)/Z;return function(e,r){let n=e.mul(r,G),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,G),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-V)/G;for(t=e-V,r=0;t%G===H;t/=G,r++);for(n=G;n<e&&function(e,t,r){if(t<H)throw Error("invalid exponent, negatives unsupported");if(r<=H)throw Error("invalid modulus");if(r===V)return H;let n=V;for(;t>H;)t&V&&(n=n*e%r),e=e*e%r,t>>=V;return n}(n,i,e)!==e-V;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+V)/J;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+V)/G;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(s,a),d=e.pow(s,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,V<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),d=e.mul(d,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?R(e,s):M(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?$(e):P(T(e))}});return Object.freeze(o)}let ea=BigInt(0),es=BigInt(1);function eo(e,t){let r=t.negate();return e?r:t}function el(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ec(e,t){return el(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ed=new WeakMap,eu=new WeakMap;function eh(e){return eu.get(e)||1}let ep=BigInt(0),ef=BigInt(1),eg=BigInt(2),em=BigInt(8),ey={zip215:!0};BigInt(0),BigInt(1);let ew=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ev=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let eb=BigInt(1),ex=BigInt(2);BigInt(3);let eE=BigInt(5),e_=BigInt(8),eC=ei(ew,void 0,!0),ek=function(e){var t;let r=function(e){let t=(z(e.Fp,er.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),z(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...en(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return z(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:i,prehash:a,hash:s,randomBytes:o,nByteLength:l,h:c}=r,d=eg<<BigInt(8*l)-ef,u=n.create,h=ei(r.n,r.nBitLength),p=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:ep}}}),f=r.adjustScalarBytes||(e=>e),g=r.domain||((e,t,r)=>{if(I("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e,t){F("coordinate "+e,t,ep,d)}function y(e){if(!(e instanceof b))throw Error("ExtendedPoint expected")}let w=q((e,t)=>{let{ex:r,ey:i,ez:a}=e,s=e.is0();null==t&&(t=s?em:n.inv(a));let o=u(r*t),l=u(i*t),c=u(a*t);if(s)return{x:ep,y:ef};if(c!==ef)throw Error("invZ was invalid");return{x:o,y:l}}),v=q(e=>{let{a:t,d:n}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:a,ez:s,et:o}=e,l=u(i*i),c=u(a*a),d=u(s*s),h=u(d*d),p=u(l*t);if(u(d*u(p+c))!==u(h+u(n*u(l*c))))throw Error("bad point: equation left != right (1)");if(u(i*a)!==u(s*o))throw Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,m("x",e),m("y",t),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new b(t,r,ef,u(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=function(e){let t;for(t=0;e>E;e>>=_,t+=1);return t}(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/s)*s,d=i;for(let e=c;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<s;e++)d=d.double()}return d}(b,h,e,t)}_setWindowSize(e){k.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){y(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:a,ez:s}=e,o=u(t*s),l=u(i*n),c=u(r*s),d=u(a*n);return o===l&&c===d}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:e}=r,{ex:t,ey:n,ez:i}=this,a=u(t*t),s=u(n*n),o=u(eg*u(i*i)),l=u(e*a),c=t+n,d=u(u(c*c)-a-s),h=l+s,p=h-o,f=l-s,g=u(d*p),m=u(h*f),y=u(d*f);return new b(g,m,u(p*h),y)}add(e){y(e);let{a:t,d:n}=r,{ex:i,ey:a,ez:s,et:o}=this,{ex:l,ey:c,ez:d,et:h}=e;if(t===BigInt(-1)){let e=u((a-i)*(c+l)),t=u((a+i)*(c-l)),r=u(t-e);if(r===ep)return this.double();let n=u(s*eg*h),p=u(o*eg*d),f=p+n,g=t+e,m=p-n,y=u(f*r),w=u(g*m),v=u(f*m);return new b(y,w,u(r*g),v)}let p=u(i*l),f=u(a*c),g=u(o*n*h),m=u(s*d),w=u((i+a)*(l+c)-p-f),v=m-g,x=m+g,E=u(f-t*p),_=u(w*v),C=u(x*E),k=u(w*E);return new b(_,C,u(v*x),k)}subtract(e){return this.add(e.negate())}wNAF(e){return k.wNAFCached(this,e,b.normalizeZ)}multiply(e){F("scalar",e,ef,i);let{p:t,f:r}=this.wNAF(e);return b.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=b.ZERO){return F("scalar",e,ep,i),e===ep?C:this.is0()||e===ef?this:k.wNAFCachedUnsafe(this,e,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,i).is0()}toAffine(e){return w(this,e)}clearCofactor(){let{h:e}=r;return e===ef?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:i,a:a}=r,s=n.BYTES;e=D("pointHex",e,s),I("zip215",t);let o=e.slice(),l=e[s-1];o[s-1]=-129&l;let c=$(o);F("pointHex.y",c,ep,t?d:n.ORDER);let h=u(c*c),{isValid:f,value:g}=p(u(h-ef),u(i*h-a));if(!f)throw Error("Point.fromHex: invalid y coordinate");let m=(g&ef)===ef,y=(128&l)!=0;if(!t&&g===ep&&y)throw Error("Point.fromHex: x=0 and x_0=1");return y!==m&&(g=u(-g)),b.fromAffine({x:g,y:c})}static fromPrivateKey(e){return A(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=R(t,n.BYTES);return r[r.length-1]|=e&ef?128:0,r}toHex(){return T(this.toRawBytes())}}b.BASE=new b(r.Gx,r.Gy,ef,u(r.Gx*r.Gy)),b.ZERO=new b(ep,ef,ef,ep);let{BASE:x,ZERO:C}=b,k=(t=8*l,{constTimeNegate:eo,hasPrecomputes:e=>1!==eh(e),unsafeLadder(e,t,r=b.ZERO){let n=e;for(;t>ea;)t&es&&(r=r.add(n)),n=n.double(),t>>=es;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ec(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let{windows:i,windowSize:a}=ec(e,t),s=b.ZERO,o=b.BASE,l=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let e=0;e<i;e++){let t=e*a,i=Number(n&l);n>>=d,i>a&&(i-=c,n+=es);let u=t+Math.abs(i)-1,h=e%2!=0,p=i<0;0===i?o=o.add(eo(h,r[t])):s=s.add(eo(p,r[u]))}return{p:s,f:o}},wNAFUnsafe(e,r,n,i=b.ZERO){let{windows:a,windowSize:s}=ec(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<a;e++){let t=e*s;if(n===ea)break;let a=Number(n&o);if(n>>=c,a>s&&(a-=l,n+=es),0===a)continue;let d=r[t+Math.abs(a)-1];a<0&&(d=d.negate()),i=i.add(d)}return i},getPrecomputes(e,t,r){let n=ed.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ed.set(t,r(n))),n},wNAFCached(e,t,r){let n=eh(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eh(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){el(r,t),eu.set(e,r),ed.delete(e)}});function A(e){let t=n.BYTES;e=D("private key",e,t);let r=D("hashed private key",s(e),2*t),a=f(r.slice(0,t)),o=r.slice(t,2*t),l=Q($(a),i),c=x.multiply(l),d=c.toRawBytes();return{head:a,prefix:o,scalar:l,point:c,pointBytes:d}}function S(e=new Uint8Array,...t){return Q($(s(g(L(...t),D("context",e),!!a))),i)}return x._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return A(e).pointBytes},sign:function(e,t,r={}){e=D("message",e),a&&(e=a(e));let{prefix:s,scalar:o,pointBytes:l}=A(t),c=S(r.context,s,e),d=x.multiply(c).toRawBytes(),u=Q(c+S(r.context,d,l,e)*o,i);return F("signature.s",u,ep,i),D("result",L(d,R(u,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=ey){let s,o,l,{context:c,zip215:d}=i,u=n.BYTES;e=D("signature",e,2*u),t=D("message",t),r=D("publicKey",r,u),void 0!==d&&I("zip215",d),a&&(t=a(t));let h=$(e.slice(u,2*u));try{s=b.fromHex(r,d),o=b.fromHex(e.slice(0,u),d),l=x.multiplyUnsafe(h)}catch{return!1}if(!d&&s.isSmallOrder())return!1;let p=S(c,o.toRawBytes(),s.toRawBytes(),t);return o.add(s.multiplyUnsafe(p)).subtract(l).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eC,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:e_,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:x,randomBytes:u,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=Q(t*t*t,ew),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),a=e*e%ew*e%ew,s=X(a,ex,ew)*a%ew,o=X(s,eb,ew)*e%ew,l=X(o,eE,ew)*o%ew,c=X(l,t,ew)*l%ew,d=X(c,r,ew)*c%ew,u=X(d,n,ew)*d%ew,h=X(u,i,ew)*u%ew,p=X(h,i,ew)*u%ew,f=X(p,t,ew)*l%ew;return{pow_p_5_8:X(f,ex,ew)*e%ew,b2:a}}(e*Q(r*r*t,ew)).pow_p_5_8,i=Q(e*r*n,ew),a=Q(t*i*i,ew),s=i,o=Q(i*ev,ew),l=a===e,c=a===Q(-e,ew),d=a===Q(-e*ev,ew);return l&&(i=s),(c||d)&&(i=o),et(i,ew)&&(i=Q(-i,ew)),{isValid:l||c,value:i}}}),eA="base64url",eI="utf8",eS="utf8",eT="base58btc";function eP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ej(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?eP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eN(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=ej(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return eP(r)}var eO=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==r[s])throw TypeError(a+" is ambiguous");r[s]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var a=(e.length-t)*c+1>>>0,s=new Uint8Array(a);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=a-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=o*s[h]>>>0,s[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var f=new Uint8Array(n+(a-p)),g=n;p!==a;)f[g++]=s[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var s=(a-i)*d+1>>>0,c=new Uint8Array(s);i!==a;){for(var u=t[i],h=0,p=s-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw Error("Non-zero carry");n=h,i++}for(var f=s-n;f!==s&&0===c[f];)f++;for(var g=l.repeat(r);f<s;++f)g+=e.charAt(c[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw Error(`Non-${t} character`)}}};let e$=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},eM=e=>new TextEncoder().encode(e),eR=e=>new TextDecoder().decode(e);class eD{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eL{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eF(this,e)}}class eU{constructor(e){this.decoders=e}or(e){return eF(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eF=(e,t)=>new eU({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eB{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eD(e,t,r),this.decoder=new eL(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let eW=({name:e,prefix:t,encode:r,decode:n})=>new eB(e,t,r,n),ez=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eO(r,t);return eW({prefix:e,name:t,encode:n,decode:e=>e$(i(e))})},eq=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;let s=new Uint8Array(a*r/8|0),o=0,l=0,c=0;for(let t=0;t<a;++t){let a=i[e[t]];if(void 0===a)throw SyntaxError(`Non-${n} character`);l=l<<r|a,(o+=r)>=8&&(o-=8,s[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return s},eH=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,a="",s=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],s+=8;s>r;)s-=r,a+=t[i&o>>s];if(s&&(a+=t[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},eV=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>eW({prefix:t,name:e,encode:e=>eH(e,n,r),decode:t=>eq(t,n,r,e)});var eG=Object.freeze({__proto__:null,identity:eW({prefix:"\0",name:"identity",encode:e=>eR(e),decode:e=>eM(e)})}),eK=Object.freeze({__proto__:null,base2:eV({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),eJ=Object.freeze({__proto__:null,base8:eV({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),eY=Object.freeze({__proto__:null,base10:ez({prefix:"9",name:"base10",alphabet:"0123456789"})}),eZ=Object.freeze({__proto__:null,base16:eV({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:eV({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let eQ=eV({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eX=eV({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),e0=eV({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e1=eV({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),e2=eV({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),e3=eV({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),e5=eV({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var e4=Object.freeze({__proto__:null,base32:eQ,base32upper:eX,base32pad:e0,base32padupper:e1,base32hex:e2,base32hexupper:e3,base32hexpad:e5,base32hexpadupper:eV({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:eV({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e6=Object.freeze({__proto__:null,base36:ez({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:ez({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e8=Object.freeze({__proto__:null,base58btc:ez({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:ez({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let e9=eV({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e7=eV({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var te=Object.freeze({__proto__:null,base64:e9,base64pad:e7,base64url:eV({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:eV({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let tt=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tr=tt.reduce((e,t,r)=>(e[r]=t,e),[]),tn=tt.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var ti=Object.freeze({__proto__:null,base256emoji:eW({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=tr[t],"")},decode:function(e){let t=[];for(let r of e){let e=tn[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function ta(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ta.bytes=r-n+1,t}function ts(e,t){var r,n=0,t=t||0,i=0,a=t,s=e.length;do{if(a>=s)throw ts.bytes=0,RangeError("Could not decode varint");r=e[a++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return ts.bytes=a-t,n}var to={encode:ta,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let tl=(e,t,r=0)=>(to.encode(e,t,r),t),tc=e=>to.encodingLength(e),td=(e,t)=>{let r=t.byteLength,n=tc(e),i=n+tc(r),a=new Uint8Array(i+r);return tl(e,a,0),tl(r,a,n),a.set(t,i),new tu(e,r,t,a)};class tu{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let th=({name:e,code:t,encode:r})=>new tp(e,t,r);class tp{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?td(this.code,t):t.then(e=>td(this.code,e))}throw Error("Unknown type, must be binary type")}}let tf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var tg=Object.freeze({__proto__:null,sha256:th({name:"sha2-256",code:18,encode:tf("SHA-256")}),sha512:th({name:"sha2-512",code:19,encode:tf("SHA-512")})}),tm=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:e$,digest:e=>td(0,e$(e))}});new TextEncoder,new TextDecoder;let ty={...eG,...eK,...eJ,...eY,...eZ,...e4,...e6,...e8,...te,...ti};function tw(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...tg,...tm});let tv=tw("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),tb=tw("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=ej((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tx={utf8:tv,"utf-8":tv,hex:ty.base16,latin1:tb,ascii:tb,binary:tb,...ty};function tE(e,t="utf8"){let r=tx[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function t_(e,t="utf8"){let r=tx[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?eP(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function tC(e){return(0,i.j)(tE(t_(e,eA),eI))}function tk(e){return tE(t_((0,i.h)(e),eI),eA)}function tA(e){return["did","key","z"+tE(eN([t_("K36",eT),e]),eT)].join(":")}function tI(e){let t=e.split("."),r=tC(t[0]),n=tC(t[1]);return{header:r,payload:n,signature:t_(t[2],eA),data:t_(t.slice(0,2).join("."),eS)}}function tS(e=u(32)){let t=ek.getPublicKey(e);return{secretKey:eN([e,t]),publicKey:t}}async function tT(e,t,r,i,a=(0,n.fromMiliseconds)(Date.now())){let s={alg:"EdDSA",typ:"JWT"},o={iss:tA(i.publicKey),sub:e,aud:t,iat:a,exp:a+r},l=t_([tk((c={header:s,payload:o}).header),tk(c.payload)].join("."),eS);var c,d={header:s,payload:o,signature:ek.sign(l,i.secretKey.slice(0,32))};return[tk(d.header),tk(d.payload),tE(d.signature,eA)].join(".")}},72674:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,a=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}},72704:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let r={N1:3,N2:3,N3:40,N4:10};t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,n=0,i=0,a=0,s=null,o=null;for(let l=0;l<t;l++){i=a=0,s=o=null;for(let c=0;c<t;c++){let t=e.get(l,c);t===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=t,i=1),(t=e.get(c,l))===o?a++:(a>=5&&(n+=r.N1+(a-5)),o=t,a=1)}i>=5&&(n+=r.N1+(i-5)),a>=5&&(n+=r.N1+(a-5))}return n},t.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){let t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(4===t||0===t)&&n++}return n*r.N2},t.getPenaltyN3=function(e){let t=e.size,n=0,i=0,a=0;for(let r=0;r<t;r++){i=a=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(r,s),s>=10&&(1488===i||93===i)&&n++,a=a<<1&2047|e.get(s,r),s>=10&&(1488===a||93===a)&&n++}return n*r.N3},t.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*r.N4},t.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let a=0;a<n;a++)r.isReserved(a,i)||r.xor(a,i,function(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,a,i))},t.getBestMask=function(e,r){let n=Object.keys(t.Patterns).length,i=0,a=1/0;for(let s=0;s<n;s++){r(s),t.applyMask(s,e);let n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<a&&(a=n,i=s)}return i}},73831:(e,t,r)=>{"use strict";r.d(t,{Af:()=>p,ZJ:()=>c,aT:()=>h});var n=r(98815),i=r(81063),a=r(37479),s=r(77682),o=r(69409);let l=new TextEncoder;function c(e,t={}){var r,n;return"number"==typeof e||"bigint"==typeof e?(r=e,n=t,h((0,o.cK)(r,n))):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Sl)(r,{size:t.size}),(0,a.eV)(r,{size:t.size})):r}(e,t):(0,i.q)(e)?h(e,t):p(e,t)}let d={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(e){return e>=d.zero&&e<=d.nine?e-d.zero:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function h(e,t={}){let r=e;t.size&&((0,s.Sl)(r,{size:t.size}),r=(0,a.eV)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let o=i.length/2,l=new Uint8Array(o);for(let e=0,t=0;e<o;e++){let r=u(i.charCodeAt(t++)),a=u(i.charCodeAt(t++));if(void 0===r||void 0===a)throw new n.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);l[e]=16*r+a}return l}function p(e,t={}){let r=l.encode(e);return"number"==typeof t.size?((0,s.Sl)(r,{size:t.size}),(0,a.eV)(r,{dir:"right",size:t.size})):r}},74313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},74881:(e,t,r)=>{"use strict";r.d(t,{eF:()=>o,mE:()=>i,rI:()=>s,vG:()=>a});var n=r(82698);function i(e){return n.jf.includes(e)}function a(e){return Object.keys(n.Uf).includes(e)?n.Uf[e]:n.Uf[n.XW]}function s(e){let t=Object.values(n.Uf).find(t=>t.code===e);return t||n.Uf[n.XW]}function o(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},75681:(e,t,r)=>{let n=r(20964),i=r(35937),a=r(82011),s=r(60280),o=r(33509),l=r(98786),c=r(38880),d=r(32845);function u(e){return unescape(encodeURIComponent(e)).length}function h(e,t,r){let n,i=[];for(;null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function p(e){let t,r,i=h(l.NUMERIC,n.NUMERIC,e),a=h(l.ALPHANUMERIC,n.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=h(l.BYTE,n.BYTE,e),r=h(l.KANJI,n.KANJI,e)):(t=h(l.BYTE_KANJI,n.BYTE,e),r=[]),i.concat(a,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return a.getBitsLength(e);case n.KANJI:return o.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function g(e,t){let r,l=n.getBestModeForData(e);if((r=n.from(t,l))!==n.BYTE&&r.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r===n.KANJI&&!c.isKanjiModeEnabled()&&(r=n.BYTE),r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new a(e);case n.KANJI:return new o(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e},[])},t.fromString=function(e,r){let i=function(e,t){let r={},i={start:{}},a=["start"];for(let s=0;s<e.length;s++){let o=e[s],l=[];for(let e=0;e<o.length;e++){let c=o[e],d=""+s+e;l.push(d),r[d]={node:c,lastCount:0},i[d]={};for(let e=0;e<a.length;e++){let s=a[e];r[s]&&r[s].node.mode===c.mode?(i[s][d]=f(r[s].lastCount+c.length,c.mode)-f(r[s].lastCount,c.mode),r[s].lastCount+=c.length):(r[s]&&(r[s].lastCount=c.length),i[s][d]=f(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,t))}}a=l}for(let e=0;e<a.length;e++)i[a[e]].end=0;return{map:i,table:r}}(function(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:u(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:u(i.data)}])}}return t}(p(e,c.isKanjiModeEnabled())),r),a=d.find_path(i.map,"start","end"),s=[];for(let e=1;e<a.length-1;e++)s.push(i.table[a[e]].node);return t.fromArray(s.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},t.rawSplit=function(e){return t.fromArray(p(e,c.isKanjiModeEnabled()))}},76013:(e,t,r)=>{"use strict";r.d(t,{zX:()=>y,bG:()=>w,M:()=>v,rR:()=>b,Po:()=>x,$S:()=>E});var n=r(31084),i=r(87112),a=r(87219),s=r(65942),o=r(52406);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,o.A)(t[r]):t[r]}`).join(", ")})`}var c=r(36015),d=r(76141),u=r(42507),h=r(27629),p=r(98815),f=r(46754),g=r(53939),m=r(86242);class y extends p.C{constructor(e,{account:t,docsPath:r,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:p,value:m,stateOverride:y}){let w=t?(0,n.J)(t):void 0,v=(0,g.aO)({from:w?.address,to:p,value:void 0!==m&&`${(0,d.c)(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:void 0!==o&&`${(0,u.Q)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,u.Q)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,u.Q)(c)} gwei`,nonce:h});y&&(v+=`
${(0,f.uj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class w extends p.C{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:a,sender:o}){let d=(0,c.iY)({abi:t,args:r,name:a}),u=d?l({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=d?(0,s.B)(d,{includeName:!0}):void 0,p=(0,g.aO)({address:n&&(0,m.R)(n),function:h,args:u&&"()"!==u&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=a,this.sender=o}}class v extends p.C{constructor({abi:e,data:t,functionName:r,message:n}){let o,c,d,u,p;if(t&&"0x"!==t)try{let{abiItem:r,errorName:n,args:o}=p=(0,a.W)({abi:e,data:t});if("Error"===n)d=o[0];else if("Panic"===n){let[e]=o;d=i.fD[e]}else{let e=r?(0,s.B)(r,{includeName:!0}):void 0,t=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;c=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){o=e}else n&&(d=n);o instanceof h.Wq&&(u=o.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(d&&"execution reverted"!==d||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,d||u].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=p,this.raw=t,this.reason=d,this.signature=u}}class b extends p.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class x extends p.C{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class E extends p.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},76141:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(23403),i=r(64166);function a(e,t="wei"){return(0,i.J)(e,n.eL[t])}},76983:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(14895);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.SK({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function a(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},77682:(e,t,r)=>{"use strict";r.d(t,{IQ:()=>u,ME:()=>d,Nx:()=>c,Sl:()=>o,uU:()=>l});var n=r(79712),i=r(11371),a=r(998),s=r(73831);function o(e,{size:t}){if((0,i.E)(e)>t)throw new n.u({givenSize:(0,i.E)(e),maxSize:t})}function l(e,t={}){let{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function c(e,t={}){let r=e;if(t.size&&(o(r,{size:t.size}),r=(0,a.B)(r)),"0x00"===(0,a.B)(r))return!1;if("0x01"===(0,a.B)(r))return!0;throw new n.H2(r)}function d(e,t={}){return Number(l(e,t))}function u(e,t={}){let r=(0,s.aT)(e);return t.size&&(o(r,{size:t.size}),r=(0,a.B)(r,{dir:"right"})),new TextDecoder().decode(r)}},79345:(e,t,r)=>{"use strict";r.d(t,{p:()=>d});var n=r(31802),i=r(98322),a=r(27629),s=r(21758),o=r(65942),l=r(36015);let c="/docs/contract/encodeFunctionData";function d(e){let{args:t}=e,{abi:r,functionName:d}=(()=>{if(1===e.abi.length&&e.functionName?.startsWith("0x"))return e;let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=(0,l.iY)({abi:t,args:r,name:n});if(!e)throw new a.Iz(n,{docsPath:c});i=e}if("function"!==i.type)throw new a.Iz(void 0,{docsPath:c});return{abi:[i],functionName:(0,s.V)((0,o.B)(i))}})(),u=r[0],h="inputs"in u&&u.inputs?(0,i.h)(u.inputs,t??[]):void 0;return(0,n.aP)([d,h??"0x"])}},79712:(e,t,r)=>{"use strict";r.d(t,{H2:()=>s,Ty:()=>i,u:()=>o,xO:()=>a});var n=r(98815);class i extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class a extends n.C{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class s extends n.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}n.C;class o extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},81063:(e,t,r)=>{"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{q:()=>n})},81140:(e,t,r)=>{"use strict";r.d(t,{X:()=>m,J:()=>g});var n=r(94726),i=r(87112),a=r(64044),s=r(27629),o=r(31802),l=r(21758),c=r(98322),d=r(65942),u=r(36015);let h="/docs/contract/encodeErrorResult";function p(e){let{abi:t,errorName:r,args:n}=e,i=t[0];if(r){let e=(0,u.iY)({abi:t,args:n,name:r});if(!e)throw new s.yy(r,{docsPath:h});i=e}if("error"!==i.type)throw new s.yy(void 0,{docsPath:h});let a=(0,d.B)(i),p=(0,l.V)(a),f="0x";if(n&&n.length>0){if(!i.inputs)throw new s.ZP(i.name,{docsPath:h});f=(0,c.h)(i.inputs,n)}return(0,o.aP)([p,f])}let f="/docs/contract/encodeFunctionResult",g="x-batch-gateway:true";async function m(e){let{data:t,ccipRequest:r}=e,{args:[o]}=(0,a.J)({abi:n.b2,data:t}),l=[],d=[];return await Promise.all(o.map(async(e,t)=>{try{d[t]=await r(e),l[t]=!1}catch(e){var a;l[t]=!0,d[t]="HttpRequestError"===(a=e).name&&a.status?p({abi:n.b2,errorName:"HttpError",args:[a.status,a.shortMessage]}):p({abi:[i.Mc],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,i=t[0];if(r){let e=(0,u.iY)({abi:t,name:r});if(!e)throw new s.Iz(r,{docsPath:f});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:f});if(!i.outputs)throw new s.MR(i.name,{docsPath:f});let a=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new s.dm(n)})();return(0,c.h)(i.outputs,a)}({abi:n.b2,functionName:"query",result:[l,d]})}},82011:(e,t,r)=>{let n=r(20964),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=n.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},82650:(e,t,r)=>{var n=r(72076).Buffer;let i=r(8570);function a(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);else if("fixed"===e)return"fixed128x128";else if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function s(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function o(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function l(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function c(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw Error("Argument is not a number")}function d(e,t){if("address"===e)return d("uint160",c(t));if("bool"===e)return d("uint8",+!!t);if("string"===e)return d("bytes",new n(t,"utf8"));if((p=e).lastIndexOf("]")===p.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(r=l(e))&&0!==r&&t.length>r)throw Error("Elements exceed array size: "+r);for(h in u=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)u.push(d(e,t[h]));if("dynamic"===r){var r,a,u,h,p,f=d("uint256",t.length);u.unshift(f)}return n.concat(u)}else if("bytes"===e)return t=new n(t),u=n.concat([d("uint256",t.length),t]),t.length%32!=0&&(u=n.concat([u,i.zeros(32-t.length%32)])),u;else if(e.startsWith("bytes")){if((r=s(e))<1||r>32)throw Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((r=s(e))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);a=c(t);let n=i.bitLengthFromBigInt(a);if(n>r)throw Error("Supplied uint exceeds width: "+r+" vs "+n);if(a<0)throw Error("Supplied uint is negative");return i.bufferBEFromBigInt(a,32)}else if(e.startsWith("int")){if((r=s(e))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);a=c(t);let n=i.bitLengthFromBigInt(a);if(n>r)throw Error("Supplied int exceeds width: "+r+" vs "+n);let o=i.twosFromBigInt(a,256);return i.bufferBEFromBigInt(o,32)}else if(e.startsWith("ufixed")){if(r=o(e),(a=c(t))<0)throw Error("Supplied ufixed is negative");return d("uint256",a*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=o(e),d("int256",c(t)*BigInt(2)**BigInt(r[1]));throw Error("Unsupported or invalid type: "+e)}function u(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var r,o,l=[],d=0;d<e.length;d++){var u=a(e[d]),h=t[d];if("bytes"===u)l.push(h);else if("string"===u)l.push(new n(h,"utf8"));else if("bool"===u)l.push(new n(h?"01":"00","hex"));else if("address"===u)l.push(i.setLength(h,20));else if(u.startsWith("bytes")){if((r=s(u))<1||r>32)throw Error("Invalid bytes<N> width: "+r);l.push(i.setLengthRight(h,r))}else if(u.startsWith("uint")){if((r=s(u))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied uint exceeds width: "+r+" vs "+e);l.push(i.bufferBEFromBigInt(o,r/8))}else if(u.startsWith("int")){if((r=s(u))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied int exceeds width: "+r+" vs "+e);let t=i.twosFromBigInt(o,r);l.push(i.bufferBEFromBigInt(t,r/8))}else throw Error("Unsupported or invalid type: "+u)}return n.concat(l)}e.exports={rawEncode:function(e,t){var r=[],i=[],s=32*e.length;for(var o in e){var c=a(e[o]),u=d(c,t[o]);"string"===c||"bytes"===c||"dynamic"===l(c)?(r.push(d("uint256",s)),i.push(u),s+=u.length):r.push(u)}return n.concat(r.concat(i))},solidityPack:u,soliditySHA3:function(e,t){return i.keccak(u(e,t))}}},82698:(e,t,r)=>{"use strict";r.d(t,{Uf:()=>s,XW:()=>o,fO:()=>i,jf:()=>a,zR:()=>n});let n="INTERNAL_ERROR",i="SERVER_ERROR",a=[-32700,-32600,-32601,-32602,-32603],s={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},o=i},83116:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(38356),i=r(83327);class a extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{(0,i.isJsonRpcError)(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},83327:(e,t,r)=>{"use strict";r.d(t,{IJsonRpcProvider:()=>s.kF,formatJsonRpcError:()=>a.dZ,formatJsonRpcRequest:()=>a.e_,formatJsonRpcResult:()=>a.Im,getBigIntRpcId:()=>a.eX,isHttpUrl:()=>o.q$,isJsonRpcError:()=>l.U$,isJsonRpcRequest:()=>l.p3,isJsonRpcResponse:()=>l.tq,isJsonRpcResult:()=>l.xT,isLocalhostUrl:()=>o.z,isWsUrl:()=>o.A1,parseConnectionError:()=>n.eF,payloadId:()=>a.ER}),r(82698);var n=r(74881),i=r(47772);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}});var a=r(58106),s=r(95691),o=r(59570),l=r(2458)},83382:(e,t,r)=>{"use strict";let n,i,a,s,o,l,c,d,u,h;r.d(t,{A:()=>KF,H:()=>q9,P:()=>R6,S:()=>q6,T:()=>GI,b:()=>Dr,r:()=>q4,t:()=>MT,u:()=>R8,v:()=>MX,w:()=>$E,x:()=>Ft,y:()=>Fr,z:()=>KK});var p=r(94458),f=r(68658),g=r.t(f,2),m=r(54015),y=r(19556),w=r(69409),v=r(81063),b=r(28060);let x=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];(on={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",on.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",on.INVALID_DATA="invalid_data",on.LINKED_TO_ANOTHER_USER="linked_to_another_user",on.ALLOWLIST_REJECTED="allowlist_rejected",on.OAUTH_USER_DENIED="oauth_user_denied",on.UNKNOWN_AUTH_ERROR="unknown_auth_error",on.USER_EXITED_AUTH_FLOW="exited_auth_flow",on.MUST_BE_AUTHENTICATED="must_be_authenticated",on.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",on.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",on.CLIENT_REQUEST_TIMEOUT="client_request_timeout",on.INVALID_CREDENTIALS="invalid_credentials";class E extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class _ extends Error{constructor(e,t){super(t),this.type=e}}class C extends E{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}class k extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}let A={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function I(e){let t;return"string"==typeof(t=e.type)&&x.includes(t)&&"wallet_not_on_device"===e.type}let S={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},T={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},P={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},j={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},N={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},O={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},$={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},M={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},R={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},D={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},L={id:0xaa37dc,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},U={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},F={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},B={id:0xaa36a7,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},W={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},z={id:0x3b9ac9ff,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},q={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},H=[R,B,{id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},S,T,D,L,U,F,$,{id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},{id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},{id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},N,O,{id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},{id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},M,{id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},P,j,W,q,z,{id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},{id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}}],V=new Set(H.map(e=>e.id));var G=r(94546),K=r(64251),J=r(72076).Buffer;async function Y(e,t,{wallet_id:r,...n}){let i={version:1,url:e.getCompiledPath(K.H_,{params:{wallet_id:r}}),method:K.H_.method,headers:{"privy-app-id":e.app.appId},body:{...n}},a=J.from(G(i)).toString("base64"),{signature:s}=await t({message:a});return await e.fetchPrivyRoute(K.H_,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}let Z=e=>e.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let t=H.find(t=>t.id===e.id),r=t?.rpcUrls.privy?.http[0];return r?function(e,t){return{...e,rpcUrls:{...e.rpcUrls,privy:{http:[t]}}}}(e,r):e});function Q(e){let t=e.filter(e=>!V.has(e.id));return H.concat(t)}async function X(e,{request:t}){return await e.fetchPrivyRoute(K.GK,{body:t})}let ee={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"67622901",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},et={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-467]|5[0-3]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[0-68]))\\d{4}|(?:2742|305[3-9]|472[247-9]|505[2-57-9]|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function er(e,t){var r=Array.prototype.slice.call(t);return r.push(et),e.apply(this,r)}var en={}.constructor;function ei(e){return null!=e&&e.constructor===en}function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eo="0-9---",el="".concat("--").concat("/").concat(".").concat(" \xa0\xad").concat("()\\[\\]").concat("~"),ec="+";function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e){var t="function"==typeof Map?new Map:void 0;return(eh=function(e){var r;if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ep(e,arguments,em(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),eg(n,e)})(e)}function ep(e,t,r){return(ep=ef()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&eg(i,r.prototype),i}).apply(null,arguments)}function ef(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function eg(e,t){return(eg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function em(e){return(em=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ey=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eg(n,e);var t,r=(t=ef(),function(){var e,r=em(n);return e=t?Reflect.construct(r,arguments,em(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===ed(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,e)});function n(e){var t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return Object.setPrototypeOf(eu(t=r.call(this,e)),n.prototype),t.name=t.constructor.name,t}return Object.defineProperty(n,"prototype",{writable:!1}),n}(eh(Error));function ew(e,t){e=e.split("-"),t=t.split("-");for(var r=e[0].split("."),n=t[0].split("."),i=0;i<3;i++){var a=Number(r[i]),s=Number(n[i]);if(a>s)return 1;if(s>a)return -1;if(!isNaN(a)&&isNaN(s))return 1;if(isNaN(a)&&!isNaN(s))return -1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eE(e,t,r){return t&&ex(e.prototype,t),r&&ex(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var e_=" ext. ",eC=/^\d+$/,ek=function(){function e(t){eb(this,e),ej(t),this.metadata=t,e$.call(this,t)}return eE(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!this.v1&&!this.v2&&!this.v3)return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&eC.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw Error("Unknown country: ".concat(e));this.numberingPlan=new eA(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw Error("Unknown calling code: ".concat(t));this.numberingPlan=new eA(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var r=this.nonGeographic()[e];if(r)return r}else{var n=this.countryCallingCodes()[e];if(n&&1===n.length&&"001"===n[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),eA=function(){function e(t,r){eb(this,e),this.globalMetadataObject=r,this.metadata=t,e$.call(this,r.metadata)}return eE(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(t){return new eI(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&eP(this.types(),e))return new eT(eP(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?e_:this.metadata[13]||e_}}]),e}(),eI=function(){function e(t,r){eb(this,e),this._format=t,this.metadata=r}return eE(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||eS.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),eS=/^\(?\$1\)?$/,eT=function(){function e(t,r){eb(this,e),this.type=t,this.metadata=r}return eE(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function eP(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function ej(e){if(!e)throw Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!ei(e)||!ei(e.countries))throw Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(ei(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+eN(e)+": "+e,"."))}var eN=function(e){return ev(e)};function eO(e,t){if((t=new ek(t)).hasCountry(e))return t.country(e).countryCallingCode();throw Error("Unknown country: ".concat(e))}function e$(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===ew(t,"1.2.0")?this.v2=!0:-1===ew(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var eM=function(e){return"([".concat(eo,"]{1,").concat(e,"})")};function eR(e){var t="[ \xa0\\t,]*",r="[:\\.]?[ \xa0\\t,-]*",n="[ \xa0\\t]*";return";ext="+eM("20")+"|"+(t+"(?:e?xt(?:ensi(?:o?|\xf3))?n?|??||anexo)"+r+eM("20"))+"#?|"+(t+"(?:[x#~]|int|)"+r+eM("9"))+"#?|"+("[- ]+"+eM("6"))+"#|"+(n+"(?:,{2}|;)"+r+eM("15"))+"#?|"+(n+"(?:,)+"+r+eM("9"))+"#?"}var eD="["+ec+"]{0,1}(?:["+el+"]*["+eo+"]){3,}["+el+eo+"]*",eL=RegExp("^["+ec+"]{0,1}(?:["+el+"]*["+eo+"]){1,2}$","i"),eU=RegExp("^["+eo+"]{2}$|^"+(eD+"(?:"+eR())+")?$","i"),eF=RegExp("(?:"+eR()+")$","i");function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eW={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function ez(e){for(var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eB(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eB(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=n()).done;){var i=eW[t.value];i&&(r+=i)}return r}function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eH(e){for(var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eq(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eq(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=n()).done;){var i=t.value;r+=function(e,t,r){if("+"===e){if(t)return;return"+"}return eW[e]}(i,r)||""}return r}function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eG(e,t){return function e(t,r,n){var i=n.type(r),a=i&&i.possibleLengths()||n.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===r){if(!n.type("FIXED_LINE"))return e(t,"MOBILE",n);var s=n.type("MOBILE");s&&(a=function(e,t){for(var r,n=e.slice(),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eV(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eV(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=i()).done;){var a=r.value;0>e.indexOf(a)&&n.push(a)}return n.sort(function(e,t){return e-t})}(a,s.possibleLengths()))}else if(r&&!i)return"INVALID_LENGTH";var o=t.length,l=a[0];return l===o?"IS_POSSIBLE":l>o?"TOO_SHORT":a[a.length-1]<o?"TOO_LONG":a.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}(e,void 0,t)}function eK(e,t){return"IS_POSSIBLE"===eG(e,t)}function eJ(e,t){return e=e||"",RegExp("^(?:"+t+")$").test(e)}function eY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eZ=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function eQ(e,t,r){if(t=t||{},e.country||e.countryCallingCode){(r=new ek(r)).selectNumberingPlan(e.country,e.countryCallingCode);var n=t.v2?e.nationalNumber:e.phone;if(eJ(n,r.nationalNumberPattern())){if(eX(n,"FIXED_LINE",r))return r.type("MOBILE")&&""===r.type("MOBILE").pattern()||!r.type("MOBILE")||eX(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eY(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eY(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(eZ);!(i=a()).done;){var s=i.value;if(eX(n,s,r))return s}}}}function eX(e,t,r){return!(!(t=r.type(t))||!t.pattern()||t.possibleLengths()&&0>t.possibleLengths().indexOf(e.length))&&eJ(e,t.pattern())}var e0=RegExp("(["+eo+"])");function e1(e,t,r,n){if(t){var i=new ek(n);i.selectNumberingPlan(t,r);var a=new RegExp(i.IDDPrefix());if(0===e.search(a)){var s=(e=e.slice(e.match(a)[0].length)).match(e0);if(!s||null==s[1]||!(s[1].length>0)||"0"!==s[1])return e}}}function e2(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(e);if(n){var i,a,s,o=n.length-1,l=o>0&&n[o];if(t.nationalPrefixTransformRule()&&l)i=e.replace(r,t.nationalPrefixTransformRule()),o>1&&(a=n[1]);else{var c=n[0];i=e.slice(c.length),l&&(a=n[1])}if(l){var d=e.indexOf(n[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(s=t.numberingPlan.nationalPrefix())}else s=n[0];return{nationalNumber:i,nationalPrefix:s,carrierCode:a}}}return{nationalNumber:e}}function e3(e,t){var r,n,i,a=e2(e,t),s=a.carrierCode,o=a.nationalNumber;return o!==e&&(r=e,n=o,!(!eJ(r,(i=t).nationalNumberPattern())||eJ(n,i.nationalNumberPattern()))||t.possibleLengths()&&!function(e,t){switch(eG(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(o,t))?{nationalNumber:e}:{nationalNumber:o,carrierCode:s}}function e5(e,t,r,n){var i=t?eO(t,n):r;if(0===e.indexOf(i)){(n=new ek(n)).selectNumberingPlan(t,r);var a=e.slice(i.length),s=e3(a,n).nationalNumber,o=e3(e,n).nationalNumber;if(!eJ(o,n.nationalNumberPattern())&&eJ(s,n.nationalNumberPattern())||"TOO_LONG"===eG(o,n))return{countryCallingCode:i,number:a}}return{number:e}}function e4(e,t,r,n){if(!e)return{};if("+"!==e[0]){var i,a=e1(e,t,r,n);if(a&&a!==e)i=!0,e="+"+a;else{if(t||r){var s=e5(e,t,r,n),o=s.countryCallingCode,l=s.number;if(o)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:o,number:l}}return{number:e}}}if("0"===e[1])return{};n=new ek(n);for(var c=2;c-1<=3&&c<=e.length;){var d=e.slice(1,c);if(n.hasCallingCode(d))return n.selectNumberingPlan(d),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:e.slice(c)};c++}return{}}function e6(e){return e.replace(RegExp("[".concat(el,"]+"),"g")," ").trim()}var e8=/(\$\d)/;function e9(e,t,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var a=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(e8,t.nationalPrefixFormattingRule()):t.format());return n?e6(a):a}var e7=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ti={formatExtension:function(e,t,r){return"".concat(e).concat(r.ext()).concat(t)}};function ta(e,t,r,n,i){var a=function(e,t){for(var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tt(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(r=n()).done;){var i=r.value;if(i.leadingDigitsPatterns().length>0){var a=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(a))continue}if(eJ(t,i.pattern()))return i}}(n.formats(),e);return a?e9(e,a,{useInternationalFormat:"INTERNATIONAL"===r,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:n}):e}function ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tl=function(){var e;function t(e,r,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");if(!e)throw TypeError("First argument is required");if("string"!=typeof e)throw TypeError("First argument must be a string");if("string"==typeof e){if("+"===e[0]&&!r)throw TypeError("`metadata` argument not passed");if(ei(r)&&ei(r.countries)){n=r;var i=e;if(!tc.test(i))throw Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=e4(i,void 0,void 0,n),s=a.countryCallingCode;if(r=a.number,e=s,!r)throw Error("Invalid `number` argument passed: too short")}}if(!r)throw TypeError("`nationalNumber` argument is required");if("string"!=typeof r)throw TypeError("`nationalNumber` argument must be a string");ej(n);var o=function(e,t){var r,n,i=new ek(t);return/^[A-Z]{2}$/.test(e)?(r=e,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=e,{country:r,countryCallingCode:n}}(e,n),l=o.country,c=o.countryCallingCode;this.country=l,this.countryCallingCode=c,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return e=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){var e,t,r,n;return this.country?[this.country]:(e=this.countryCallingCode,t=this.nationalNumber,(n=new ek(r=this.getMetadata()).getCountryCodesForCallingCode(e))?n.filter(function(e){var n,i,a;return n=t,i=e,(a=new ek(r)).selectNumberingPlan(i),a.numberingPlan.possibleLengths().indexOf(n.length)>=0}):[])}},{key:"isPossible",value:function(){return function(e,t,r){if(void 0===t&&(t={}),r=new ek(r),t.v2){if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!r.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}}if(r.possibleLengths())return eK(e.phone||e.nationalNumber,r);if(e.countryCallingCode&&r.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){var e,t;return(e=e={v2:!0},(t=new ek(t=this.getMetadata())).selectNumberingPlan(this.country,this.countryCallingCode),t.hasTypes())?void 0!==eQ(this,e,t.metadata):eJ(e.v2?this.nationalNumber:this.phone,t.nationalNumberPattern())}},{key:"isNonGeographic",value:function(){return new ek(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return eQ(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return function(e,t,r,n){if(r=r?tn(tn({},ti),r):ti,n=new ek(n),e.country&&"001"!==e.country){if(!n.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";n.selectNumberingPlan(e.countryCallingCode)}var i,a,s,o,l,c,d,u,h,p,f,g,m,y=n.countryCallingCode(),w=r.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":if(!w)return"";return i=m=ta(w,e.carrierCode,"NATIONAL",n,r),a=e.ext,s=n,o=r.formatExtension,a?o(i,a,s):i;case"INTERNATIONAL":if(!w)return"+".concat(y);return m=ta(w,null,"INTERNATIONAL",n,r),l=m="+".concat(y," ").concat(m),c=e.ext,d=n,u=r.formatExtension,c?u(l,c,d):l;case"E.164":return"+".concat(y).concat(w);case"RFC3966":var v={number:"+".concat(y).concat(w),ext:e.ext},b=v.number,x=v.ext;if(!b)return"";if("+"!==b[0])throw Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(b).concat(x?";ext="+x:"");case"IDD":if(!r.fromCountry)return;return h=function(e,t,r,n,i){if(eO(n,i.metadata)===r){var a,s,o=ta(e,t,"NATIONAL",i);return"1"===r?r+" "+o:o}var l=(a=void 0,((s=new ek(i.metadata)).selectNumberingPlan(n,a),s.defaultIDDPrefix())?s.defaultIDDPrefix():e7.test(s.IDDPrefix())?s.IDDPrefix():void 0);if(l)return"".concat(l," ").concat(r," ").concat(ta(e,null,"INTERNATIONAL",i))}(w,e.carrierCode,y,r.fromCountry,n),p=e.ext,f=n,g=r.formatExtension,p?g(h,p,f):h;default:throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}(this,e,t?to(to({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),tc=/^\+\d+$/;function td(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tu(e,t){var r=t.countries,n=(t.defaultCountry,t.metadata);n=new ek(n);for(var i,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return td(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=a()).done;){var s=i.value;if(n.country(s),n.leadingDigits()){if(e&&0===e.search(n.leadingDigits()))return s}else if(eQ({phone:e,country:s},void 0,n.metadata))return s}}function th(e,t){var r=t.nationalNumber,n=t.defaultCountry,i=t.metadata,a=i.getCountryCodesForCallingCode(e);if(a)return 1===a.length?a[0]:tu(r,{countries:a,defaultCountry:n,metadata:i.metadata})}var tp="(["+eo+"]|[\\-\\.\\(\\)]?)",tf=RegExp("^\\+"+tp+"*["+eo+"]"+tp+"*$","g"),tg=RegExp("^("+("["+eo+"]+((\\-)*[")+eo+"])*\\.)*[a-zA-Z]+((\\-)*["+eo+"])*\\.?$","g"),tm="tel:",ty=";phone-context=",tw=RegExp("["+ec+eo+"]"),tv=RegExp("[^"+eo+"#]+$");function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tA(){var e=function(e){var t,r,n,i,a=function(e){if(Array.isArray(e))return e}(t=Array.prototype.slice.call(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(r=i.next()).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}}(t,4)||function(e,t){if(e){if("string"==typeof e)return es(e,4);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return es(e,t)}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],o=a[1],l=a[2],c=a[3];if("string"==typeof s)r=s;else throw TypeError("A text for parsing must be a string.");if(o&&"string"!=typeof o)if(ei(o))l?(n=o,i=l):i=o;else throw Error("Invalid second argument: ".concat(o));else c?(n=l,i=c):(n=void 0,i=l),o&&(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({defaultCountry:o},n));return{text:r,options:n,metadata:i}}(arguments),t=e.text,r=e.options,n=e.metadata,i=function(e,t,r){var n,i;t&&t.defaultCountry&&(n=t.defaultCountry,!r.countries.hasOwnProperty(n))&&(t=t_(t_({},t),{},{defaultCountry:void 0}));try{return i=t,function(e,t,r){if(t=t||{},r=new ek(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry)){if(t.v2)throw new ey("INVALID_COUNTRY");throw Error("Unknown country: ".concat(t.defaultCountry))}var n,i,a,s,o=function(e,t,r){var n=function(e,t){var r=t.extractFormattedPhoneNumber,n=function(e){var t=e.indexOf(ty);if(t<0)return null;var r=t+ty.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)}(e);if(!(null===n||0!==n.length&&(tf.test(n)||tg.test(n))))throw new ey("NOT_A_NUMBER");if(null===n)i=r(e)||"";else{i="","+"===n.charAt(0)&&(i+=n);var i,a,s=e.indexOf(tm);a=s>=0?s+tm.length:0;var o=e.indexOf(ty);i+=e.substring(a,o)}var l=i.indexOf(";isub=");if(l>0&&(i=i.substring(0,l)),""!==i)return i}(e,{extractFormattedPhoneNumber:function(e){if(e){if(e.length>250){if(t)throw new ey("TOO_LONG");return}if(!1===r)return e;var n=e.search(tw);return n<0?void 0:e.slice(n).replace(tv,"")}}});if(!n)return{};if(!(n.length>=2&&eU.test(n)))return eL.test(n)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(eF);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(eF),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}(n);return i.ext?i:{number:n}}(e,t.v2,t.extract),l=o.number,c=o.ext,d=o.error;if(!l){if(t.v2){if("TOO_SHORT"===d)throw new ey("TOO_SHORT");throw new ey("NOT_A_NUMBER")}return{}}var u=function(e,t,r,n){var i,a=e4(eH(e),t,r,n.metadata),s=a.countryCallingCodeSource,o=a.countryCallingCode,l=a.number;if(o)n.selectNumberingPlan(o);else{if(!l||!t&&!r)return{};n.selectNumberingPlan(t,r),t&&(i=t),o=r||eO(t,n.metadata)}if(!l)return{countryCallingCodeSource:s,countryCallingCode:o};var c=e3(eH(l),n),d=c.nationalNumber,u=c.carrierCode,h=th(o,{nationalNumber:d,defaultCountry:t,metadata:n});return h&&(i=h,"001"===h||n.country(i)),{country:i,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:d,carrierCode:u}}(l,t.defaultCountry,t.defaultCallingCode,r),h=u.country,p=u.nationalNumber,f=u.countryCallingCode,g=u.countryCallingCodeSource,m=u.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new ey("INVALID_COUNTRY");return{}}if(!p||p.length<2){if(t.v2)throw new ey("TOO_SHORT");return{}}if(p.length>17){if(t.v2)throw new ey("TOO_LONG");return{}}if(t.v2){var y=new tl(f,p,r.metadata);return h&&(y.country=h),m&&(y.carrierCode=m),c&&(y.ext=c),y.__countryCallingCodeSource=g,y}var w=(t.extended?!!r.hasSelectedNumberingPlan():!!h)&&eJ(p,r.nationalNumberPattern());return t.extended?{country:h,countryCallingCode:f,carrierCode:m,valid:w,possible:!!w||!!(!0===t.extended&&r.possibleLengths()&&eK(p,r)),phone:p,ext:c}:w?(n=h,i=p,a=c,s={country:n,phone:i},a&&(s.ext=a),s):{}}(e,tx(tx({},i),{},{v2:!0}),r)}catch(e){if(e instanceof ey);else throw e}}(t,r=tk(tk({},r),{},{extract:!1}),n);return i&&i.isPossible()||!1}function tI(){return er(eO,arguments)}var tS=function(){var e;function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.onCountryChange=r,this.onCallingCodeChange=n}return e=[{key:"reset",value:function(e){var t=e.country,r=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this[n]=e[n]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function tT(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tP(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tP(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tj=/x/;function tN(e,t){if(t<1)return"";for(var r="";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function tO(e,t){return")"===e[t]&&t++,function(e){for(var t=[],r=0;r<e.length;)"("===e[r]?t.push(r):")"===e[r]&&t.pop(),r++;var n=0,i="";t.push(e.length);for(var a=0;a<t.length;a++){var s=t[a];i+=e.slice(n,s),n=s+1}return i}(e.slice(0,t))}function t$(e,t,r){var n,i,a=r.metadata,s=r.useNationalPrefixFormattingRule,o=r.getSeparatorAfterNationalPrefix,l=e9(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:s,metadata:a});if(!s&&(e.nationalPrefix?l=e.nationalPrefix+o(t)+l:e.complexPrefixBeforeNationalSignificantNumber&&(l=e.complexPrefixBeforeNationalSignificantNumber+" "+l)),n=l,i=e,ez(n)===i.getNationalDigits())return l}var tM=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],r=t.branches,n=t.instructions;if(r)return{op:"|",args:r.concat([tL(n)])};if(0===n.length)throw Error("Pattern is required");return 1===n.length?n[0]:n}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw Error("Pattern is required");var t=e.match(tD);if(!t){if(tR.test(e))throw Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""));return}var r=t[1],n=e.slice(0,t.index),i=e.slice(t.index+r.length);switch(r){case"(?:":n&&this.parsePattern(n),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw Error('")" operator must be preceded by "(?:" operator');if(n&&this.parsePattern(n),0===this.getContext().instructions.length)throw Error('No instructions found after "|" operator in an "or" group');var a=this.getContext().branches;a.push(tL(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:a});break;case"|":if(!this.getContext().or)throw Error('"|" operator can only be used inside "or" groups');if(n&&this.parsePattern(n),!this.getContext().branches)if(1===this.context.length)this.getContext().branches=[];else throw Error('"branches" not found in an "or" group context');this.getContext().branches.push(tL(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":n&&this.parsePattern(n),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:function(e){for(var t=[],r=0;r<e.length;){if("-"===e[r]){if(0===r||r===e.length-1)throw Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[r-1].charCodeAt(0)+1,i=e[r+1].charCodeAt(0)-1,a=n;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[r]);r++}return t}(n)});break;default:throw Error("Unknown operator: ".concat(r))}i&&this.parsePattern(i)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),tR=/[\(\)\[\]\?\:\|]/,tD=RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function tL(e){return 1===e.length?e[0]:e}function tU(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tF(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tB=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.matchTree=new tM().parse(e)}return e=[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.allowOverflow;if(!e)throw Error("String is required");var n=function e(t,r,n){if("string"==typeof r){var i=t.join("");return 0===r.indexOf(i)?t.length===r.length?{match:!0,matchedChars:t}:{partialMatch:!0}:0===i.indexOf(r)?n&&t.length>r.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var a=t.slice(),s=0;s<r.length;){var o=e(a,r[s],n&&s===r.length-1);if(!o)return;if(o.overflow)return o;if(o.match){if(0===(a=a.slice(o.matchedChars.length)).length)if(s===r.length-1)return{match:!0,matchedChars:t};else return{partialMatch:!0}}else if(o.partialMatch)return{partialMatch:!0};else throw Error("Unsupported match result:\n".concat(JSON.stringify(o,null,2)));s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-a.length)}}switch(r.op){case"|":for(var l,c,d=tU(r.args);!(c=d()).done;){var u=e(t,c.value,n);if(u)if(u.overflow)return u;else if(u.match)return{match:!0,matchedChars:u.matchedChars};else if(u.partialMatch)l=!0;else throw Error("Unsupported match result:\n".concat(JSON.stringify(u,null,2)))}if(l)return{partialMatch:!0};return;case"[]":for(var h,p=tU(r.args);!(h=p()).done;){var f=h.value;if(t[0]===f){if(1===t.length)return{match:!0,matchedChars:t};if(n)return{overflow:!0};return{match:!0,matchedChars:[f]}}}return;default:throw Error("Unsupported instruction tree: ".concat(r))}}(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||r)return n}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function tW(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tz(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tq=tN("9",15),tH=/[- ]/,tV=RegExp("["+el+"]*\\$1["+el+"]*(\\$\\d["+el+"]*)*$"),tG=function(){var e;function t(e){e.state;var r=e.metadata;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.metadata=r,this.resetFormat()}return e=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var r=this;if("IS_POSSIBLE"===eG(t.nationalSignificantNumber,this.metadata))for(var n,i=tW(this.matchingFormats);!(n=i()).done;){var a=n.value,s=function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,a=r.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,a=r.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var s=t$(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:n});if(s)return s}return t$(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:n})}(e,t,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return r.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return r.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(s.replace(/\d/g,"x"),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf("x"),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var r=this.chosenFormat,n=this.chooseFormat(t);if(n)if(n===r)return this.formatNextNationalNumberDigits(e);else return this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,r=e.nationalSignificantNumber,n=e.nationalPrefix,i=e.international,a=r.length-3;a<0&&(a=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,n)&&t.formatMatches(e,r,a)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,r){return!(r&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!r&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,r){var n=e.leadingDigitsPatterns().length;if(0===n)return!0;r=Math.min(r,n-1);var i=e.leadingDigitsPatterns()[r];if(t.length<3)try{return void 0!==new tB(i).match(t,{allowOverflow:!0})}catch(e){return console.error(e),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,r=this,n=tW(this.matchingFormats.slice());!(t=n()).done;){var i=function(){var n=t.value;return r.chosenFormat===n?"break":tV.test(r.getFormatFormat(n,e.international))?r.createTemplateForFormat(n,e)?(r.chosenFormat=n,"break"):(r.matchingFormats=r.matchingFormats.filter(function(e){return e!==n}),"continue"):"continue"}();if("break"===i)break;if("continue"===i)continue}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(e,t);if(r)return this.setNationalNumberTemplate(r,t),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&tH.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var r=e.IDDPrefix,n=e.missingPlus;return r?t&&!1===t.spacing?r:r+" ":n?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,r=0,n=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";r<n.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf("x",t+1),r++;return tO(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,"x")+tN("x",t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var r,n=t.nationalSignificantNumber,i=t.international,a=t.nationalPrefix,s=t.complexPrefixBeforeNationalSignificantNumber,o=e.pattern();o=o.replace(/\[([^\[\]])*\]/g,"\\d").replace(/\d(?=[^,}][^,}])/g,"\\d");var l=tq.match(o)[0];if(!(n.length>l.length)){var c=RegExp("^"+o+"$"),d=n.replace(/\d/g,"9");c.test(d)&&(l=d);var u=this.getFormatFormat(e,i);if(this.shouldTryNationalPrefixFormattingRule(e,{international:i,nationalPrefix:a})){var h=u.replace(e8,e.nationalPrefixFormattingRule());if(ez(e.nationalPrefixFormattingRule())===(a||"")+ez("$1")&&(u=h,r=!0,a))for(var p=a.length;p>0;)u=u.replace(/\d/,"x"),p--}var f=l.replace(new RegExp(o),u).replace(/9/g,"x");return!r&&(s?f=tN("x",s.length)+" "+f:a&&(f=tN("x",a.length)+this.getSeparatorAfterNationalPrefix(e)+f)),i&&(f=e6(f)),f}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,r){for(var n,i=tT(r.split(""));!(n=i()).done;){var a=n.value;if(0>e.slice(t+1).search(tj))return;t=e.search(tj),e=e.replace(tj,a)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);return t?(this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],tO(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)):void this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var r=t.international,n=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&n||!i&&!r)return!0}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function tK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tJ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tY=RegExp("^["+el+eo+"]+$","i"),tZ="(?:["+ec+"]["+el+eo+"]*|["+el+eo+"]+)",tQ=RegExp("[^"+el+eo+"]+.*$"),tX=/[^\d\[\]]/,t0=function(){var e;function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,a=e.onNationalSignificantNumberChange;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=a}return e=[{key:"input",value:function(e,t){var r,n,i,a,s,o=tK((i=(n=tK("+"===(r=function(e){var t,r=e.search(tZ);if(!(r<0))return"+"===(e=e.slice(r))[0]&&(t=!0,e=e.slice(1)),e=e.replace(tQ,""),t&&(e="+"+e),e}(e)||"")[0]?[r.slice(1),!0]:[r],2))[0],a=n[1],tY.test(i)||(i=""),[i,a]),2),l=o[0],c=o[1],d=ez(l);return c&&!t.digits&&(t.startInternationalNumber(),d||(s=!0)),d&&this.inputDigits(d,t),{digits:d,justLeadingPlus:s}}},{key:"inputDigits",value:function(e,t){var r=t.digits,n=r.length<3&&r.length+e.length>=3;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,r=e.callingCode;return t&&!r}},{key:"extractCountryCallingCode",value:function(e){var t=e4("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode,n=t.number;if(r)return e.setCallingCode(r),e.update({nationalSignificantNumber:n}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&tX.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var r=e2(e,this.metadata),n=r.nationalPrefix,i=r.nationalNumber,a=r.carrierCode;if(i!==e)return this.onExtractedNationalNumber(n,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var n=e2(e,this.metadata),i=n.nationalPrefix,a=n.nationalNumber,s=n.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,s,a,e,r),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,r,n,i){var a,s,o=n.lastIndexOf(r);if(o>=0&&o===n.length-r.length){s=!0;var l=n.slice(0,o);l!==e&&(a=l)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:s,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,r=e.IDDPrefix,n=e.digits;if(e.nationalSignificantNumber,!t&&!r){var i=e1(n,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(void 0!==i&&i!==n)return e.update({IDDPrefix:n.slice(0,n.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=e5(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode;if(t.number,r)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(e,t){var r=t.country,n=t.callingCode;e.startInternationalNumber(r,n),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function t1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var t2=function(){var e;function t(e,r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");this.metadata=new ek(r);var n,i=function(e){if(Array.isArray(e))return e}(n=this.getCountryAndCallingCode(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(r=i.next()).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){o=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw n}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return t1(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],s=i[1];this.defaultCountry=a,this.defaultCallingCode=s,this.reset()}return e=[{key:"getCountryAndCallingCode",value:function(e){var t,r;return e&&(ei(e)?(t=e.defaultCountry,r=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,r]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),r=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(r){if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(n=this.formatter.format(r,this.state)),void 0===n&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var n,i=this.state.getNationalDigits();i&&(n=this.formatter.format(i,this.state))}this.formattedOutput=n?this.getFullNumber(n):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new tS({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,r){e.metadata.selectNumberingPlan(r,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new tG({state:this.state,metadata:this.metadata}),this.parser=new t0({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;return e}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var r=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},n=this.state.callingCode;return r(n?e?"".concat(n," ").concat(e):n:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.complexPrefixBeforeNationalSignificantNumber,n=e.nationalPrefix,i=t,a=r||n;return a&&(i=a+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,"x")}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(th(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,r=e.callingCode,n=e.country,i=e.nationalSignificantNumber;if(t){if(this.isInternational())if(r)return"+"+r+i;else return"+"+t;else if(n||r)return"+"+(n?this.metadata.countryCallingCode():r)+i}}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.carrierCode,n=e.callingCode,i=this._getCountry();if(t&&(i||n)){if(i&&i===this.defaultCountry){var a=new ek(this.metadata.metadata);a.selectNumberingPlan(i);var s=a.numberingPlan.callingCode(),o=this.metadata.getCountryCodesForCallingCode(s);if(o.length>1){var l=tu(t,{countries:o,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});l&&(i=l)}}var c=new tl(i||n,t,this.metadata.metadata);return r&&(c.carrierCode=r),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function t3(e){return t2.call(this,e,et)}function t5(e){return new ek(e).getCountries()}function t4(e,t,r){if(t[e])return new tl(e,t[e],r)}t3.prototype=Object.create(t2.prototype,{}),t3.prototype.constructor=t3;let t6=(e,t)=>(function(){return er(tA,arguments)})(String(e),t),t8=(e,t)=>`+${tI(t)} ${e}`,t9=e=>`*${e.replaceAll("-","").slice(-4)}`,t7=e=>new t3(e),re=(function(){return er(t5,arguments)})().map(e=>({code:e,callCode:tI(e)})),rt=e=>{let t=(function(){return er(t4,arguments)})(e,ee)?.formatInternational();return t?.substring(t.indexOf(" ")+1)},rr=e=>{let t=new t3;t.input(e);let r=t.getCountry()||"US",n=t.getCallingCode()||"1";return{countryCode:r,phone:e.replace("+"+n,"")}},rn=(e,t=!0)=>e.reduce((e,r)=>({...e,[r]:t}),{}),ri=(R.id,B.id,D.id,L.id,U.id,F.id,N.id,O.id,P.id,j.id,S.id,T.id,{"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""});var ra=r(76141),rs=r(64166);function ro(e){return e?`${e.slice(0,5)}${e.slice(-4)}`:""}function rl({amount:e,decimals:t}){return(0,rs.J)(BigInt(e),t)}let rc=new Set([R.id,N.id,D.id,U.id,S.id]),rd=new Set([R.id,N.id,U.id,D.id]),ru={buy:"CARD",send:"CRYPTO_ACCOUNT"},rh={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};R.id,N.id,D.id,U.id,S.id;let rp=(e,t)=>{switch(t){case"native-currency":return rc.has(e);case"USDC":return rd.has(e);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}},rf={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}},rg=new Set([R.id,S.id,N.id,U.id,P.id,$.id]),rm=new Set([R.id,S.id,D.id,N.id,U.id]),ry={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},rw=new Uint8Array(16),rv=[];for(let e=0;e<256;++e)rv.push((e+256).toString(16).slice(1));let rb=function(e,t,r){if(ry.randomUUID&&!t&&!e)return ry.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(rw)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return rv[e[t+0]]+rv[e[t+1]]+rv[e[t+2]]+rv[e[t+3]]+"-"+rv[e[t+4]]+rv[e[t+5]]+"-"+rv[e[t+6]]+rv[e[t+7]]+"-"+rv[e[t+8]]+rv[e[t+9]]+"-"+rv[e[t+10]]+rv[e[t+11]]+rv[e[t+12]]+rv[e[t+13]]+rv[e[t+14]]+rv[e[t+15]]}(i)};class rx{async invokeRpc({method:e,params:t}){let r=await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:rb(),method:e,params:t})});return await r.json()}async getBalance(e){try{let t=await this.invokeRpc({method:"getBalance",params:[e]});return t.error?null:BigInt(t.result.value)}catch(e){return null}}async getTokenAccountsByOwner(e,t){try{let r=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:t},{encoding:"jsonParsed"}]});if(r.error)return null;let n=r.result.value.at(0)?.account?.data?.parsed?.info?.tokenAmount;return n?{amount:BigInt(n.amount),decimals:n.decimals}:null}catch(e){return null}}async getAccountInfo(e){try{let t=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(t.error)return null;let r=t.result.value?.data?.parsed?.info;return r?{decimals:r.decimals}:null}catch(e){return null}}constructor(e){this.cluster=e}}let rE={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"};class r_{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(rE,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}}let rC={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},rk=new TextEncoder,rA=new TextDecoder,rI=e=>{let t=e;"string"==typeof t&&(t=rk.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},rS=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},rT=e=>rI(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),rP=e=>{let t=e;t instanceof Uint8Array&&(t=rA.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return rS(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};class rj extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}class rN extends rj{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function rO(e){let t,r;if("string"!=typeof e)throw new rN("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new rN("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new rN("Invalid JWT");if(!n)throw new rN("JWTs must contain a payload");try{t=rP(n)}catch(e){throw new rN("Failed to base64url decode the payload")}try{r=JSON.parse(rA.decode(t))}catch(e){throw new rN("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new rN("Invalid JWT Claims Set");return r}Symbol.asyncIterator;class r${static parse(e){try{return new r$(e)}catch(e){return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=rO(e)}}class rM{async updateOnCrossAppAuthentication(e,t){let r=t.access_token,n=rM.providerAccessTokenStorageKey(e);await this._storage.put(n,r)}async getProviderAccessToken(e){let t=rM.providerAccessTokenStorageKey(e),r=await this._storage.get(t);if("string"!=typeof r)return null;try{if(new r$(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(t),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(rC,{params:{app_id:this._privyInternal.appId}})}constructor(e,t){this._privyInternal=e,this._storage=t}}rM.providerAccessTokenStorageKey=e=>`privy:cross-app:${e}`;class rR{async revoke(){await this._privyInternal.fetch(K.xh,{})}constructor(e){this._privyInternal=e}}class rD extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class rL extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class rU extends Error{constructor({error:e,code:t,response:r}){super(e),this.code=t,this.error=e,this.response=r}}class rF{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(!await this._privyInternal.getAccessToken())throw new rL({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new rL({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i}}async function rB({context:e,chainType:t}){return{wallet:await X(e,{request:{chain_type:t,owner_id:void 0}})}}let rW=!1,rz=!1,rq={debug:1,default:2,info:2,warning:3,error:4,off:5},rH=rq.default,rV=null,rG=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(oi||(oi={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(oa||(oa={}));let rK="0123456789abcdef";class rJ{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==rq[r]&&this.throwArgumentError("invalid log level name","logLevel",e),rH>rq[r]||console.log.apply(console,t)}debug(...e){this._log(rJ.levels.DEBUG,e)}info(...e){this._log(rJ.levels.INFO,e)}warn(...e){this._log(rJ.levels.WARNING,e)}makeError(e,t,r){if(rz)return this.makeError("censored error",t,{});t||(t=rJ.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=rK[t[e]>>4],r+=rK[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,a="";switch(t){case oa.NUMERIC_FAULT:{a="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":a+="-"+t;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break}case oa.CALL_EXCEPTION:case oa.INSUFFICIENT_FUNDS:case oa.MISSING_NEW:case oa.NONCE_EXPIRED:case oa.REPLACEMENT_UNDERPRICED:case oa.TRANSACTION_REPLACED:case oa.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,rJ.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),rG&&this.throwError("platform missing String.prototype.normalize",rJ.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:rG})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,rJ.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,rJ.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,rJ.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,rJ.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",rJ.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",rJ.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",rJ.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return rV||(rV=new rJ("logger/5.8.0")),rV}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",rJ.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rW){if(!e)return;this.globalLogger().throwError("error censorship permanent",rJ.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rz=!!e,rW=!!t}static setLogLevel(e){let t=rq[e.toLowerCase()];if(null==t)return void rJ.globalLogger().warn("invalid log level - "+e);rH=t}static from(e){return new rJ(e)}}rJ.errors=oa,rJ.levels=oi;let rY=new rJ("properties/5.8.0");function rZ(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function rQ(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function rX(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,o)}l((i=i.apply(t,r||[])).next())})}function r0(e){let t={};for(let r in e)t[r]=e[r];return t}let r1={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function r2(e){if(function e(t){if(null==t||r1[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return rY.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>r2(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&rZ(t,r,r2(n))}return t}return rY.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}class r3{constructor(e){for(let t in e)this[t]=r2(e[t])}}var r5=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};let r4=new rJ("abstract-signer/5.8.0"),r6=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],r8=[rJ.errors.INSUFFICIENT_FUNDS,rJ.errors.NONCE_EXPIRED,rJ.errors.REPLACEMENT_UNDERPRICED];class r9{constructor(){r4.checkAbstract(new.target,r9),rZ(this,"_isSigner",!0)}getBalance(e){return r5(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return r5(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return r5(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield rX(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return r5(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield rX(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return r5(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return r5(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return r5(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return r5(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return r5(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===r6.indexOf(t)&&r4.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=r0(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&r4.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return r5(this,void 0,void 0,function*(){let t=yield rX(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>r5(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&r4.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?r4.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&r4.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&r4.throwError("network does not support EIP-1559",rJ.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):r4.throwError("failed to get consistent fee data",rJ.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(r8.indexOf(e.code)>=0)throw e;return r4.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",rJ.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&r4.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield rX(t)})}_checkProvider(e){this.provider||r4.throwError("missing provider",rJ.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class r7 extends r9{constructor(e,t){super(),rZ(this,"address",e),rZ(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{r4.throwError(e,rJ.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new r7(this.address,e)}}let ne="providers/5.8.0";var nt=r(92460),nr=r.n(nt);let nn=new rJ("bytes/5.8.0");function ni(e){return!!e.toHexString}function na(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return na(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function ns(e){return nh(e)&&!(e.length%2)||nl(e)}function no(e){return"number"==typeof e&&e==e&&e%1==0}function nl(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!no(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!no(r)||r<0||r>=256)return!1}return!0}function nc(e,t){if(t||(t={}),"number"==typeof e){nn.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),na(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ni(e)&&(e=e.toHexString()),nh(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":nn.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return na(new Uint8Array(n))}return nl(e)?na(new Uint8Array(e)):nn.throwArgumentError("invalid arrayify value","value",e)}function nd(e){let t=e.map(e=>nc(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),na(r)}function nu(e){let t=nc(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function nh(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let np="0123456789abcdef";function nf(e,t){if(t||(t={}),"number"==typeof e){nn.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=np[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ni(e))return e.toHexString();if(nh(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":nn.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(nl(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=np[(240&n)>>4]+np[15&n]}return t}return nn.throwArgumentError("invalid hexlify value","value",e)}function ng(e){if("string"!=typeof e)e=nf(e);else if(!nh(e)||e.length%2)return null;return(e.length-2)/2}function nm(e,t,r){return("string"!=typeof e?e=nf(e):(!nh(e)||e.length%2)&&nn.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function ny(e){let t="0x";return e.forEach(e=>{t+=nf(e).substring(2)}),t}function nw(e){let t=function(e){"string"!=typeof e&&(e=nf(e)),nh(e)||nn.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(nf(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function nv(e,t){for("string"!=typeof e?e=nf(e):nh(e)||nn.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&nn.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function nb(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ns(e)){let r=nc(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=nf(r.slice(0,32)),t.s=nf(r.slice(32,64))):65===r.length?(t.r=nf(r.slice(0,32)),t.s=nf(r.slice(32,64)),t.v=r[64]):nn.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:nn.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=nf(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=nc(e)).length>t&&nn.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),na(r)}(nc(t._vs),32);t._vs=nf(r);let n=+(r[0]>=128);null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&nn.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let i=nf(r);null==t.s?t.s=i:t.s!==i&&nn.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?nn.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&nn.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&nh(t.r)?t.r=nv(t.r,32):nn.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&nh(t.s)?t.s=nv(t.s,32):nn.throwArgumentError("signature missing or invalid s","signature",e);let r=nc(t.s);r[0]>=128&&nn.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let n=nf(r);t._vs&&(nh(t._vs)||nn.throwArgumentError("signature invalid _vs","signature",e),t._vs=nv(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&nn.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}let nx="bignumber/5.8.0";var nE=nr().BN;let n_=new rJ(nx),nC={},nk=!1;class nA{constructor(e,t){e!==nC&&n_.throwError("cannot call constructor directly; use BigNumber.from",rJ.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return nS(nT(this).fromTwos(e))}toTwos(e){return nS(nT(this).toTwos(e))}abs(){return"-"===this._hex[0]?nA.from(this._hex.substring(1)):this}add(e){return nS(nT(this).add(nT(e)))}sub(e){return nS(nT(this).sub(nT(e)))}div(e){return nA.from(e).isZero()&&nP("division-by-zero","div"),nS(nT(this).div(nT(e)))}mul(e){return nS(nT(this).mul(nT(e)))}mod(e){let t=nT(e);return t.isNeg()&&nP("division-by-zero","mod"),nS(nT(this).umod(t))}pow(e){let t=nT(e);return t.isNeg()&&nP("negative-power","pow"),nS(nT(this).pow(t))}and(e){let t=nT(e);return(this.isNegative()||t.isNeg())&&nP("unbound-bitwise-result","and"),nS(nT(this).and(t))}or(e){let t=nT(e);return(this.isNegative()||t.isNeg())&&nP("unbound-bitwise-result","or"),nS(nT(this).or(t))}xor(e){let t=nT(e);return(this.isNegative()||t.isNeg())&&nP("unbound-bitwise-result","xor"),nS(nT(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&nP("negative-width","mask"),nS(nT(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&nP("negative-width","shl"),nS(nT(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&nP("negative-width","shr"),nS(nT(this).shrn(e))}eq(e){return nT(this).eq(nT(e))}lt(e){return nT(this).lt(nT(e))}lte(e){return nT(this).lte(nT(e))}gt(e){return nT(this).gt(nT(e))}gte(e){return nT(this).gte(nT(e))}isNegative(){return"-"===this._hex[0]}isZero(){return nT(this).isZero()}toNumber(){try{return nT(this).toNumber()}catch(e){nP("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return n_.throwError("this platform does not support BigInt",rJ.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?nk||(nk=!0,n_.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?n_.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",rJ.errors.UNEXPECTED_ARGUMENT,{}):n_.throwError("BigNumber.toString does not accept parameters",rJ.errors.UNEXPECTED_ARGUMENT,{})),nT(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof nA)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new nA(nC,nI(e)):e.match(/^-?[0-9]+$/)?new nA(nC,nI(new nE(e))):n_.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&nP("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&nP("overflow","BigNumber.from",e),nA.from(String(e));if("bigint"==typeof e)return nA.from(e.toString());if(nl(e))return nA.from(nf(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return nA.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(nh(t)||"-"===t[0]&&nh(t.substring(1))))return nA.from(t)}return n_.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function nI(e){if("string"!=typeof e)return nI(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&n_.throwArgumentError("invalid hex","value",e),"0x00"===(e=nI(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function nS(e){return nA.from(nI(e))}function nT(e){let t=nA.from(e).toHexString();return"-"===t[0]?new nE("-"+t.substring(3),16):new nE(t.substring(2),16)}function nP(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),n_.throwError(e,rJ.errors.NUMERIC_FAULT,n)}var nj=r(6219),nN=r.n(nj);function nO(e){return"0x"+nN().keccak_256(nc(e))}let n$=new rJ("rlp/5.8.0");function nM(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function nR(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function nD(e){return nf(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=nM(r.length);return n.unshift(247+n.length),n.concat(r)}ns(t)||n$.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(nc(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=nM(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function nL(e,t,r,n){let i=[];for(;r<t+1+n;){let a=nU(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&n$.throwError("child data too short",rJ.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function nU(e,t){if(0===e.length&&n$.throwError("data too short",rJ.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&n$.throwError("data short segment too short",rJ.errors.BUFFER_OVERRUN,{});let n=nR(e,t+1,r);return t+1+r+n>e.length&&n$.throwError("data long segment too short",rJ.errors.BUFFER_OVERRUN,{}),nL(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&n$.throwError("data array too short",rJ.errors.BUFFER_OVERRUN,{}),nL(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&n$.throwError("data array too short",rJ.errors.BUFFER_OVERRUN,{});let n=nR(e,t+1,r);t+1+r+n>e.length&&n$.throwError("data array too short",rJ.errors.BUFFER_OVERRUN,{});let i=nf(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&n$.throwError("data too short",rJ.errors.BUFFER_OVERRUN,{});let n=nf(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:nf(e[t])}}function nF(e){let t=nc(e),r=nU(t,0);return r.consumed!==t.length&&n$.throwArgumentError("invalid rlp data","data",e),r.result}let nB=new rJ("address/5.8.0");function nW(e){nh(e,20)||nB.throwArgumentError("invalid address","address",e);let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=nc(nO(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let nz={};for(let e=0;e<10;e++)nz[String(e)]=String(e);for(let e=0;e<26;e++)nz[String.fromCharCode(65+e)]=String(10+e);let nq=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function nH(e){let t=null;if("string"!=typeof e&&nB.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=nW(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&nB.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>nz[e]).join("");for(;t.length>=nq;){let e=t.substring(0,nq);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&nB.throwArgumentError("bad icap checksum","address",e),t=new nE(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=nW("0x"+t)}else nB.throwArgumentError("invalid address","address",e);return t}let nV="hash/5.8.0",nG=new rJ("strings/5.8.0");function nK(e,t,r,n,i){if(e===oo.BAD_PREFIX||e===oo.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===oo.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(os||(os={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(oo||(oo={}));let nJ=Object.freeze({error:function(e,t,r,n,i){return nG.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:nK,replace:function(e,t,r,n,i){return e===oo.OVERLONG?(n.push(i),0):(n.push(65533),nK(e,t,r,n,i))}});function nY(e,t){null==t&&(t=nJ.error),e=nc(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let a=null,s=null;if((224&i)==192)a=1,s=127;else if((240&i)==224)a=2,s=2047;else if((248&i)==240)a=3,s=65535;else{(192&i)==128?n+=t(oo.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(oo.BAD_PREFIX,n-1,e,r);continue}if(n-1+a>=e.length){n+=t(oo.OVERRUN,n-1,e,r);continue}let o=i&(1<<8-a-1)-1;for(let i=0;i<a;i++){let i=e[n];if((192&i)!=128){n+=t(oo.MISSING_CONTINUE,n,e,r),o=null;break}o=o<<6|63&i,n++}if(null!==o){if(o>1114111){n+=t(oo.OUT_OF_RANGE,n-1-a,e,r,o);continue}if(o>=55296&&o<=57343){n+=t(oo.UTF16_SURROGATE,n-1-a,e,r,o);continue}if(o<=s){n+=t(oo.OVERLONG,n-1-a,e,r,o);continue}r.push(o)}}return r}function nZ(e,t=os.current){t!=os.current&&(nG.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return nc(r)}function nQ(e,t){return nY(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let nX=new rJ(nV),n0=new Uint8Array(32);n0.fill(0);let n1=nA.from(-1),n2=nA.from(0),n3=nA.from(1),n5=nA.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n4=nv(n3.toHexString(),32),n6=nv(n2.toHexString(),32),n8={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n9=["name","version","chainId","verifyingContract","salt"];function n7(e){return function(t){return"string"!=typeof t&&nX.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let ie={name:n7("name"),version:n7("version"),chainId:function(e){try{return nA.from(e).toString()}catch(e){}return nX.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return nH(e).toLowerCase()}catch(e){}return nX.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=nc(e);if(32!==t.length)throw Error("bad length");return nf(t)}catch(e){}return nX.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function it(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&nX.throwArgumentError("invalid numeric width","type",e);let i=n5.mask(r?n-1:n),a=r?i.add(n3).mul(n1):n2;return function(t){let r=nA.from(t);return(r.lt(a)||r.gt(i))&&nX.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),nv(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&nX.throwArgumentError("invalid bytes width","type",e),function(t){nc(t).length!==r&&nX.throwArgumentError(`invalid length for ${e}`,"value",t);let n=nc(t),i=n.length%32;return i?ny([n,n0.slice(i)]):nf(n)}}}switch(e){case"address":return function(e){return nv(nH(e),32)};case"bool":return function(e){return e?n4:n6};case"bytes":return function(e){return nO(e)};case"string":return function(e){return nO(nZ(e))}}return null}function ir(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class ii{constructor(e){rZ(this,"types",Object.freeze(r2(e))),rZ(this,"_encoderCache",{}),rZ(this,"_types",{});let t={},r={},n={};for(let i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){let n={};e[i].forEach(a=>{n[a.name]&&nX.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(i)}`,"types",e),n[a.name]=!0;let s=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&nX.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),it(s)||(r[s]||nX.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}let i=Object.keys(r).filter(e=>0===r[e].length);for(let a in 0===i.length?nX.throwArgumentError("missing primary type","types",e):i.length>1&&nX.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),rZ(this,"primaryType",i[0]),!function i(a,s){s[a]&&nX.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),s[a]=!0,Object.keys(t[a]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[a]}(this.primaryType,{}),n){let t=Object.keys(n[a]);t.sort(),this._types[a]=ir(a,e[a])+t.map(t=>ir(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=it(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&nX.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(nO)),nO(ny(i))}}let r=this.types[e];if(r){let t=nO(nZ(this._types[e]));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?nO(n):n});return n.unshift(t),ny(n)}}return nX.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||nX.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return nO(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(it(e))return r(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&nX.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):nX.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ii(e)}static getPrimaryType(e){return ii.from(e).primaryType}static hashStruct(e,t,r){return ii.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=n8[r];n||nX.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>n9.indexOf(e.name)-n9.indexOf(t.name)),ii.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return ny(["0x1901",ii.hashDomain(e),ii.from(t).hash(r)])}static hash(e,t,r){return nO(ii.encode(e,t,r))}static resolveNames(e,t,r,n){var i,a,s,o;return i=this,a=void 0,s=void 0,o=function*(){e=r0(e);let i={};e.verifyingContract&&!nh(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let a=ii.from(t);for(let e in a.visit(r,(e,t)=>("address"!==e||nh(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}},new(s||(s=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function n(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}l((o=o.apply(i,a||[])).next())})}static getPayload(e,t,r){ii.hashDomain(e);let n={},i=[];n9.forEach(t=>{let r=e[t];null!=r&&(n[t]=ie[t](r),i.push({name:t,type:n8[t]}))});let a=ii.from(t),s=r0(t);return s.EIP712Domain?nX.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,a.encode(r),{types:s,domain:n,primaryType:a.primaryType,message:a.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return nf(nc(t));if(e.match(/^u?int/))return nA.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&nX.throwArgumentError("invalid string","value",t),t}return nX.throwArgumentError("unsupported type","type",e)})}}}let ia=nA.from(0);var is=r(26834),io=r.n(is);function il(e,t,r){return e(r={path:t,exports:{},require:function(e,t){throw null==t&&r.path,Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self);var ic=id;function id(e,t){if(!e)throw Error(t||"Assertion failed")}id.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var iu=il(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),ih=il(function(e,t){t.assert=ic,t.toArray=iu.toArray,t.zero2=iu.zero2,t.toHex=iu.toHex,t.encode=iu.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);for(s=0;s<n.length;s+=1)n[s]=0;var i=1<<t+1,a=e.clone();for(s=0;s<n.length;s++){var s,o,l=a.andln(i-1);a.isOdd()?(o=l>(i>>1)-1?(i>>1)-l:l,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,s,o,l=e.andln(3)+n&3,c=t.andln(3)+i&3;3===l&&(l=-1),3===c&&(c=-1),s=(1&l)==0?0:(3==(a=e.andln(7)+n&7)||5===a)&&2===c?-l:l,r[0].push(s),o=(1&c)==0?0:(3==(a=t.andln(7)+i&7)||5===a)&&2===l?-c:c,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new(nr())(e,"hex","le")}}),ip=ih.getNAF,ig=ih.getJSF,im=ih.assert;function iy(e,t){this.type=e,this.p=new(nr())(t.p,16),this.red=t.prime?nr().red(t.prime):nr().mont(this.p),this.zero=new(nr())(0).toRed(this.red),this.one=new(nr())(1).toRed(this.red),this.two=new(nr())(2).toRed(this.red),this.n=t.n&&new(nr())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function iw(e,t){this.curve=e,this.type=t,this.precomputed=null}iy.prototype.point=function(){throw Error("Not implemented")},iy.prototype.validate=function(){throw Error("Not implemented")},iy.prototype._fixedNafMul=function(e,t){im(e.precomputed);var r,n,i=e._getDoubles(),a=ip(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var o=[];for(r=0;r<a.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+a[l];o.push(n)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=s;u>0;u--){for(r=0;r<o.length;r++)(n=o[r])===u?d=d.mixedAdd(i.points[r]):n===-u&&(d=d.mixedAdd(i.points[r].neg()));c=c.add(d)}return c.toP()},iy.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=ip(t,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var l=0;o>=0&&0===a[o];o--)l++;if(o>=0&&l++,s=s.dblp(l),o<0)break;var c=a[o];im(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},iy.prototype._wnafMulAdd=function(e,t,r,n,i){var a,s,o,l=this._wnafT1,c=this._wnafT2,d=this._wnafT3,u=0;for(a=0;a<n;a++){var h=(o=t[a])._getNAFPoints(e);l[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var p=a-1,f=a;if(1!==l[p]||1!==l[f]){d[p]=ip(r[p],l[p],this._bitLength),d[f]=ip(r[f],l[f],this._bitLength),u=Math.max(d[p].length,u),u=Math.max(d[f].length,u);continue}var g=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(g[1]=t[p].add(t[f]),g[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[f]),g[2]=t[p].add(t[f].neg())):(g[1]=t[p].toJ().mixedAdd(t[f]),g[2]=t[p].toJ().mixedAdd(t[f].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=ig(r[p],r[f]);for(s=0,u=Math.max(y[0].length,u),d[p]=Array(u),d[f]=Array(u);s<u;s++){var w=0|y[0][s],v=0|y[1][s];d[p][s]=m[(w+1)*3+(v+1)],d[f][s]=0,c[p]=g}}var b=this.jpoint(null,null,null),x=this._wnafT4;for(a=u;a>=0;a--){for(var E=0;a>=0;){var _=!0;for(s=0;s<n;s++)x[s]=0|d[s][a],0!==x[s]&&(_=!1);if(!_)break;E++,a--}if(a>=0&&E++,b=b.dblp(E),a<0)break;for(s=0;s<n;s++){var C=x[s];0!==C&&(C>0?o=c[s][C-1>>1]:C<0&&(o=c[s][-C-1>>1].neg()),b="affine"===o.type?b.mixedAdd(o):b.add(o))}}for(a=0;a<n;a++)c[a]=null;return i?b:b.toP()},iy.BasePoint=iw,iw.prototype.eq=function(){throw Error("Not implemented")},iw.prototype.validate=function(){return this.curve.validate(this)},iy.prototype.decodePoint=function(e,t){e=ih.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?im(e[e.length-1]%2==0):7===e[0]&&im(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},iw.prototype.encodeCompressed=function(e){return this.encode(e,!0)},iw.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},iw.prototype.encode=function(e,t){return ih.encode(this._encode(t),e)},iw.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},iw.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},iw.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},iw.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},iw.prototype._getBeta=function(){return null},iw.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var iv=il(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),ib=ih.assert;function ix(e){iy.call(this,"short",e),this.a=new(nr())(e.a,16).toRed(this.red),this.b=new(nr())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function iE(e,t,r,n){iy.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(nr())(t,16),this.y=new(nr())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function i_(e,t,r,n){iy.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(nr())(0)):(this.x=new(nr())(t,16),this.y=new(nr())(r,16),this.z=new(nr())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}iv(ix,iy),ix.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new(nr())(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(nr())(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],ib(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new(nr())(e.a,16),b:new(nr())(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},ix.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:nr().mont(e),r=new(nr())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(nr())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ix.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,h=this.n.clone(),p=new(nr())(1),f=new(nr())(0),g=new(nr())(0),m=new(nr())(1),y=0;0!==u.cmpn(0);){var w=h.div(u);l=h.sub(w.mul(u)),c=g.sub(w.mul(p));var v=m.sub(w.mul(f));if(!n&&0>l.cmp(d))t=o.neg(),r=p,n=l.neg(),i=c;else if(n&&2==++y)break;o=l,h=u,u=l,g=p,p=c,m=f,f=v}a=l.neg(),s=c;var b=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(b)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},ix.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),l=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:l.add(c).neg()}},ix.prototype.pointFromX=function(e,t){(e=new(nr())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},ix.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ix.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],l=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*a]=o,n[2*a+1]=l,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),d=0;d<2*a;d++)n[d]=null,i[d]=null;return c},iv(iE,iy.BasePoint),ix.prototype.point=function(e,t,r){return new iE(this,e,t,r)},ix.prototype.pointFromJSON=function(e,t){return iE.fromJSON(this,e,t)},iE.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},iE.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},iE.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},iE.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},iE.prototype.isInfinity=function(){return this.inf},iE.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},iE.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},iE.prototype.getX=function(){return this.x.fromRed()},iE.prototype.getY=function(){return this.y.fromRed()},iE.prototype.mul=function(e){return(e=new(nr())(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},iE.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},iE.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},iE.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},iE.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},iE.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},iv(i_,iy.BasePoint),ix.prototype.jpoint=function(e,t,r){return new i_(this,e,t,r)},i_.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},i_.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i_.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),l=a.redSub(s);if(0===o.cmpn(0))if(0!==l.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var c=o.redSqr(),d=c.redMul(o),u=n.redMul(c),h=l.redSqr().redIAdd(d).redISub(u).redISub(u),p=l.redMul(u.redISub(h)).redISub(a.redMul(d)),f=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(h,p,f)},i_.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))if(0!==o.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var l=s.redSqr(),c=l.redMul(s),d=r.redMul(l),u=o.redSqr().redIAdd(c).redISub(d).redISub(d),h=o.redMul(d.redISub(u)).redISub(i.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(u,h,p)},i_.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,l=o.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var d=a.redSqr(),u=c.redSqr(),h=u.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(l)),f=a.redMul(u),g=p.redSqr().redISub(f.redAdd(f)),m=f.redISub(g),y=p.redMul(m);y=y.redIAdd(y).redISub(h);var w=c.redMul(o);t+1<e&&(l=l.redMul(h)),a=g,o=w,c=y}return this.curve.jpoint(a,c.redMul(i),o)},i_.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},i_.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),l=o.redSqr().redISub(s).redISub(s),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=o.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),h=u.redSqr(),p=this.x.redAdd(u).redSqr().redISub(d).redISub(h);p=p.redIAdd(p);var f=d.redAdd(d).redIAdd(d),g=f.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},i_.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=o.redSqr().redISub(s).redISub(s);e=l;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=o.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),h=this.x.redMul(u),p=this.x.redSub(d).redMul(this.x.redAdd(d));p=p.redAdd(p).redIAdd(p);var f=h.redIAdd(h),g=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var m=u.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=p.redMul(f.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},i_.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(s),d=o.redSqr().redISub(c.redAdd(c)),u=c.redISub(d),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=o.redMul(u).redISub(h),f=r.redAdd(r).redMul(n);return this.curve.jpoint(d,p,f)},i_.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(l),d=t.redMul(c);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(o)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(u,h,p)},i_.prototype.mul=function(e,t){return e=new(nr())(e,t),this.curve._wnafMul(this,e)},i_.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},i_.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},i_.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},i_.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var iC=il(function(e,t){t.base=iy,t.short=ix,t.mont=null,t.edwards=null}),ik=il(function(e,t){var r,n=ih.assert;function i(e){"short"===e.type?this.curve=new iC.short(e):"edwards"===e.type?this.curve=new iC.edwards(e):this.curve=new iC.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:io().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:io().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:io().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:io().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:io().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:io().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:io().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:io().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function iA(e){if(!(this instanceof iA))return new iA(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=iu.toArray(e.entropy,e.entropyEnc||"hex"),r=iu.toArray(e.nonce,e.nonceEnc||"hex"),n=iu.toArray(e.pers,e.persEnc||"hex");ic(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}iA.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=0x1000000000000},iA.prototype._hmac=function(){return new(io()).hmac(this.hash,this.K)},iA.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},iA.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=iu.toArray(e,t),r=iu.toArray(r,n),ic(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},iA.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=iu.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,iu.encode(a,t)};var iI=ih.assert;function iS(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}iS.fromPublic=function(e,t,r){return t instanceof iS?t:new iS(e,{pub:t,pubEnc:r})},iS.fromPrivate=function(e,t,r){return t instanceof iS?t:new iS(e,{priv:t,privEnc:r})},iS.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},iS.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},iS.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},iS.prototype._importPrivate=function(e,t){this.priv=new(nr())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},iS.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?iI(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&iI(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},iS.prototype.derive=function(e){return e.validate()||iI(e.validate(),"public point not validated"),e.mul(this.priv).getX()},iS.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},iS.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},iS.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var iT=ih.assert;function iP(e,t){if(e instanceof iP)return e;this._importDER(e,t)||(iT(e.r&&e.s,"Signature without r or s"),this.r=new(nr())(e.r,16),this.s=new(nr())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function ij(){this.place=0}function iN(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4||0===e[t.place])return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function iO(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function i$(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}iP.prototype._importDER=function(e,t){e=ih.toArray(e,t);var r=new ij;if(48!==e[r.place++])return!1;var n=iN(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=iN(e,r);if(!1===i||(128&e[r.place])!=0)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=iN(e,r);if(!1===s||e.length!==s+r.place||(128&e[r.place])!=0)return!1;var o=e.slice(r.place,s+r.place);if(0===a[0])if(!(128&a[1]))return!1;else a=a.slice(1);if(0===o[0])if(!(128&o[1]))return!1;else o=o.slice(1);return this.r=new(nr())(a),this.s=new(nr())(o),this.recoveryParam=null,!0},iP.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=iO(t),r=iO(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];i$(n,t.length),(n=n.concat(t)).push(2),i$(n,r.length);var i=n.concat(r),a=[48];return i$(a,i.length),a=a.concat(i),ih.encode(a,e)};var iM=function(){throw Error("unsupported")},iR=ih.assert;function iD(e){if(!(this instanceof iD))return new iD(e);"string"==typeof e&&(iR(Object.prototype.hasOwnProperty.call(ik,e),"Unknown curve "+e),e=ik[e]),e instanceof ik.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}iD.prototype.keyPair=function(e){return new iS(this,e)},iD.prototype.keyFromPrivate=function(e,t){return iS.fromPrivate(this,e,t)},iD.prototype.keyFromPublic=function(e,t){return iS.fromPublic(this,e,t)},iD.prototype.genKeyPair=function(e){e||(e={});for(var t=new iA({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||iM(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(nr())(2));;){var i=new(nr())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},iD.prototype._truncateToN=function(e,t,r){if(nr().isBN(e)||"number"==typeof e)n=(e=new(nr())(e,16)).byteLength();else if("object"==typeof e)n=e.length,e=new(nr())(e,16);else{var n,i=e.toString();n=i.length+1>>>1,e=new(nr())(i,16)}"number"!=typeof r&&(r=8*n);var a=r-this.n.bitLength();return(a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},iD.prototype.sign=function(e,t,r,n){if("object"==typeof r&&(n=r,r=null),n||(n={}),"string"!=typeof e&&"number"!=typeof e&&!nr().isBN(e)){iR("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),iR(e.length>>>0===e.length);for(var i=0;i<e.length;i++)iR((255&e[i])===e[i])}t=this.keyFromPrivate(t,r),iR(!(e=this._truncateToN(e,!1,n.msgBitLength)).isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),o=e.toArray("be",a);iR(new(nr())(o).eq(e),"Can not sign message");for(var l=new iA({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(nr())(1)),d=0;;d++){var u=n.k?n.k(d):new(nr())(l.generate(this.n.byteLength()));if(0>=(u=this._truncateToN(u,!0)).cmpn(1)||u.cmp(c)>=0)continue;var h=this.g.mul(u);if(!h.isInfinity()){var p=h.getX(),f=p.umod(this.n);if(0!==f.cmpn(0)){var g=u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=!!h.getY().isOdd()|2*(0!==p.cmp(f));return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new iP({r:f,s:g,recoveryParam:m})}}}}},iD.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var a,s=(t=new iP(t,"hex")).r,o=t.s;if(0>s.cmpn(1)||s.cmp(this.n)>=0||0>o.cmpn(1)||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),c=l.mul(e).umod(this.n),d=l.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),d)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(c,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},iD.prototype.recoverPubKey=function(e,t,r,n){iR((3&r)===r,"The recovery param is more than two bits"),t=new iP(t,n);var i=this.n,a=new(nr())(e),s=t.r,o=t.s,l=1&r,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var d=t.r.invm(i),u=i.sub(a).mul(d).umod(i),h=o.mul(d).umod(i);return this.g.mulAdd(u,s,h)},iD.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new iP(t,n)).recoveryParam)return t.recoveryParam;for(var i,a=0;a<4;a++){try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw Error("Unable to find valid recovery factor")};var iL=il(function(e,t){t.version="6.6.1",t.utils=ih,t.rand=function(){throw Error("unsupported")},t.curve=iC,t.curves=ik,t.ec=iD,t.eddsa=null}).ec;let iU=new rJ("signing-key/5.8.0"),iF=null;function iB(){return iF||(iF=new iL("secp256k1")),iF}class iW{constructor(e){rZ(this,"curve","secp256k1"),rZ(this,"privateKey",nf(e)),32!==ng(this.privateKey)&&iU.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let t=iB().keyFromPrivate(nc(this.privateKey));rZ(this,"publicKey","0x"+t.getPublic(!1,"hex")),rZ(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),rZ(this,"_isSigningKey",!0)}_addPoint(e){let t=iB().keyFromPublic(nc(this.publicKey)),r=iB().keyFromPublic(nc(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=iB().keyFromPrivate(nc(this.privateKey)),r=nc(e);32!==r.length&&iU.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return nb({recoveryParam:n.recoveryParam,r:nv("0x"+n.r.toString(16),32),s:nv("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=iB().keyFromPrivate(nc(this.privateKey)),r=iB().keyFromPublic(nc(iz(e)));return nv("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function iz(e,t){let r=nc(e);if(32===r.length){let e=new iW(r);return t?"0x"+iB().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?nf(r):"0x"+iB().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+iB().keyFromPublic(r).getPublic(!0,"hex"):nf(r):iU.throwArgumentError("invalid public or private key","key","[REDACTED]")}let iq=new rJ("transactions/5.8.0");function iH(e){return"0x"===e?null:nH(e)}function iV(e){return"0x"===e?ia:nA.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(ol||(ol={}));function iG(e,t){return nH(nm(nO(nm(iz(function(e,t){let r=nb(t),n={r:nc(r.r),s:nc(r.s)};return"0x"+iB().recoverPubKey(nc(e),n,r.recoveryParam).encode("hex",!1)}(nc(e),t)),1)),12))}function iK(e,t){let r=nu(nA.from(e).toHexString());return r.length>32&&iq.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function iJ(e,t){return{address:nH(e),storageKeys:(t||[]).map((t,r)=>(32!==ng(t)&&iq.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function iY(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&iq.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),iJ(e[0],e[1])):iJ(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return iJ(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function iZ(e){return iY(e).map(e=>[e.address,e.storageKeys])}function iQ(e,t){if(null!=e.gasPrice){let t=nA.from(e.gasPrice),r=nA.from(e.maxFeePerGas||0);t.eq(r)||iq.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[iK(e.chainId||0,"chainId"),iK(e.nonce||0,"nonce"),iK(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),iK(e.maxFeePerGas||0,"maxFeePerGas"),iK(e.gasLimit||0,"gasLimit"),null!=e.to?nH(e.to):"0x",iK(e.value||0,"value"),e.data||"0x",iZ(e.accessList||[])];if(t){let e=nb(t);r.push(iK(e.recoveryParam,"recoveryParam")),r.push(nu(e.r)),r.push(nu(e.s))}return ny(["0x02",nD(r)])}function iX(e,t){let r=[iK(e.chainId||0,"chainId"),iK(e.nonce||0,"nonce"),iK(e.gasPrice||0,"gasPrice"),iK(e.gasLimit||0,"gasLimit"),null!=e.to?nH(e.to):"0x",iK(e.value||0,"value"),e.data||"0x",iZ(e.accessList||[])];if(t){let e=nb(t);r.push(iK(e.recoveryParam,"recoveryParam")),r.push(nu(e.r)),r.push(nu(e.s))}return ny(["0x01",nD(r)])}function i0(e,t,r){try{let r=iV(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){iq.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=nv(t[1],32),e.s=nv(t[2],32);try{let t=nO(r(e));e.from=iG(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function i1(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return nc(t)}function i2(e){e=nc(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}let i3=new rJ("web/5.8.0");function i5(e){return new Promise(t=>{setTimeout(t,e)})}function i4(e,t){if(null==e)return null;if("string"==typeof e)return e;if(ns(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return nQ(e)}catch(e){}return nf(e)}return e}function i6(e,t,r){let n=null;if(null!=t){n=nZ(t);let r="string"==typeof e?{url:e}:r0(e);r.headers?0===Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length&&(r.headers=r0(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return function(e,t,r){let n,i="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;i3.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);let a="object"==typeof e?e.throttleCallback:null,s="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;i3.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);let o="object"==typeof e&&!!e.errorPassThrough,l={},c=null,d={method:"GET"},u=!1,h=12e4;if("string"==typeof e)c=e;else if("object"==typeof e){if((null==e||null==e.url)&&i3.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(let t in e.headers)l[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(u=!0);d.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password&&("https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&i3.throwError("basic authentication requires a secure https url",rJ.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"}),l.authorization={key:"Authorization",value:"Basic "+i2(nZ(e.user+":"+e.password))}),null!=e.skipFetchSetup&&(d.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(d.fetchOptions=r0(e.fetchOptions))}let p=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=c?c.match(p):null;if(f)try{var g;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?i1(f[3]):(g=f[3],nZ(g.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){i3.throwError("processing response error",rJ.errors.SERVER_ERROR,{body:i4(f[1],f[2]),error:e,requestBody:null,requestMethod:"GET",url:c})}t&&(d.method="POST",d.body=t,null==l["content-type"]&&(l["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==l["content-length"]&&(l["content-length"]={key:"Content-Length",value:String(t.length)}));let m={};Object.keys(l).forEach(e=>{let t=l[e];m[t.key]=t.value}),d.headers=m;let y=(n=null,{promise:new Promise(function(e,t){h&&(n=setTimeout(()=>{null!=n&&(n=null,t(i3.makeError("timeout",rJ.errors.TIMEOUT,{requestBody:i4(d.body,m["content-type"]),requestMethod:d.method,timeout:h,url:c})))},h))}),cancel:function(){null!=n&&(clearTimeout(n),n=null)}}),w=function(){var e,t,n,l;return e=this,t=void 0,n=void 0,l=function*(){for(let e=0;e<i;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,a;return r=this,n=void 0,i=void 0,a=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((e,t)=>{a[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{a[e.toLowerCase()]=n.headers.get(e)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:nc(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function s(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,o)}l((a=a.apply(r,n||[])).next())})}(c,d),e<i){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===d.method&&e.match(/^https:/)){c=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(a&&(r=yield a(e,c)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):s*parseInt(String(Math.random()*Math.pow(2,e))),yield i5(r);continue}}}}catch(e){null==(t=e.response)&&(y.cancel(),i3.throwError("missing response",rJ.errors.SERVER_ERROR,{requestBody:i4(d.body,m["content-type"]),requestMethod:d.method,serverError:e,url:c}))}let n=t.body;if(u&&304===t.statusCode?n=null:!o&&(t.statusCode<200||t.statusCode>=300)&&(y.cancel(),i3.throwError("bad response",rJ.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:i4(n,t.headers?t.headers["content-type"]:null),requestBody:i4(d.body,m["content-type"]),requestMethod:d.method,url:c})),r)try{let e=yield r(n,t);return y.cancel(),e}catch(r){if(r.throttleRetry&&e<i){let t=!0;if(a&&(t=yield a(e,c)),t){let t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield i5(t);continue}}y.cancel(),i3.throwError("processing response error",rJ.errors.SERVER_ERROR,{body:i4(n,t.headers?t.headers["content-type"]:null),error:r,requestBody:i4(d.body,m["content-type"]),requestMethod:d.method,url:c})}return y.cancel(),n}return i3.throwError("failed response",rJ.errors.SERVER_ERROR,{requestBody:i4(d.body,m["content-type"]),requestMethod:d.method,url:c})},new(n||(n=Promise))(function(r,i){function a(e){try{o(l.next(e))}catch(e){i(e)}}function s(e){try{o(l.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}o((l=l.apply(e,t||[])).next())})}();return Promise.race([y.promise,w])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(nQ(e))}catch(t){i3.throwError("invalid JSON",rJ.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function i8(e,t){return t||(t={}),null==(t=r0(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,a=!1,s=()=>!a&&(a=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let o=t.retryLimit,l=0;!function i(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++l>o){s()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){s()&&n(e)})}()})}let i9=new rJ("abstract-provider/5.8.0");class i7 extends r3{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class ae{constructor(){i9.checkAbstract(new.target,ae),rZ(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield rX({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=nA.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}class at{constructor(e){rZ(this,"alphabet",e),rZ(this,"base",e.length),rZ(this,"_alphabetMap",{}),rZ(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=nc(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return nc(new Uint8Array(t.reverse()))}}new at("abcdefghijklmnopqrstuvwxyz234567");let ar=new at("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function an(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function ai(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function aa(e,t){let r=ai(e(),e),n=e(),i=ai(n,e),a=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<a[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function as(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,a=0;i<e;i++){var n;r[i]=a+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let ao=function(){var e;let t;return e=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let s=r(),o=t;t+=s;let l=0,c=0;function d(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}let u=0;for(let e=0;e<31;e++)u=u<<1|d();let h=[],p=0,f=0x80000000;for(;;){let e=Math.floor(((u-p+1)*i-1)/f),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;h.push(t);let s=p+Math.floor(f*a[t]/i),o=p+Math.floor(f*a[t+1]/i)-1;for(;((s^o)&0x40000000)==0;)u=u<<1&0x7fffffff|d(),s=s<<1&0x7fffffff,o=o<<1&0x7fffffff|1;for(;s&~o&0x20000000;)u=0x40000000&u|u<<1&0x3fffffff|d(),s=s<<1^0x40000000,o=(0x40000000^o)<<1|0x40000001;p=s,f=1+o-s}let g=n-4;return h.map(t=>{switch(t-g){case 3:return g+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return g+256+(e[o++]<<8|e[o++]);case 1:return g+e[o++];default:return t-1}})}(i1("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),t=0,()=>e[t++]}(),al=new Set(aa(ao)),ac=new Set(aa(ao)),ad=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return an(as(i.length,1+e,t).map((e,t)=>{let a=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[a+t*r,s.map(e=>e+i)]})}))}(r,e))}for(;;){var r,n;let i=e()-1;if(i<0)break;t.push((r=i,as(1+(n=e)(),1+r,n).map(e=>[e[0],e.slice(1)])))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(an(t))}(ao),au=function(e){let t=aa(e).sort((e,t)=>e-t);return function r(){let n=[];for(;;){let i=aa(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort((e,t)=>t.set.size-e.set.size);let i=e(),a=i%3;return{branches:n,valid:a,fe0f:!!(1&(i=i/3|0)),save:1==(i>>=1),check:2==i}}()}(ao);function ah(e){return function(e,t=os.current){return nY(nZ(e,t))}(e)}function ap(e){return e.filter(e=>65039!=e)}function af(e){for(let t of e.split(".")){let e=ah(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let ag=new rJ(nV),am=new Uint8Array(32);function ay(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function aw(e){let t=nZ(af(function(e,t){let r=ah(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i,a=au,s=[],o=e.length;for(;o;){let l=e[--o];if(!(a=null==(r=a.branches.find(e=>e.set.has(l)))?void 0:r.node))break;if(a.save)i=l;else if(a.check&&l===i)break;s.push(l),a.fe0f&&(s.push(65039),o>0&&65039==e[o-1]&&o--),a.valid&&(n=s.slice(),2==a.valid&&n.splice(1,1),t&&t.push(...e.slice(o).reverse()),e.length=o)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(al.has(i)){n.push(i);continue}if(ac.has(i))continue;let a=ad[i];if(a){n.push(...a);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return af(String.fromCodePoint(...n).normalize("NFC"))}(e,ap))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(ay(t.slice(n,e))),n=e+1);if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(ay(t.slice(n))),r}function av(e){"string"!=typeof e&&ag.throwArgumentError("invalid ENS name; not a string","name",e);let t=am,r=aw(e);for(;r.length;)t=nO(nd([t,nO(r.pop())]));return nf(t)}am.fill(0);let ab=new rJ("networks/5.8.0");function ax(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{n.push(new t.QuickNodeProvider(e,r.quicknode))}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return ax(e)},t}function aE(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return aE(e,t)},r}let a_={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ax("homestead")},aC={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ax("ropsten")},ak={chainId:63,name:"classicMordor",_defaultProvider:aE("https://www.ethercluster.com/mordor","classicMordor")},aA={unspecified:{chainId:0,name:"unspecified"},homestead:a_,mainnet:a_,morden:{chainId:2,name:"morden"},ropsten:aC,testnet:aC,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ax("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ax("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ax("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:0xaa36a7,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ax("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ax("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:aE("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ak,classicTestnet:ak,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:aE("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ax("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ax("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ax("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:0xaa37dc,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function aI(e){return"0x"+io().sha256().update(nc(e)).digest("hex")}new rJ("sha2/5.8.0");var aS=r(36139),aT=r.n(aS);let aP=new rJ(ne);class aj{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),s=this.hex.bind(this),o=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:a,type:l,accessList:aj.allowNull(this.accessList.bind(this),null),blockHash:aj.allowNull(a,null),blockNumber:aj.allowNull(o,null),transactionIndex:aj.allowNull(o,null),confirmations:aj.allowNull(o,null),from:t,gasPrice:aj.allowNull(r),maxPriorityFeePerGas:aj.allowNull(r),maxFeePerGas:aj.allowNull(r),gasLimit:r,to:aj.allowNull(t,null),value:r,nonce:o,data:i,r:aj.allowNull(this.uint256),s:aj.allowNull(this.uint256),v:aj.allowNull(o),creates:aj.allowNull(t,null),raw:aj.allowNull(i)},e.transactionRequest={from:aj.allowNull(t),nonce:aj.allowNull(o),gasLimit:aj.allowNull(r),gasPrice:aj.allowNull(r),maxPriorityFeePerGas:aj.allowNull(r),maxFeePerGas:aj.allowNull(r),to:aj.allowNull(t),value:aj.allowNull(r),data:aj.allowNull(e=>this.data(e,!0)),type:aj.allowNull(o),accessList:aj.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:o,blockNumber:o,transactionHash:a,address:t,topics:aj.arrayOf(a),data:i,logIndex:o,blockHash:a},e.receipt={to:aj.allowNull(this.address,null),from:aj.allowNull(this.address,null),contractAddress:aj.allowNull(t,null),transactionIndex:o,root:aj.allowNull(s),gasUsed:r,logsBloom:aj.allowNull(i),blockHash:a,transactionHash:a,logs:aj.arrayOf(this.receiptLog.bind(this)),blockNumber:o,confirmations:aj.allowNull(o,null),cumulativeGasUsed:r,effectiveGasPrice:aj.allowNull(r),status:aj.allowNull(o),type:l},e.block={hash:aj.allowNull(a),parentHash:a,number:o,timestamp:o,nonce:aj.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:aj.allowNull(t),extraData:i,transactions:aj.allowNull(aj.arrayOf(a)),baseFeePerGas:aj.allowNull(r)},e.blockWithTransactions=r0(e.block),e.blockWithTransactions.transactions=aj.allowNull(aj.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:aj.allowNull(n,void 0),toBlock:aj.allowNull(n,void 0),blockHash:aj.allowNull(a,void 0),address:aj.allowNull(t,void 0),topics:aj.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:aj.allowNull(o),blockHash:aj.allowNull(a),transactionIndex:o,removed:aj.allowNull(this.boolean.bind(this)),address:t,data:aj.allowFalsish(i,"0x"),topics:aj.arrayOf(a),transactionHash:a,logIndex:o},e}accessList(e){return iY(e||[])}number(e){return"0x"===e?0:nA.from(e).toNumber()}type(e){return"0x"===e||null==e?0:nA.from(e).toNumber()}bigNumber(e){return nA.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),nh(e))?e.toLowerCase():aP.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return nH(e)}callAddress(e){if(!nh(e,32))return null;let t=nH(nm(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){let t=null;try{t=nH(e.from)}catch(t){nB.throwArgumentError("missing from address","transaction",e)}return nH(nm(nO(nD([t,nu(nc(nA.from(e.nonce).toHexString()))])),12))}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||nh(e))return nw(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==ng(r)?aP.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=nA.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!nh(e))throw Error("invalid uint256");return nv(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=aj.check(t,e);return n._difficulty=null==r?null:nA.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return aj.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&nA.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=aj.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;nh(r)&&(r=nA.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),nh(r)&&(r=nA.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){let t=nc(e);if(t[0]>127)return function(e){let t=nF(e);9!==t.length&&6!==t.length&&iq.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:iV(t[0]).toNumber(),gasPrice:iV(t[1]),gasLimit:iV(t[2]),to:iH(t[3]),value:iV(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=nA.from(t[6]).toNumber()}catch(e){return r}if(r.r=nv(t[7],32),r.s=nv(t[8],32),nA.from(r.r).isZero()&&nA.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(nf(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let a=nO(nD(i));try{r.from=iG(a,{r:nf(r.r),s:nf(r.s),recoveryParam:n})}catch(e){}r.hash=nO(e)}return r.type=null,r}(t);switch(t[0]){case 1:let r=nF(t.slice(1));8!==r.length&&11!==r.length&&iq.throwArgumentError("invalid component count for transaction type: 1","payload",nf(t));let n={type:1,chainId:iV(r[0]).toNumber(),nonce:iV(r[1]).toNumber(),gasPrice:iV(r[2]),gasLimit:iV(r[3]),to:iH(r[4]),value:iV(r[5]),data:r[6],accessList:iY(r[7])};return 8===r.length||(n.hash=nO(t),i0(n,r.slice(8),iX)),n;case 2:let i=nF(t.slice(1));9!==i.length&&12!==i.length&&iq.throwArgumentError("invalid component count for transaction type: 2","payload",nf(t));let a=iV(i[2]),s=iV(i[3]),o={type:2,chainId:iV(i[0]).toNumber(),nonce:iV(i[1]).toNumber(),maxPriorityFeePerGas:a,maxFeePerGas:s,gasPrice:null,gasLimit:iV(i[4]),to:iH(i[5]),value:iV(i[6]),data:i[7],accessList:iY(i[8])};return 9===i.length||(o.hash=nO(t),i0(o,i.slice(9),iQ)),o}return iq.throwError(`unsupported transaction type: ${t[0]}`,rJ.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return aj.check(this.formats.receiptLog,e)}receipt(e){let t=aj.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){let e=nA.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&aP.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):aP.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&aP.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return aj.check(this.formats.filter,e)}filterLog(e){return aj.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var aN=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};let aO=new rJ(ne);function a$(e){return null==e?"null":(32!==ng(e)&&aO.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function aM(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return a$(e);{let t={};e.forEach(e=>{t[a$(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function aR(e){if("string"==typeof e){if(32===ng(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+aM(e);else if(i7.isForkEvent(e))throw aO.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+aM(e.topics||[]);throw Error("invalid event - "+e)}function aD(){return new Date().getTime()}function aL(e){return new Promise(t=>{setTimeout(t,e)})}let aU=["block","network","pending","poll"];class aF{constructor(e,t,r){rZ(this,"tag",e),rZ(this,"listener",t),rZ(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||aU.indexOf(this.tag)>=0}}let aB={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function aW(e){return nv(nA.from(e).toHexString(),32)}function az(e){return ar.encode(nd([e,nm(aI(aI(e)),0,4)]))}let aq=RegExp("^(ipfs)://(.*)$","i"),aH=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),aq,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function aV(e,t){try{return nQ(aG(e,t))}catch(e){}return null}function aG(e,t){if("0x"===e)return null;let r=nA.from(nm(e,t,t+32)).toNumber(),n=nA.from(nm(e,r,r+32)).toNumber();return nm(e,r+32,r+32+n)}function aK(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):aO.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function aJ(e){let t=nc(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function aY(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=nc(e[n]);t[n]=aJ(r),t.push(aJ(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return ny(t)}class aZ{constructor(e,t,r,n){rZ(this,"provider",e),rZ(this,"name",r),rZ(this,"address",e.formatter.address(t)),rZ(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>nA.from(e).eq(1)).catch(e=>{if(e.code===rJ.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return aN(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:ny([e,av(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=ny(["0x9061b923",aY([nf(nd(aw(this.name).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00",r.data])]));try{let e=yield this.provider.call(r);return nc(e).length%32==4&&aO.throwError("resolver threw error",rJ.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=aG(e,0)),e}catch(e){if(e.code===rJ.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return aN(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?aG(r,0):null})}_getAddress(e,t){let r=aB[String(e)];if(null==r&&aO.throwError(`unsupported coin type: ${e}`,rJ.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=nc(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return az(nd([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return az(nd([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=aT().toWords(n.slice(2));return e.unshift(t),aT().encode(r.prefix,e)}}return null}getAddress(e){return aN(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===rJ.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",aW(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&aO.throwError("invalid or unsupported coin data",rJ.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return aN(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<aH.length;r++){let n=t.match(aH[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:aK(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let a=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;let o=yield this.provider.formatter.address(s[0]),l=nv(nA.from(s[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:o,data:ny(["0x6352211e",l])})));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=nA.from((yield this.provider.call({to:o,data:ny(["0x00fdd58e",nv(a,32),l])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let c={to:this.provider.formatter.address(s[0]),data:ny([r,l])},d=aV((yield this.provider.call(c)),0);if(null==d)return null;e.push({type:"metadata-url-base",content:d}),"erc1155"===i&&(d=d.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=aK(d)),e.push({type:"metadata-url",content:d});let u=yield i6(d);if(!u)return null;e.push({type:"metadata",content:JSON.stringify(u)});let h=u.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(aq);if(null==t)return null;e.push({type:"url-ipfs",content:h}),h=aK(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null})}getContentHash(){return aN(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+ar.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+ar.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+i2("0x"+i[1]).replace(/[=+\/]/g,t=>e[t])}return aO.throwError("invalid or unsupported content hash data",rJ.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return aN(this,void 0,void 0,function*(){let t=nZ(e);(t=nd([aW(64),aW(t.length),t])).length%32!=0&&(t=nd([t,nv("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",nf(t));return null==r||"0x"===r?null:nQ(r)})}}let aQ=null,aX=1;class a0 extends ae{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),rZ(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{let t=rQ(new.target,"getNetwork")(e);t?(rZ(this,"_network",t),this.emit("network",t,null)):aO.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return aN(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||aO.throwError("no network detected",rJ.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:rZ(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return i8(()=>this._ready().then(e=>e,e=>{if(e.code!==rJ.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==aQ&&(aQ=new aj),aQ}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in aA){let r=aA[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=aA[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=aA[e.name];if(!t)return"number"!=typeof e.chainId&&ab.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&ab.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return aN(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let e=0;e<r.length;e++){let t=r[e],s=t.replace("{sender}",n).replace("{data}",i),o=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield i6({url:s,errorPassThrough:!0},o,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let c=l.message||"unknown error";if(l.status>=400&&l.status<500)return aO.throwError(`response not found during CCIP fetch: ${c}`,rJ.errors.SERVER_ERROR,{url:t,errorMessage:c});a.push(c)}return aO.throwError(`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,rJ.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return aN(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(aD()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=aD(),r=rX({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=aD();return(e=nA.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return aN(this,void 0,void 0,function*(){let e=aX++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return void this.emit("didPoll",e);if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)aO.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",aO.makeError("network block skew detected",rJ.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;let i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);let a=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return aN(this,void 0,void 0,function*(){return aO.throwError("provider does not support network detection",rJ.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return aN(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield aL(0),this._network;let r=aO.makeError("underlying network changed",rJ.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=aD();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=aD(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return aN(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return aN(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,a)=>{let s=[],o=!1,l=function(){return!!o||(o=!0,s.forEach(e=>{e()}),!1)},c=e=>{!(e.confirmations<t)&&(l()||i(e))};if(this.on(e,c),s.push(()=>{this.removeListener(e,c)}),n){let r=n.startBlock,i=null,c=s=>aN(this,void 0,void 0,function*(){o||(yield aL(1e3),this.getTransactionCount(n.from).then(d=>aN(this,void 0,void 0,function*(){if(!o){if(d<=n.nonce)r=s;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=s;){if(o)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(o)return;let r=yield this.waitForTransaction(s.hash,t);if(l())return;let i="replaced";s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),a(aO.makeError("transaction was replaced",rJ.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}));return}}i++}}o||this.once("block",c)}}),e=>{o||this.once("block",c)}))});if(o)return;this.once("block",c),s.push(()=>{this.removeListener("block",c)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||a(aO.makeError("timeout exceeded",rJ.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return aN(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return nA.from(e)}catch(t){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield rX({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return nA.from(n)}catch(e){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield rX({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return nA.from(n).toNumber()}catch(e){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield rX({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return nf(n)}catch(e){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield rX({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>nw(e))}),i=yield this.perform("getStorageAt",n);try{return nf(i)}catch(e){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==ng(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&aO.throwError("Transaction hash mismatch from Provider.sendTransaction.",rJ.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>aN(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let a=yield this._waitForTransaction(e.hash,t,n,i);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&aO.throwError("transaction failed",rJ.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),e}sendTransaction(e){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>nf(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return aN(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?nA.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?nf(e):null))}),this.formatter.transactionRequest((yield rX(r)))})}_getFilter(e){return aN(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield rX(t)))})}_call(e,t,r){return aN(this,void 0,void 0,function*(){r>=10&&aO.throwError("CCIP read exceeded maximum redirections",rJ.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&ng(i)%32==4)try{let a=nm(i,4),s=nm(a,0,32);nA.from(s).eq(n)||aO.throwError("CCIP Read sender did not match",rJ.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let o=[],l=nA.from(nm(a,32,64)).toNumber(),c=nA.from(nm(a,l,l+32)).toNumber(),d=nm(a,l+32);for(let t=0;t<c;t++){let r=aV(d,32*t);null==r&&aO.throwError("CCIP Read contained corrupt URL string",rJ.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),o.push(r)}let u=aG(a,64);nA.from(nm(a,100,128)).isZero()||aO.throwError("CCIP Read callback selector included junk",rJ.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let h=nm(a,96,100),p=aG(a,128),f=yield this.ccipReadFetch(e,u,o);null==f&&aO.throwError("CCIP Read disabled or provided no URLs",rJ.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let g={to:n,data:ny([h,aY([f,p])])};return this._call(g,t,r+1)}catch(e){if(e.code===rJ.errors.SERVER_ERROR)throw e}try{return nf(i)}catch(r){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield rX({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield rX({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return nA.from(r)}catch(e){return aO.throwError("bad result from backend",rJ.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return aN(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&aO.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&aO.throwError("ENS name not configured",rJ.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let r=-128,n={includeTransactions:!!t};if(nh(e=yield e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),nh(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){aO.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return i8(()=>aN(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return aN(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return i8(()=>aN(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return aN(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return i8(()=>aN(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}),{oncePoll:this})})}getLogs(e){return aN(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield rX({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),aj.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return aN(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return aN(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&aO.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return aN(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new aZ(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return aN(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||aO.throwError("network does not support ENS",rJ.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+av(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return aN(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(nh(e))throw t}"string"!=typeof e&&aO.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return aN(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=aV((yield this.call({to:r,data:"0x691f3431"+av(t).substring(2)})),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return aN(this,void 0,void 0,function*(){let t=null;if(nh(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new aZ(this,n,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==rJ.errors.CALL_EXCEPTION)throw e}try{let e=aV((yield this.call({to:n,data:"0x691f3431"+av(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==rJ.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return aO.throwError(e+" not implemented",rJ.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new aF(aR(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=aR(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=aR(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=aR(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=aR(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=aR(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var a1=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};let a2=new rJ(ne),a3=["call","estimateGas"];function a5(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=nh(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=a5(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return a5(JSON.parse(e),t)}catch(e){}return null}function a4(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=a5(t,!0);if(e)return e.data;a2.throwError("missing revert data in call exception; Transaction reverted without a reason string",rJ.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=a5(t.body,!1);null==r&&(r=a5(t,!1)),r&&a2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",rJ.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===rJ.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&a2.throwError("insufficient funds for intrinsic transaction cost",rJ.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&a2.throwError("nonce has already been used",rJ.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&a2.throwError("replacement fee too low",rJ.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&a2.throwError("legacy pre-eip-155 transactions not supported",rJ.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),a3.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&a2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",rJ.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function a6(e){return new Promise(function(t){setTimeout(t,e)})}function a8(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function a9(e){return e?e.toLowerCase():e}let a7={};class se extends r9{constructor(e,t,r){if(super(),e!==a7)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");rZ(this,"provider",t),null==r&&(r=0),"string"==typeof r?(rZ(this,"_address",this.provider.formatter.address(r)),rZ(this,"_index",null)):"number"==typeof r?(rZ(this,"_index",r),rZ(this,"_address",null)):a2.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return a2.throwError("cannot alter JSON-RPC Signer connection",rJ.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new st(a7,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&a2.throwError("unknown account #"+this._index,rJ.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=r0(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=r0(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>a1(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&a2.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),rX({tx:rX(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&a2.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&a2.throwError("user rejected transaction",rJ.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),a4("sendTransaction",e,n)))})}signTransaction(e){return a2.throwError("signing transactions is unsupported",rJ.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return a1(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield i8(()=>a1(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return a1(this,void 0,void 0,function*(){let t="string"==typeof e?nZ(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[nf(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&a2.throwError("user rejected signing",rJ.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return a1(this,void 0,void 0,function*(){let t="string"==typeof e?nZ(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),nf(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&a2.throwError("user rejected signing",rJ.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return a1(this,void 0,void 0,function*(){let n=yield ii.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(ii.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&a2.throwError("user rejected signing",rJ.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),e}})}unlock(e){return a1(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class st extends se{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let sr={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class sn extends a0{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=rQ(this.constructor,"defaultUrl")()),"string"==typeof e?rZ(this,"connection",Object.freeze({url:e})):rZ(this,"connection",Object.freeze(r0(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return a1(this,void 0,void 0,function*(){yield a6(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=rQ(this.constructor,"getNetwork");try{return t(nA.from(e).toNumber())}catch(t){return a2.throwError("could not detect network",rJ.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return a2.throwError("could not detect network",rJ.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new se(a7,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:r2(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=i6(this.connection,JSON.stringify(r),a8).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[a9(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[a9(t.address),t.blockTag]];case"getCode":return["eth_getCode",[a9(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[a9(t.address),nv(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[rQ(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[rQ(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=a9(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return a1(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&nA.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=r0(t)).transaction=r0(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&a2.throwError(e+" not implemented",rJ.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return a4(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return!function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return a6(1e3)})}).then(function(){return e._pendingFilter!=t?void e.send("eth_uninstallFilter",[r]):(setTimeout(function(){n()},0),null)}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=r0(sr);if(t)for(let e in t)t[e]&&(r[e]=!0);e&&"object"==typeof e||rY.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||rY.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)});let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=nw(nA.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=nf(e[t]))}),e.accessList&&(n.accessList=iY(e.accessList)),n}}let si=new rJ(ne);class sa extends sn{detectNetwork(){var e,t,r,n;let i=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,t=void 0,r=void 0,n=function*(){let e=this.network;return null==e&&((e=yield i.detectNetwork.call(this))||si.throwError("no network detected",rJ.errors.UNKNOWN_ERROR,{}),null==this._network&&(rZ(this,"_network",e),this.emit("network",e,null))),e},new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})}}function ss(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)return e;if("function"==typeof e.toHexString)return e.toHexString();throw Error(`Expected numeric value but received ${e}`)}let so=e=>[S.id,T.id].includes(e),sl=async(e,t)=>{if(!so(e.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(void 0===e.type&&(e.type=2),e.maxFeePerGas)return e;try{let{lastBaseFeePerGas:r}=await t.getFeeData();if(r){let t=r.mul(nA.from(120)).div(nA.from(100));e.maxFeePerGas=ss(t),e.maxPriorityFeePerGas=ss(nA.from(0))}}catch(e){throw Error(`Failed to set gas price for Arbitrum transaction: ${e}.`)}return e},sc=e=>[56,97].includes(e),sd=async(e,t)=>{if(!sc(e.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(void 0===e.type?e.type=0:(1==e.type||2==e.type)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!e.gasPrice){let r=await t.getFeeData();e.gasPrice=r.gasPrice?.toHexString()}return e},su=e=>[N.id,O.id,D.id,L.id,W.id,q.id,z.id,81457,0xa0c71fd].includes(e),sh=async(e,t)=>{if(!su(e.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(void 0===e.type&&(e.type=2),e.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete e.gasPrice),e.maxPriorityFeePerGas&&e.maxFeePerGas)return e;try{if(e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=await t.send("eth_maxPriorityFeePerGas",[])),e.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),e.maxPriorityFeePerGas>=e.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!e.maxFeePerGas){let{lastBaseFeePerGas:r}=await t.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=nA.from(r).mul(nA.from(126)).div(nA.from(100)).add(nA.from(e.maxPriorityFeePerGas));e.maxFeePerGas=ss(n)}}catch(e){throw Error(`Failed to set gas price for OP stack transaction: ${e}.`)}return e},sp=new rJ(nx),sf={},sg=nA.from(0),sm=nA.from(-1);function sy(e,t,r,n){let i={fault:t,operation:r};return void 0!==n&&(i.value=n),sp.throwError(e,rJ.errors.NUMERIC_FAULT,i)}let sw="0";for(;sw.length<256;)sw+=sw;function sv(e){if("number"!=typeof e)try{e=nA.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+sw.substring(0,e):sp.throwArgumentError("invalid decimal size","decimals",e)}function sb(e,t){null==t&&(t=0);let r=sv(t),n=(e=nA.from(e)).lt(sg);n&&(e=e.mul(sm));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function sx(e,t){null==t&&(t=0);let r=sv(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||sp.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&sp.throwArgumentError("missing value","value",e);let i=e.split(".");i.length>2&&sp.throwArgumentError("too many decimal points","value",e);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&sy("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";let o=nA.from(a),l=nA.from(s),c=o.mul(r).add(l);return n&&(c=c.mul(sm)),c}class sE{constructor(e,t,r,n){e!==sf&&sp.throwError("cannot use FixedFormat constructor; use FixedFormat.from",rJ.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=sv(n),Object.freeze(this)}static from(e){if(e instanceof sE)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||sp.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){let i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&sp.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&sp.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&sp.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new sE(sf,t,r,n)}}class s_{constructor(e,t,r,n){e!==sf&&sp.throwError("cannot use FixedNumber constructor; use FixedNumber.from",rJ.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&sp.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=sx(this._value,this.format.decimals),r=sx(e._value,e.format.decimals);return s_.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=sx(this._value,this.format.decimals),r=sx(e._value,e.format.decimals);return s_.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=sx(this._value,this.format.decimals),r=sx(e._value,e.format.decimals);return s_.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=sx(this._value,this.format.decimals),r=sx(e._value,e.format.decimals);return s_.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=s_.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(sC.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=s_.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(sC.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&sp.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=s_.from("1"+sw.substring(0,e),this.format),n=sk.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&sp.throwArgumentError("invalid byte width","width",e),nv(nA.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return s_.fromString(this._value,e)}static fromValue(e,t,r){var n;return null!=r||null==t||null!=(n=t)&&(nA.isBigNumber(n)||"number"==typeof n&&n%1==0||"string"==typeof n&&n.match(/^-?[0-9]+$/)||nh(n)||"bigint"==typeof n||nl(n))||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),s_.fromString(sb(e,t),sE.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=sE.from(t),n=sx(e,r.decimals);!r.signed&&n.lt(sg)&&sy("unsigned value cannot be negative","overflow","value",e);let i=null;return new s_(sf,i=r.signed?n.toTwos(r.width).toHexString():nv(i=n.toHexString(),r.width/8),sb(n,r.decimals),r)}static fromBytes(e,t){null==t&&(t="fixed");let r=sE.from(t);if(nc(e).length>r.width/8)throw Error("overflow");let n=nA.from(e);return r.signed&&(n=n.fromTwos(r.width)),new s_(sf,n.toTwos(+!r.signed+r.width).toHexString(),sb(n,r.decimals),r)}static from(e,t){if("string"==typeof e)return s_.fromString(e,t);if(nl(e))return s_.fromBytes(e,t);try{return s_.fromValue(e,0,t)}catch(e){if(e.code!==rJ.errors.INVALID_ARGUMENT)throw e}return sp.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let sC=s_.from(1),sk=s_.from("0.5"),sA=new rJ("units/5.8.0"),sI=["wei","kwei","mwei","gwei","szabo","finney","ether"];function sS(e,t){if("string"!=typeof e&&sA.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=sI.indexOf(t);-1!==e&&(t=3*e)}return sx(e,null!=t?t:18)}var sT=r(57953);let sP=sT(fetch,{retries:3,retryDelay:500}),sj=e=>[U.id,F.id].includes(e),sN=e=>({maxPriorityFee:sS(e.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:sS(e.maxFee.toFixed(9),"gwei").toHexString()}),sO=e=>({safeLow:sN(e.safeLow),standard:sN(e.standard),fast:sN(e.fast)}),s$=async e=>{let t="";switch(e){case U.id:t="https://gasstation.polygon.technology/v2";break;case F.id:t="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${e} does not support polygon gas stations`)}let r=await sP(t),n=await r.json();if(r.status>399)throw n;return sO(n)};async function sM(e){if(!sj(e.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(void 0===e.type&&(e.type=2),e.maxPriorityFeePerGas&&e.maxFeePerGas)return e;try{let{standard:t}=await s$(e.chainId);e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=t.maxPriorityFee),e.maxFeePerGas||(e.maxFeePerGas=t.maxFee),e.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete e.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return e}let sR=async(e,t)=>{if(void 0===e.type&&(e.type=2),2===e.type){if(!e.maxFeePerGas||!e.maxPriorityFeePerGas){let r=await t.getFeeData();e.maxFeePerGas||(e.maxFeePerGas=r.maxFeePerGas?.toHexString()),e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=r.maxPriorityFeePerGas?.toHexString())}}else if(!e.gasPrice){let r=await t.getFeeData();e.gasPrice=r.gasPrice?.toHexString()}return e};async function sD(e,t){try{return(await t.estimateGas(e)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:e,provider:t}){try{let r={...e,value:void 0};return(await t.estimateGas(r)).toHexString()}catch(e){return console.warn(`Gas estimation failed with error: ${e} when omitting the 'value'`),null}}({txRequest:e,provider:t})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:e,provider:t}){try{let r={...e,from:void 0};return(await t.estimateGas(r)).toHexString()}catch(e){return console.warn(`Gas estimation failed with error: ${e} when omitting the 'from' address`),null}}({txRequest:e,provider:t})),!r)throw n;return r}}let sL=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new C(`Unsupported chainId ${e}`,4901);return new sa(a.rpcUrls.privyWalletOverride&&a.rpcUrls.privyWalletOverride.http[0]?a.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:a.rpcUrls.privy?.http[0]?{url:a.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:a.rpcUrls.public?.http[0]?a.rpcUrls.public?.http[0]:a.rpcUrls.default?.http[0])};function sU(e){return/^-?0x[a-f0-9]+$/i.test(e)}async function sF(e,t,r){if(t.chainId=Number(t.chainId),function(e){for(let t of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=e[t];if(void 0!==r&&!function(e){let t="number"==typeof e,r="bigint"==typeof e,n="string"==typeof e&&sU(e);return t||r||n}(r))throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`)}if("number"!=typeof e.chainId)throw Error("Transaction request property 'chainId' must be a number")}(t),t.from||(t.from=e),!t.nonce){let n=new r7(e,r);t.nonce=await n.getTransactionCount("pending")}return t.gasLimit||(t.gas?(t.gasLimit=t.gas,delete t.gas):t.gasLimit=await sD(t,r)),"string"==typeof t.type&&sU(t.type)&&(t.type=Number(t.type)),[23294,23295].includes(t.chainId)&&(t.type=0),0===(t=sj(t.chainId)?await sM(t):so(t.chainId)?await sl(t,r):su(t.chainId)?await sh(t,r):sc(t.chainId)?await sd(t,r):await sR(t,r)).type&&delete t.accessList,2!==t.type&&(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),t}let sB=e=>!!e.id&&"privy-v2"===e.recovery_method;function sW(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class sz{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}}async function sq(e,t,r,n,i=!1,a,s){let o=i,l=async a=>{if(o){a===+!i?n():r.current?.reject(new _("missing_or_invalid_mfa","MFA verification failed, retry."));let o=await new Promise((e,n)=>{t.current={resolve:e,reject:n},setTimeout(()=>{let e=new _("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(e),n(e)},s)});return await e(o)}return await e()},c=null;for(let e=0;e<a;e++)try{c=await l(e),r.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw r.current?.resolve(void 0),e;o=!0}if(null===c){let e=new _("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(e),e}return c}let sH=(oc=0,()=>"id-"+oc++),sV=(e,t)=>"bigint"==typeof t?t.toString():t,sG=(e,{ms:t,msg:r})=>Promise.race([e,sW(t??15e3).then(()=>Promise.reject(Error(r)))]),sK=new sz;class sJ{invokeWithMfa(e,t){return sG(sq(r=>sG(this.waitForReady().then(()=>e(r)),{msg:t.timeoutMsg,ms:t.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),t.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return sG(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return sG(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(t=>this.invoke("privy:wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return sG(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return sG(this.waitForReady().then(()=>this.invoke("privy:delegated-actions:consent",e)),{msg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:verify",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:init-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:submit-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:unenroll",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return sG(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(t=>this.invoke("privy:user-signer:sign",{...t,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return sG(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:set-recovery",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return sG(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:recover",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:t,resolve:r}=sK.dequeue(e.event,e.id);return void 0!==e.error?t(new _(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,t)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(t),await sW(150)})}invoke(e,t){let r=`${e}${JSON.stringify(t,sV)}`;if("privy:wallet:create"===e||"privy:solana-wallet:create"===e){let e=this.cache.get(r);if(e)return e}let n=new Promise((r,n)=>{let i=sH();sK.enqueue(i,{resolve:r,reject:n}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:i,event:e,data:t}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,n),n}constructor(e,t){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=t}}var sY=r(32860);let sZ=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"],sQ=e=>sZ.includes(e);var sX=r(72076).Buffer;let s0=e=>/^0x[0-9a-fA-F]*$/.test(e),s1=e=>sX.from(e,"utf8"),s2=e=>`0x${e.toString("hex")}`;var s3=r(72076).Buffer;function s5(e){return"number"==typeof e||"bigint"==typeof e?`0x${BigInt(e).toString(16)}`:"string"==typeof e?s0(e)?e:s2(s1(e)):void 0}async function s4({context:e,account:t,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:e,account:t,rpcRequest:r}){var n;switch(r.method){case"personal_sign":{let[n]=r.params,i=await Y(e,e.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:t.id,params:n.startsWith("0x")?{message:n.slice(2),encoding:"hex"}:{message:n,encoding:"utf-8"}});if("personal_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"eth_signTransaction":{let[n]=r.params,i=await Y(e,e.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:t.id,params:{transaction:{from:n.from,to:n.to,nonce:s5(n.nonce),chain_id:s5(n.chainId),data:function(e){if(void 0!==e)return"string"==typeof e?s0(e)?e:s2(s1(e)):s2(s3.from(Uint8Array.from(e)))}(n.data),value:s5(n.value),type:n.type,gas_limit:s5(n.gasLimit),gas_price:s5(n.gasPrice),max_fee_per_gas:s5(n.maxFeePerGas),max_priority_fee_per_gas:s5(n.maxPriorityFeePerGas)}}});if("eth_signTransaction"!==i.method)throw Error("Unable to sign transaction");return{data:i.data.signed_transaction}}case"eth_signTypedData_v4":{let[,i]=r.params,a=await Y(e,e.signRequest,{chain_type:"ethereum",method:r.method,wallet_id:t.id,params:{typed_data:("string"==typeof(n=i)&&(n=JSON.parse(n)),{types:n.types,primary_type:String(n.primaryType),domain:n.domain,message:n.message})}});if("eth_signTypedData_v4"!==a.method)throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,n]=r.params,i=await Y(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:s0(n)?n:s2(s1(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"secp256k1_sign":{let[n]=r.params,i=await Y(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:s0(n)?n:s2(s1(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${r.method}`)}}({context:e,account:t,rpcRequest:r.request});case"solana":return async function({context:e,account:t,rpcRequest:r}){if("signMessage"===r.method){let{message:n}=r.params,i=await Y(e,e.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:t.id,params:{message:n,encoding:"base64"}});if("signMessage"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}}({context:e,account:t,rpcRequest:r.request})}}class s6 extends sY.A{async request(e){if(sQ(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let t=e.params?.[0];return this.handleSendTransaction(t)}case"eth_populateTransactionRequest":{let t=e.params?.[0];return this.handlePopulateTransaction(t)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let t={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(t.chainId),t}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=sL(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let t=this.ensureChainId(e);return sF(this._account.address,t,this._jsonRpcProvider)}async handleSendTransaction(e){let t=this.ensureChainId(e),r=await sF(this._account.address,t,this._jsonRpcProvider),n=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[n]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let t={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(t.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[t])}catch(e){console.warn(`Gas estimation failed with error: ${e}. Retrying gas estimation by omitting the 'from' address`);try{return delete t.from,await this._jsonRpcProvider.send("eth_estimateGas",[t])}catch(t){throw console.warn(`Gas estimation failed with error: ${t} when omitting the 'from' address`),e}}}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new k(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new k(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.internalSwitchEthereumChain(t)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(sB(r)){let{data:n}=await s4({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._walletProxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return n}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t})}catch(r){let e=I(r);if(e&&"privy"===this._account.recovery_method)await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t});else{if(!e||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new rL({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}return(await this._walletProxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new rL({code:"embedded_wallet_request_error",error:t})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,chains:a,onNeedsRecovery:s,chainId:o=a[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._chainId=o,this._chains=a,this._onNeedsRecovery=s,this._jsonRpcProvider=sL(o,a,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}}function s8(e){return"version"in e}function s9(e,t){let r=(s8(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}var s7=r(72076).Buffer;class oe{async request(e){if(!await this._privyInternal.getAccessToken())throw new rL({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if("privy-v2"!==this._account.recovery_method)try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let t=I(r);if(t&&"privy"===this._account.recovery_method)await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!t||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new rL({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}}async signMessageRpc(e,t){let r=this._account;if(!sB(r))return(await this._proxy.rpcWallet({accessToken:t,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:n}=await s4({context:{app:this._app,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._proxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:n}}}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t),await this.signMessageRpc(e,t)}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new rL({code:"embedded_wallet_request_error",error:t})}}async handleSignAndSendTransaction(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r,connection:n,options:i}=e.params,a=s9(r,this._account.address),s=s8(r)?s7.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},t);return r.addSignature(a,s7.from(o,"base64")),{signature:await n.sendRawTransaction(r.serialize(),i)}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new rL({code:"embedded_wallet_request_error",error:t})}}async handleSignTransaction(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r}=e.params,n=s9(r,this._account.address),i=s8(r)?s7.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:i.toString("base64")}},t);return r.addSignature(n,s7.from(a,"base64")),{signedTransaction:r}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:t}),new rL({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:a,app:s}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._onNeedsRecovery=a,this._app=s}}class ot{setMessagePoster(e){this._proxy=new sJ(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let t=await this._privyInternal.getAccessToken();if(!t)throw new rL({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:t,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await rB({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:e.chainType});else{let t=await this._privyInternal.getAccessToken();if(!t)throw new rL({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:t,...e})}let{user:t}=await this._privyInternal.refreshSession();return{user:t}}async getBitcoinProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return sB(e)||await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}),new rF({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r})}async create({password:e,recoveryMethod:t,recoveryToken:r,recoveryKey:n,recoverySecretOverride:i,iCloudRecordNameOverride:a,solanaAccount:s,skipCallbacks:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode){if(t&&!t.startsWith("privy"))throw new rL({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await rB({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"ethereum"})}else{let o;if(o=t||(e?"user-passcode":"privy"),e&&"string"!=typeof e)throw Error("Invalid recovery password, must be a string");if("privy"===o&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to create an embedded wallet");let{address:c}=await this._proxy.create({accessToken:l,recoveryMethod:o,recoveryKey:n,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:i,iCloudRecordNameOverride:a,solanaAddress:s?.address});if(!c)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(o)}async createSolana(e){if(!this._proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await rB({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"solana"});else{let t=await this._privyInternal.getAccessToken();if(!t)throw new rL({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:t,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new rL({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:t}){if(!this._proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new rL({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:t})}async getProvider(e,t,r,n,i){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return sB(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:t,recoveryKey:i,recoveryAccessToken:r,recoverySecretOverride:n}),new s6({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a,recoveryKey:s,onNeedsRecovery:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return sB(e)||(!o||n||i||a||s)&&await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a,recoveryKey:s}),new s6({account:e,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:o,appApi:this._appApi})}async getSolanaProvider(e,t,r,n,i,a,s){if(!this._proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return sB(e)||(!s||n||i||a)&&await this._load({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}),new oe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r,onNeedsRecovery:s,app:this._appApi})}async setRecovery(e){let{wallet:t,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(sB(t))throw new rL({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});(function({currentRecoveryMethod:e,upgradeToRecoveryMethod:t}){switch(e){case"privy":case"user-passcode":case"recovery-encryption-key":return;case"icloud":case"google-drive":if(e===t)throw Error("Cannot upgrade to the existing cloud platform");return;default:throw Error("Unknown recovery method")}})({currentRecoveryMethod:t.recovery_method,upgradeToRecoveryMethod:"icloud-native"===r.recoveryMethod?"icloud":r.recoveryMethod}),await this._load("solana"===t.chain_type?{wallet:t,entropyId:t.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"});let n=await this._privyInternal.getAccessToken();if(!n)throw Error("User must be logged in to interact with embedded wallets");let i=t.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});try{let e;if("user-passcode"===r.recoveryMethod)e={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if("google-drive"===r.recoveryMethod)e={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if("icloud"===r.recoveryMethod)e={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if("icloud-native"===r.recoveryMethod)e={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if("recovery-encryption-key"===r.recoveryMethod)e={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if("privy"!==r.recoveryMethod)throw Error(`Unknown recovery method: ${r.recoveryMethod}`);e={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:n,entropyId:t.address,entropyIdVerifier:"solana"===t.chain_type?"solana-address-verifier":"ethereum-address-verifier",...e}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:"ethereum"!==t.chain_type?null:new s6({account:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(e){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:t.address,recovery_method:t.recovery_method,error:e instanceof Error?e.message:"Unable to recover wallet"}),e}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(e){return console.error(e),!1}}async _load({entropyId:e,entropyIdVerifier:t,wallet:r,recoveryPassword:n,recoveryKey:i,recoveryAccessToken:a,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let o=await this._privyInternal.getAccessToken();if(!o)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:o,entropyId:e,entropyIdVerifier:t}),e}catch(l){if(I(l))try{if("privy"===r.recovery_method){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("user-passcode"===r.recovery_method&&n){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let i=await this._proxy.recover({accessToken:o,recoveryPassword:n,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),i.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("icloud"===r.recovery_method&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let n=await this._proxy.recover({accessToken:o,recoverySecretOverride:s,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),n.entropyId}if("recovery-encryption-key"===r.recovery_method&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryKey:i,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}}catch(t){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:t instanceof Error?t.message:`Unable to recover wallet: ${e}`}),t}throw l}}constructor(e,t,r,n,i,a){if(this._chains=Array.from(H),this._privyInternal=e,t&&(this._proxy=new sJ(t,i),n.setProxy(this._proxy)),r){let e=Z(r);this._chains=e}this._mfa=n,this._mfaPromises=i,this._appApi=a}}class or extends sY.A{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}}var on,oi,oa,os,oo,ol,oc,od,ou=((od={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",od.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",od.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",od.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",od.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",od.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",od.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",od.INVALID_DATA="invalid_data",od.INVALID_CREDENTIALS="invalid_credentials",od.INVALID_CAPTCHA="invalid_captcha",od.LINKED_TO_ANOTHER_USER="linked_to_another_user",od.ALLOWLIST_REJECTED="allowlist_rejected",od.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",od.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",od.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",od.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",od.TOO_MANY_REQUESTS="too_many_requests",od.INVALID_ORIGIN="invalid_origin",od.MISSING_ORIGIN="missing_origin",od.INVALID_NATIVE_APP_ID="invalid_native_app_id",od.TOKEN_ALREADY_USED="token_already_used",od.ALREADY_LOGGED_OUT="already_logged_out",od.NOT_SUPPORTED="not_supported",od.USER_UNSUBSCRIBED="user_unsubscribed",od.MAX_APPS_REACHED="max_apps_reached",od.USER_LIMIT_REACHED="max_accounts_reached",od.DEVICE_REVOKED="device_revoked",od.WALLET_PASSWORD_EXISTS="wallet_password_exists",od.OAUTH_STATE_MISMATCH="oauth_state_mismatch",od.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",od.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",od.DISALLOWED_LOGIN_METHOD="disallowed_login_method",od.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",od.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",od.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",od.CANNOT_SET_PASSWORD="cannot_set_password",od.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",od.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",od.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",od.USER_DOES_NOT_EXIST="user_does_not_exist",od.ALREADY_EXISTS="resource_already_exists",od.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",od.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",od.FEATURE_NOT_ENABLED="feature_not_enabled",od.INSUFFICIENT_FUNDS="insufficient_funds",od.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",od.INVALID_POLICY_FORMAT="invalid_policy_format",od.POLICY_VIOLATION="policy_violation",od.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",od.INVALID_REQUEST="invalid_request",od);let oh=(e,t)=>t?Object.entries(t).reduce((e,[t,r])=>e.replace(`:${t}`,`${r}`),e):e,op={path:"/api/v1/apps/:app_id",method:"GET"},of={path:"/api/v1/analytics_events",method:"POST"},og={path:"/api/v1/sessions",method:"POST"},om={path:"/api/v1/sessions/logout",method:"POST"};var oy=r(24760);let ow=Promise.allSettled.bind(Promise)??(e=>Promise.all(e.map(e=>e.then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e}))))),ov="privy:token",ob="privy-token",ox="privy:refresh_token",oE="privy-refresh-token",o_="privy:id-token",oC="privy-id-token",ok="privy-session";class oA extends sY.A{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(ov);try{return"string"==typeof e?new r$(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(ox);return"string"==typeof e?e:null}async getIdentityToken(){let e=await this._storage.get(o_);return"string"==typeof e?e:null}get mightHaveServerCookies(){try{let e=oy.A.get(ok);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,t){return this.mightHaveServerCookies||"string"==typeof e&&"string"==typeof t}tokenIsActive(e){if(!e)return!1;let t=r$.parse(e);return null!==t&&!t.isExpired(30)}async destroyLocalState(e){await ow([this._storage.del(ov),this._storage.del(ox),this._storage.del(o_),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),oy.A.remove(ob),oy.A.remove(oE),oy.A.remove(oC),oy.A.remove(ok),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){if("string"==typeof e){let t=await this._storage.get(ov);if(await this._storage.put(ov,e),!this._isUsingServerCookies){let t=r$.parse(e)?.expiration;oy.A.set(ob,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(ov);await this._storage.del(ov),oy.A.remove(ob),null!==e&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){"string"==typeof e?(await this._storage.put(ox,e),this._isUsingServerCookies||(oy.A.set(ok,"t",{sameSite:"Strict",secure:!0,expires:30}),oy.A.set(oE,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(ox),oy.A.remove(oE),oy.A.remove(ok),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let t=(await ow([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(e=>"rejected"===e.status);t.length>0&&this.emit("error_storing_tokens",t.map(e=>String(e.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if("string"==typeof e){let t=await this._storage.get(o_);if(await this._storage.put(o_,e),!this._isUsingServerCookies){let t=r$.parse(e)?.expiration;oy.A.set(oC,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(o_);await this._storage.del(o_),oy.A.remove(oC),null!==e&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&"string"==typeof e)return e;let t=rT(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,t),t}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}}oA.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var oI=e=>{let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal};let oS=()=>{},oT={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY},oP=({level:e}={level:"ERROR"})=>({get level(){return e},error:oT[e]>=oT.ERROR?console.error:oS,warn:oT[e]>=oT.WARN?console.warn:oS,info:oT[e]>=oT.INFO?console.info:oS,debug:oT[e]>=oT.DEBUG?console.debug:oS}),oj="privy:caid";class oN{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new rL({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:t,query:r}){return`${this.baseUrl}${oh(e.path,t)}${function(e){let t=new URLSearchParams;for(let r in e)null!=e[r]&&t.append(r,String(e[r]));return Array.from(t).length?"?"+t.toString():""}(r)}`}async fetch(e,{body:t,params:r,query:n,headers:i,onRequest:a=this._beforeRequest.bind(this)}){let s=new Request(this.getPath(e,{params:r,query:n}),{method:e.method,body:JSON.stringify(t),headers:i}),o=await a(s),l=await this._fetch(s,o),c=await l.json();if(l.status>299)throw new rD(c);return c}async _beforeRequestWithoutInitialize(e){let t=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),t&&r.set("Authorization",`Bearer ${t}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let n=await this._getOrGenerateClientAnalyticsId();return n&&r.set("privy-ca-id",n),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:oI(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(op,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(oj);if("string"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=rb()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(oj,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(oj)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(of,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch(e){}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new rL({code:"storage_error",error:"Unable to access storage"});let t=await this.session.getRefreshToken()??void 0,r=t??"key",n=this._cache.get(r);if(n)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await n;let i=this._refreshSession(t,e);this._cache.set(r,i);try{return await i}finally{this._cache.delete(r)}}async _refreshSession(e,t){let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new rD({code:ou.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${og.path}`);let r=await this.fetch(og,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),n=r.session_update_action;return this.logger.debug(`[privy:refresh] response: ${n}`),t||this.callbacks?.setUser?.(r.user),"set"===n&&(await this.session.updateWithTokensResponse(r),this.logger.debug("[privy:refresh] tokens stored")),"clear"===n&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),t||this.callbacks?.setUser?.(null)),"ignore"===n&&r.token&&(await this.session.storeToken(r.token),this.logger.debug("[privy:refresh] access token stored"),r.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(r.identity_token))),this.logger.debug("[privy:refresh] returning response"),r}catch(e){throw this.logger.debug(`[privy:refresh] error: ${e.message??"unknown error"}`),e instanceof rD&&e.code===ou.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)){let t=await this.refreshSession(),r=await this.session.getToken();return t.token||this.logger.debug("[privy:getAccessToken] expected token received null"),t.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),r===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),t.token??r}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${rb()}`,t="blobby";await this._storage.put(e,t);let r=await this._storage.get(e);return await this._storage.del(e),r===t}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.50.8",this._cache=new Map,this.logger=oP({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new oA({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=sT(globalThis.fetch,{retries:3,retryDelay:e=>3**e*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",e=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:e})})}}let oO={path:"/api/v1/users/me/accept_terms",method:"POST"};class o${async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(oO,{})}}constructor(e){this._privyInternal=e}}let oM={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},oR=e=>e?e.linked_accounts.filter(oD).sort((e,t)=>e.wallet_index-t.wallet_index):[],oD=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type&&"ethereum"===e.chain_type,oL=e=>oR(e).find(e=>0===e.wallet_index)??null,oU=e=>e?e.linked_accounts.filter(oF).sort((e,t)=>e.wallet_index-t.wallet_index):[],oF=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type&&"solana"===e.chain_type,oB=e=>oU(e).find(e=>0===e.wallet_index)??null,oW=(e,t)=>!("off"===t||oR(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chain_type).length>0&&"all-users"!==t),oz=(e,t)=>!("off"===t||oU(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"solana"===e.chain_type).length>0&&"all-users"!==t),oq=async(e,t,r)=>{let n=oW(t.user,r?.ethereum?.createOnLogin??"off"),i=oz(t.user,r?.solana?.createOnLogin??"off");if(n&&i){let r=await e.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await e.createSolana({ethereumAccount:oL(r.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}}return n?{...await e.create({recoveryMethod:"privy",solanaAccount:oB(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:i?{...await e.createSolana({ethereumAccount:oL(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:t};class oH{async syncWithToken(e,t,r){let n=await this._privyInternal.fetch(oM,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await oq(this._embedded,n,t?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oV={path:"/api/v1/passwordless/authenticate",method:"POST"},oG={path:"/api/v1/passwordless/init",method:"POST"},oK={path:"/api/v1/passwordless/link",method:"POST"},oJ={path:"/api/v1/passwordless/unlink",method:"POST"},oY={path:"/api/v1/passwordless/update",method:"POST"};class oZ{async sendCode(e,t){return this._privyInternal.fetch(oG,{body:{email:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(oV,{body:{email:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oq(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,t){await this._privyInternal.fetch(oK,{body:{email:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:t,code:r}){await this._privyInternal.fetch(oY,{body:{oldAddress:e,newAddress:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(oJ,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oQ={path:"/api/v1/farcaster/init",method:"POST"},oX={path:"/api/v1/farcaster/authenticate",method:"POST"},o0={path:"/api/v1/farcaster/link",method:"POST"},o1={path:"/api/v1/farcaster/unlink",method:"POST"},o2={path:"/api/v1/farcaster/status",method:"GET"},o3={path:"/api/v2/farcaster/init",method:"POST"},o5={path:"/api/v2/farcaster/authenticate",method:"POST"};class o4{async initializeAuth({relyingParty:e,redirectUrl:t,token:r}){return await this._privyInternal.fetch(oQ,{body:{relying_party:e,redirect_url:t,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(o2,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:r,fid:n,mode:i},a){let s=await this._privyInternal.fetch(oX,{body:{channel_token:e,message:t,signature:r,fid:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await oq(this._embedded,s,a?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async link({channel_token:e,message:t,signature:r,fid:n}){await this._privyInternal.fetch(o0,{body:{channel_token:e,message:t,signature:r,fid:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(o1,{body:{fid:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class o6{async initializeAuth(){return await this._privyInternal.fetch(o3,{body:{}})}async authenticate({message:e,signature:t,fid:r},n){let i=await this._privyInternal.fetch(o5,{body:{message:e,signature:t,fid:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oq(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,t){this._privyInternal=e,this._embedded=t}}let o8={path:"/api/v1/guest/authenticate",method:"POST"};class o9{async create(e){let t=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(o8,{body:{guest_credential:t}});await this._privyInternal.session.updateWithTokensResponse(r);let n=await oq(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(n.user),n}constructor(e,t){this._privyInternal=e,this._embedded=t}}let o7={path:"/api/v1/oauth/authenticate",method:"POST"},le={path:"/api/v1/oauth/init",method:"POST"},lt={path:"/api/v1/oauth/link",method:"POST"},lr={path:"/api/v1/oauth/unlink",method:"POST"},ln="privy:state_code",li="privy:code_verifier";async function la(e,t){let r=(new TextEncoder).encode(e);return new Uint8Array(await t("SHA-256",r))}function ls(){return rT(crypto.getRandomValues(new Uint8Array(36)))}async function lo({codeVerifier:e,method:t="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){return"S256"!=t?e:rT(await la(e,r))}class ll{async generateURL(e,t){let r=ls(),n=ls(),i=await lo({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(li,r),this._storage.put(ln,n)]),this._privyInternal.fetch(le,{body:{redirect_to:t,provider:e,code_challenge:i,state_code:n}})}async loginWithCode(e,t,r,n,i,a){let[s,o]=await Promise.all([this._storage.get(li),this._storage.get(ln)]);if(o!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:t??""}),new rL({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(o7,{body:{authorization_code:e,code_type:n,state_code:o,code_verifier:s,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await oq(this._embedded,l,a?.embedded);return await Promise.all([this._storage.del(li),this._storage.del(ln)]),this._privyInternal.callbacks?.setUser?.(c.user),c}async linkWithCode(e,t,r,n){let[i,a]=await Promise.all([this._storage.get(li),this._storage.get(ln)]);if(a!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:t??""}),new rL({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(lt,{body:{authorization_code:e,code_type:n,state_code:a,code_verifier:i}});await this._privyInternal.session.processOAuthTokens(s.oauth_tokens);let o=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(li),this._storage.del(ln)]),{user:o.user,identity_token:o.identity_token}}async unlink(e,t){await this._privyInternal.fetch(lr,{body:{provider:e,subject:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,t,r,n){this._privyInternal=e,this._embedded=t,this._storage=r,this._crypto=n}}let lc={path:"/api/v1/passkeys/link",method:"POST"},ld={path:"/api/v1/passkeys/authenticate",method:"POST"},lu={path:"/api/v1/passkeys/register",method:"POST"},lh={path:"/api/v1/passkeys/authenticate/init",method:"POST"},lp={path:"/api/v1/passkeys/register/init",method:"POST"},lf={path:"/api/v1/passkeys/link/init",method:"POST"};class lg{async generateRegistrationOptions(e){return await this._privyInternal.fetch(lf,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(lh,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(lp,{body:{relying_party:e}})}async loginWithPasskey(e,t,r,n){let i=await this._privyInternal.fetch(ld,{body:{relying_party:r,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oq(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,t,r){let n=await this._privyInternal.fetch(lu,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await oq(this._embedded,n,r?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){await this._privyInternal.fetch(lc,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let lm={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},ly={path:"/api/v1/passwordless_sms/init",method:"POST"},lw={path:"/api/v1/passwordless_sms/link",method:"POST"},lv={path:"/api/v1/passwordless_sms/unlink",method:"POST"},lb={path:"/api/v1/passwordless_sms/update",method:"POST"};class lx{async sendCode(e,t){return this._privyInternal.fetch(ly,{body:{phoneNumber:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(lm,{body:{phoneNumber:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oq(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,t){await this._privyInternal.fetch(lw,{body:{phoneNumber:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:t,code:r}){await this._privyInternal.fetch(lb,{body:{old_phone_number:e,new_phone_number:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(lv,{body:{phoneNumber:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let lE={path:"/api/v1/siwe/init",method:"POST"},l_={path:"/api/v1/siwe/authenticate",method:"POST"},lC={path:"/api/v1/siwe/link",method:"POST"},lk={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},lA={path:"/api/v1/siwe/unlink",method:"POST"};class lI{async unlinkWallet(e){await this._privyInternal.fetch(lA,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async linkWithSiwe(e,t,r){let n=t||this._wallet,i=r||this._preparedMessage;if(!n)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!i)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(lC,{body:{message:i,signature:e,chainId:n.chainId,walletClientType:n.walletClientType,connectorType:n.connectorType}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,t,r,n,i){let a=t||this._wallet,s=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let o=await this._privyInternal.fetch(l_,{body:{signature:e,message:s,chainId:a.chainId,walletClientType:a.walletClientType,connectorType:a.connectorType,mode:n}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await oq(this._embedded,o,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,t,r){var n;this._wallet=e;let{nonce:i}=await this._privyInternal.fetch(lE,{body:{address:e.address}}),a=`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:t,nonce:i,uri:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:i,message:a}}constructor(e,t){this._wallet=void 0,this._privyInternal=e,this._embedded=t}}let lS={path:"/api/v1/siws/init",method:"POST"},lT={path:"/api/v1/siws/authenticate",method:"POST"},lP={path:"/api/v1/siws/link",method:"POST"},lj={path:"/api/v1/siws/unlink",method:"POST"};class lN{async unlink({address:e}){await this._privyInternal.fetch(lj,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async link({message:e,signature:t,walletClientType:r,connectorType:n}){await this._privyInternal.fetch(lP,{body:{message:e,signature:t,walletClientType:r,connectorType:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async login({mode:e,message:t,signature:r,walletClientType:n,connectorType:i,opts:a}){let s=await this._privyInternal.fetch(lT,{body:{signature:r,message:t,walletClientType:n,connectorType:i,mode:e}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await oq(this._embedded,s,a?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async fetchNonce({address:e}){let{nonce:t}=await this._privyInternal.fetch(lS,{body:{address:e}});return{nonce:t}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class lO{async link(e,t,r){await this._privyInternal.fetch(lk,{body:{message:e,signature:t,smart_wallet_type:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async init(e){var t;let{nonce:r}=await this._privyInternal.fetch(lE,{body:{address:e.address}});return{nonce:r,message:`${(t={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${t.address}

${t.statement}

URI: ${t.uri}
Version: 1
Chain ID: ${t.chainId}
Nonce: ${t.nonce}
Issued At: ${t.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}}class l${async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(om,{body:{refresh_token:e}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,t,r,n){this._privyInternal=e,this.customProvider=new oH(this._privyInternal,t),this.phone=new lx(this._privyInternal,t),this.email=new oZ(this._privyInternal,t),this.oauth=new ll(this._privyInternal,t,r,n),this.guest=new o9(this._privyInternal,t),this.siwe=new lI(this._privyInternal,t),this.siws=new lN(this._privyInternal,t),this.smartWallet=new lO(this._privyInternal),this.passkey=new lg(this._privyInternal,t),this.farcaster=new o4(this._privyInternal,t),this.farcasterV2=new o6(this._privyInternal,t)}}let lM={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},lR={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"};class lD{async initOnRampSession(e){return await this._privyInternal.fetch(lM,{body:e})}async getStatus(e){return await this._privyInternal.fetch(lR,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}}let lL={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},lU=class{async sign(e){return await this._privyInternal.fetch(lL,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:t}){let{url:r,key:n}=rf[t?"sandbox":"prod"],i=await sT(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${n}`);if(!i.ok)throw new rU({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:i});let a=await i.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}};class lF{constructor(e){this.moonpay=new lU(e),this.coinbase=new lD(e)}}let lB={path:"/api/v1/mfa/passkeys/init",method:"POST"},lW=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(lB,{body:e})}constructor(e){this._privyInternal=e}},lz={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"};class lq{async sendCode(e){return await this._privyInternal.fetch(lz,{body:e})}constructor(e){this._privyInternal=e}}class lH{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new rL({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),t}async unenrollMfa(e){if(!this.proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),t}async clearMfa(e){if(!this.proxy)throw new rL({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,t){this.proxy=t,this.privyInternal=e,this.sms=new lq(e),this.passkey=new lW(e)}}let lV={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},lG={path:"/api/v1/recovery/oauth/init",method:"POST"},lK={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},lJ={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},lY={path:"/api/v1/recovery/configuration_icloud",method:"POST"};class lZ{async init(e){return this._privyInternal.fetch(lJ,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(lY,{body:{client_type:e}})}constructor(e){this._privyInternal=e}}class lQ{async generateURL(e){let t=ls(),r=ls(),n=await lo({codeVerifier:t,digest:this._crypto?.digest});return await Promise.all([this._storage.put(li,t),this._storage.put(ln,r)]),this._privyInternal.fetch(lG,{body:{redirect_to:e,code_challenge:n,state_code:r}})}async authorize(e,t){let[r,n]=await Promise.all([this._storage.get(li),this._storage.get(ln)]);if(n!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:n??"",returnedStateCode:t??""}),new rL({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let i=await this._privyInternal.fetch(lK,{body:{authorization_code:e,state_code:n,code_verifier:r}});return await Promise.all([this._storage.del(li),this._storage.del(ln)]),i}constructor(e,t,r){this._privyInternal=e,this._storage=t,this._crypto=r}}class lX{async getRecoveryKeyMaterial(e,t){return this._privyInternal.fetch(lV,{body:{chain_type:t},params:{address:e}})}constructor(e,t,r){this._privyInternal=e,this.auth=new lQ(this._privyInternal,t,r),this.icloudAuth=new lZ(this._privyInternal)}}class l0{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,t){return this._privyInternal.getPath(e,t)}async fetchPrivyRoute(e,t){return this._privyInternal.fetch(e,t)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...t}){this._privyInternal=new oN({...t,appClientId:e}),this.mfa=new lH(this._privyInternal),this.mfaPromises=new or,this.app=new r_(this._privyInternal),this.embeddedWallet=new ot(this._privyInternal,t.embeddedWalletMessagePoster,t.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new o$(this._privyInternal),this.auth=new l$(this._privyInternal,this.embeddedWallet,t.storage,t.crypto),this.recovery=new lX(this._privyInternal,t.storage,t.crypto),this.funding=new lF(this._privyInternal),this.delegated=new rR(this._privyInternal),this.crossApp=new rM(this._privyInternal,t.storage)}}var l1=r(28297),l2=r(31084),l3=r(96149);function l5(e){let{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:i="base",name:a="Base Client",pollingInterval:s=4e3,type:o="base"}=e,l=e.chain,c=e.account?(0,l2.J)(e.account):void 0,{config:d,request:u,value:h}=e.transport({chain:l,pollingInterval:s}),p={account:c,batch:t,cacheTime:r,ccipRead:n,chain:l,key:i,name:a,pollingInterval:s,request:u,transport:{...d,...h},type:o,uid:(0,l3.L)()};return Object.assign(p,{extend:function e(t){return r=>{let n=r(t);for(let e in p)delete n[e];let i={...t,...n};return Object.assign(i,{extend:e(i)})}}(p)})}var l4=r(94726),l6=r(87173),l8=r(79345),l9=r(51820),l7=r(998),ce=r(87112),ct=r(98815),cr=r(76013);function cn(e,t){if(!(e instanceof ct.C))return!1;let r=e.walk(e=>e instanceof cr.M);return r instanceof cr.M&&(!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported"))||"reverse"===t&&r.reason===ce.fD[50])}var ci=r(81140),ca=r(31802),cs=r(73831),co=r(92185);function cl(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,v.q)(t)?t:null}function cc(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,w.My)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=cl(r[e]),i=n?(0,cs.ZJ)(n):(0,co.S)((0,cs.Af)(r[e]),"bytes");t=(0,co.S)((0,ca.xW)([t,i]),"bytes")}return(0,w.My)(t)}function cd(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,cs.Af)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){var a;let t=(0,cs.Af)(i[e]);t.byteLength>255&&(t=(0,cs.Af)((a=function(e){let t=new Uint8Array(32).fill(0);return e?cl(e)||(0,co.S)((0,cs.Af)(e)):(0,w.My)(t)}(i[e]),`[${a.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}function cu(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}var ch=r(27629),cp=r(19714),cf=r(39612);function cg(e,{abi:t,address:r,args:n,docsPath:i,functionName:a,sender:s}){let o=e instanceof cr.$S?e:e instanceof ct.C?e.walk(e=>"data"in e)||e.walk():{},{code:l,data:c,details:d,message:u,shortMessage:h}=o,p=e instanceof ch.O?new cr.rR({functionName:a}):[3,cf.bq.code].includes(l)&&(c||d||u||h)?new cr.M({abi:t,data:"object"==typeof c?c.data:c,functionName:a,message:o instanceof cp.J8?d:h??u}):e;return new cr.bG(p,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:a,sender:s})}var cm=r(12242);async function cy(e,t){let{abi:r,address:n,args:i,functionName:a,...s}=t,o=(0,l8.p)({abi:r,args:i,functionName:a});try{let{data:t}=await cu(e,cm.T,"call")({...s,data:o,to:n});return(0,l6.e)({abi:r,args:i,functionName:a,data:t||"0x"})}catch(e){throw cg(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:a})}}async function cw(e,t){let{blockNumber:r,blockTag:n,coinType:i,name:a,gatewayUrls:s,strict:o}=t,{chain:l}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw Error("client chain not configured. universalResolverAddress is required.");return(0,l9.M)({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),d=l?.ensTlds;if(d&&!d.some(e=>a.endsWith(e)))return null;try{let t=(0,l8.p)({abi:l4.Rm,functionName:"addr",...null!=i?{args:[cc(a),BigInt(i)]}:{args:[cc(a)]}}),o={address:c,abi:l4.Ag,functionName:"resolve",args:[(0,w.nj)(cd(a)),t,s??[ci.J]],blockNumber:r,blockTag:n},l=cu(e,cy,"readContract"),d=await l(o);if("0x"===d[0])return null;let u=(0,l6.e)({abi:l4.Rm,args:null!=i?[cc(a),BigInt(i)]:void 0,functionName:"addr",data:d[0]});if("0x"===u||"0x00"===(0,l7.B)(u))return null;return u}catch(e){if(o)throw e;if(cn(e,"resolve"))return null;throw e}}class cv extends ct.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class cb extends ct.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class cx extends ct.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class cE extends ct.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}let c_=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,cC=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ck=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,cA=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function cI(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!globalThis.hasOwnProperty("Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function cS(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function cT({uri:e,gatewayUrls:t}){let r=ck.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=cS(t?.ipfs,"https://ipfs.io"),i=cS(t?.arweave,"https://arweave.net"),a=e.match(c_),{protocol:s,subpath:o,target:l,subtarget:c=""}=a?.groups||{},d="ipns:/"===s||"ipns/"===o,u="ipfs:/"===s||"ipfs/"===o||cC.test(e);if(e.startsWith("http")&&!d&&!u){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((d||u)&&l)return{uri:`${n}/${d?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(cA,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new cx({uri:e})}function cP(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new cv({data:e});return e.image||e.image_url||e.image_data}async function cj({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await cN({gatewayUrls:e,uri:cP(r)})}catch{throw new cx({uri:t})}}async function cN({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=cT({uri:t,gatewayUrls:e});if(n||await cI(r))return r;throw new cx({uri:t})}async function cO(e,{nft:t}){if("erc721"===t.namespace)return cy(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return cy(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new cE({namespace:t.namespace})}async function c$(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?cM(e,{gatewayUrls:t,record:r}):cN({uri:r,gatewayUrls:t})}async function cM(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[a,s]=r.split(":"),[o,l]=n.split(":");if(!a||"eip155"!==a.toLowerCase())throw new cb({reason:"Only EIP-155 supported"});if(!s)throw new cb({reason:"Chain ID not found"});if(!l)throw new cb({reason:"Contract address not found"});if(!i)throw new cb({reason:"Token ID not found"});if(!o)throw new cb({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}(r),{uri:i,isOnChain:a,isEncoded:s}=cT({uri:await cO(e,{nft:n}),gatewayUrls:t});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return cN({uri:cP(JSON.parse(s?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),cj({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,o)})}async function cR(e,t){let{blockNumber:r,blockTag:n,key:i,name:a,gatewayUrls:s,strict:o}=t,{chain:l}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw Error("client chain not configured. universalResolverAddress is required.");return(0,l9.M)({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),d=l?.ensTlds;if(d&&!d.some(e=>a.endsWith(e)))return null;try{let t={address:c,abi:l4.Ag,functionName:"resolve",args:[(0,w.nj)(cd(a)),(0,l8.p)({abi:l4.SJ,functionName:"text",args:[cc(a),i]}),s??[ci.J]],blockNumber:r,blockTag:n},o=cu(e,cy,"readContract"),l=await o(t);if("0x"===l[0])return null;let d=(0,l6.e)({abi:l4.SJ,functionName:"text",data:l[0]});return""===d?null:d}catch(e){if(o)throw e;if(cn(e,"resolve"))return null;throw e}}async function cD(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:a,strict:s,universalResolverAddress:o}){let l=await cu(e,cR,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:a,strict:s});if(!l)return null;try{return await c$(e,{record:l,gatewayUrls:n})}catch{return null}}async function cL(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:i,strict:a,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");o=(0,l9.M)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}let l=`${t.toLowerCase().substring(2)}.addr.reverse`;try{let a={address:o,abi:l4.oX,functionName:"reverse",args:[(0,w.nj)(cd(l))],blockNumber:r,blockTag:n},s=cu(e,cy,"readContract"),[c,d]=i?await s({...a,args:[...a.args,i]}):await s(a);if(t.toLowerCase()!==d.toLowerCase())return null;return c}catch(e){if(a)throw e;if(cn(e,"reverse"))return null;throw e}}async function cU(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:a}=e,s=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw Error("client chain not configured. universalResolverAddress is required.");return(0,l9.M)({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);let[l]=await cu(e,cy,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,w.nj)(cd(i))],blockNumber:r,blockTag:n});return l}var cF=r(3117),cB=r(7040),cW=r(95950),cz=r(65143);async function cq(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:a,data:s,gas:o,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:d,maxPriorityFeePerGas:u,to:h,value:p,...f}=t,g=r?(0,l2.J)(r):void 0;try{(0,cz.c)(t);let r="bigint"==typeof n?(0,w.cK)(n):void 0,m=e.chain?.formatters?.transactionRequest?.format,y=(m||cW.Bv)({...(0,cB.o)(f,{format:m}),from:g?.address,blobs:a,data:s,gas:o,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:d,maxPriorityFeePerGas:u,to:h,value:p}),v=await e.request({method:"eth_createAccessList",params:[y,r||i]});return{accessList:v.accessList,gasUsed:BigInt(v.gasUsed)}}catch(r){throw(0,cF.d)(r,{...t,account:g,chain:e.chain})}}function cH(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:a})=>{"success"===i&&t===e&&(r[n]=a.request)}),t=>r[t]||e.request}async function cV(e){let t=cH(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}class cG extends ct.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var cK=r(90148),cJ=r(98322),cY=r(65942),cZ=r(36015);let cQ="/docs/contract/encodeEventTopics";function cX(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,cZ.iY)({abi:t,name:r});if(!e)throw new ch.M_(r,{docsPath:cQ});i=e}if("event"!==i.type)throw new ch.M_(void 0,{docsPath:cQ});let a=(0,cY.B)(i),s=(0,cK.h)(a),o=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>c0({param:e,value:t[r][i]})):void 0!==t[r]&&null!==t[r]?c0({param:e,value:t[r]}):null)??[])}return[s,...o]}function c0({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,co.S)((0,cs.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new cG(e.type);return(0,cJ.h)([e],[t])}async function c1(e,t){let{address:r,abi:n,args:i,eventName:a,fromBlock:s,strict:o,toBlock:l}=t,c=cH(e,{method:"eth_newFilter"}),d=a?cX({abi:n,args:i,eventName:a}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof s?(0,w.cK)(s):s,toBlock:"bigint"==typeof l?(0,w.cK)(l):l,topics:d}]});return{abi:n,args:i,eventName:a,id:u,request:c(u),strict:!!o,type:"event"}}async function c2(e,{address:t,args:r,event:n,events:i,fromBlock:a,strict:s,toBlock:o}={}){let l=i??(n?[n]:void 0),c=cH(e,{method:"eth_newFilter"}),d=[];l&&(d=[l.flatMap(e=>cX({abi:[e],eventName:e.name,args:r}))],n&&(d=d[0]));let u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?(0,w.cK)(a):a,toBlock:"bigint"==typeof o?(0,w.cK)(o):o,...d.length?{topics:d}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:a,id:u,request:c(u),strict:!!s,toBlock:o,type:"event"}}async function c3(e){let t=cH(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var c5=r(11371),c4=r(77682);async function c6({hash:e,signature:t}){let n=(0,v.q)(e)?e:(0,w.nj)(e),{secp256k1:i}=await Promise.resolve().then(r.bind(r,8146)),a=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:a}=t,s=c8(Number(a??n));return new i.Signature((0,c4.uU)(e),(0,c4.uU)(r)).addRecoveryBit(s)}let e=(0,v.q)(t)?t:(0,w.nj)(t);if(65!==(0,c5.E)(e))throw Error("invalid signature length");let r=c8((0,c4.ME)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${a}`}function c8(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function c9({hash:e,signature:t}){var r=await c6({hash:e,signature:t});let n=(0,co.S)(`0x${r.substring(4)}`).substring(26);return(0,y.o)(`0x${n}`)}var c7=r(76983);function de(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new ct.C("Length is too large.")}async function dt(e){let{authorization:t,signature:r}=e;return c9({hash:function(e){let{chainId:t,nonce:r,to:n}=e,i=e.contractAddress??e.address,a=(0,co.S)((0,ca.aP)(["0x05",function(e,t="hex"){let r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=de(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,cs.aT)(e):e,r=de(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),n=(0,c7.l)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,w.My)(n.bytes):n.bytes}([t?(0,w.cK)(t):"0x",i,r?(0,w.cK)(r):"0x"])]));return"bytes"===n?(0,cs.aT)(a):a}(t),signature:r??t})}var dr=r(42507),dn=r(53939);class di extends ct.C{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:a,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:d,value:u}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,dn.aO)({from:t?.address,to:d,value:void 0!==u&&`${(0,ra.c)(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==s&&`${(0,dr.Q)(s)} gwei`,maxFeePerGas:void 0!==o&&`${(0,dr.Q)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,dr.Q)(l)} gwei`,nonce:c})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var da=r(4609),ds=r(34461),dl=r(93322);class dc extends ct.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class dd extends ct.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class du extends ct.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,dr.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class dh extends ct.C{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}let dp={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function df(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,c4.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,c4.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?dp[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return+(t.v%2n===0n)}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}function dg(e){let t=(e.transactions??[]).map(e=>"string"==typeof e?e:df(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function dm(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:i}={}){let a=i??!1,s=void 0!==r?(0,w.cK)(r):void 0,o=null;if(!(o=t?await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[s||(n??"latest"),a]},{dedupe:!!s})))throw new dh({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||dg)(o)}async function dy(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function dw(e,t){return dv(e,t)}async function dv(e,t){let{block:r,chain:n=e.chain,request:i}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await cu(e,dm,"getBlock")({}),a=await t({block:n,client:e,request:i});if(null===a)throw Error();return a}if(void 0!==t)return t;let a=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,c4.uU)(a)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):cu(e,dm,"getBlock")({}),cu(e,dy,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new dd;let i=n-t.baseFeePerGas;if(i<0n)return 0n;return i}}async function db(e,t){return dx(e,t)}async function dx(e,t){let{block:r,chain:n=e.chain,request:i,type:a="eip1559"}=t||{},s=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new dc;let o=s.toString().split(".")[1]?.length??0,l=10**o,c=e=>e*BigInt(Math.ceil(s*l))/BigInt(l),d=r||await cu(e,dm,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:i,type:a});if(null!==t)return t}if("eip1559"===a){if("bigint"!=typeof d.baseFeePerGas)throw new dd;let t="bigint"==typeof i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await dv(e,{block:d,chain:n,request:i}),r=c(d.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:i?.gasPrice??c(await cu(e,dy,"getGasPrice")({}))}}async function dE(e,{address:t,blockTag:r="latest",blockNumber:n}){let i=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?(0,w.cK)(n):r]},{dedupe:!!n});return(0,c4.ME)(i)}function d_(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,cs.aT)(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>(0,w.My)(e))}function dC(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,cs.aT)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,cs.aT)(e)):e.commitments,a=[];for(let e=0;e<n.length;e++){let r=n[e],s=i[e];a.push(Uint8Array.from(t.computeBlobKzgProof(r,s)))}return"bytes"===r?a:a.map(e=>(0,w.My)(e))}var dk=r(55917);class dA extends ct.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class dI extends ct.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}async function dS(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,c4.ME)(t)}ct.C,ct.C;let dT=["blobVersionedHashes","chainId","fees","gas","nonce","type"],dP=new Map;async function dj(e,t){let r,n,{account:i=e.account,blobs:a,chain:s,gas:o,kzg:l,nonce:c,nonceManager:d,parameters:u=dT,type:h}=t,p=i?(0,l2.J)(i):i,f={...t,...p?{from:p?.address}:{}};async function g(){return r||(r=await cu(e,dm,"getBlock")({blockTag:"latest"}))}async function m(){return n||(s?s.id:void 0!==t.chainId?t.chainId:n=await cu(e,dS,"getChainId")({}))}if(u.includes("nonce")&&void 0===c&&p)if(d){let t=await m();f.nonce=await d.consume({address:p.address,chainId:t,client:e})}else f.nonce=await cu(e,dE,"getTransactionCount")({address:p.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&a&&l){let e=d_({blobs:a,kzg:l});if(u.includes("blobVersionedHashes")&&(f.blobVersionedHashes=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=function(e,t){let r=(0,dk.sc)((0,v.q)(e,{strict:!1})?(0,cs.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,w.nj)(r)}(t,"bytes");return i.set([r],0),"bytes"===n?i:(0,w.My)(i)}({commitment:e,to:n,version:r}));return i}({commitments:e,to:"hex"})),u.includes("sidecars")){let t=dC({blobs:a,commitments:e,kzg:l});f.sidecars=function(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,cs.aT)(e.data):e.data,n=(0,c5.E)(r);if(!n)throw new dI;if(n>761855)throw new dA({maxSize:761855,size:n});let i=[],a=!0,s=0;for(;a;){let e=(0,c7.l)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(s,s+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),a=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,w.My)(e.bytes))}({data:t,to:n}),a=e.commitments??d_({blobs:i,kzg:r,to:n}),s=e.proofs??dC({blobs:i,commitments:a,kzg:r,to:n}),o=[];for(let e=0;e<i.length;e++)o.push({blob:i[e],commitment:a[e],proof:s[e]});return o}({blobs:a,commitments:e,proofs:t,to:"hex"})}}if(u.includes("chainId")&&(f.chainId=await m()),(u.includes("fees")||u.includes("type"))&&void 0===h)try{f.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new dn.Vg({transaction:e})}(f)}catch{let t=dP.get(e.uid);if(void 0===t){let r=await g();t="bigint"==typeof r?.baseFeePerGas,dP.set(e.uid,t)}f.type=t?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if(void 0===f.maxFeePerGas||void 0===f.maxPriorityFeePerGas){let r=await g(),{maxFeePerGas:n,maxPriorityFeePerGas:i}=await dx(e,{block:r,chain:s,request:f});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<i)throw new du({maxPriorityFeePerGas:i});f.maxPriorityFeePerGas=i,f.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new dd;if(void 0===t.gasPrice){let t=await g(),{gasPrice:r}=await dx(e,{block:t,chain:s,request:f,type:"legacy"});f.gasPrice=r}}return u.includes("gas")&&void 0===o&&(f.gas=await cu(e,dO,"estimateGas")({...f,account:p?{address:p.address,type:"json-rpc"}:p})),(0,cz.c)(f),delete f.parameters,f}async function dN(e,{address:t,blockNumber:r,blockTag:n="latest"}){let i="bigint"==typeof r?(0,w.cK)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}async function dO(e,t){let{account:r=e.account}=t,n=r?(0,l2.J)(r):void 0;try{let{accessList:r,authorizationList:a,blobs:s,blobVersionedHashes:o,blockNumber:l,blockTag:c,data:d,gas:u,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:m,value:y,stateOverride:v,...b}=await dj(e,{...t,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),x=("bigint"==typeof l?(0,w.cK)(l):void 0)||c,E=(0,dl.yH)(v),_=await (async()=>b.to?b.to:a&&a.length>0?await dt({authorization:a[0]}).catch(()=>{throw new ct.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,cz.c)(t);let C=e.chain?.formatters?.transactionRequest?.format,k=(C||cW.Bv)({...(0,cB.o)(b,{format:C}),from:n?.address,accessList:r,authorizationList:a,blobs:s,blobVersionedHashes:o,data:d,gas:u,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:m,to:_,value:y});function i(t){let{block:r,request:n,rpcStateOverride:i}=t;return e.request({method:"eth_estimateGas",params:i?[n,r??"latest",i]:r?[n,r]:[n]})}let A=BigInt(await i({block:x,request:k,rpcStateOverride:E}));if(a){let t=await dN(e,{address:k.from}),r=await Promise.all(a.map(async e=>{let{address:r}=e,a=await i({block:x,request:{authorizationList:void 0,data:d,from:n?.address,to:r,value:(0,w.cK)(t)},rpcStateOverride:E}).catch(()=>100000n);return 2n*BigInt(a)}));A+=r.reduce((e,t)=>e+t,0n)}return A}catch(r){throw function(e,{docsPath:t,...r}){return new di((()=>{let t=(0,ds.l)(e,r);return t instanceof da.RM?e:t})(),{docsPath:t,...r})}(r,{...t,account:n,chain:e.chain})}}async function d$(e,t){let{abi:r,address:n,args:i,functionName:a,dataSuffix:s,...o}=t,l=(0,l8.p)({abi:r,args:i,functionName:a});try{return await cu(e,dO,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:n,...o})}catch(t){let e=o.account?(0,l2.J)(o.account):void 0;throw cg(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:e?.address})}}async function dM(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}let dR=new Map,dD=new Map;async function dL(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let n=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,dR),n=t(e,dD);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}(t),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let a=n.promise.get();a||(a=e(),n.promise.set(a));try{let e=await a;return n.response.set({created:new Date,data:e}),e}finally{n.promise.clear()}}let dU=e=>`blockNumber.${e}`;async function dF(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await dL(()=>e.request({method:"eth_blockNumber"}),{cacheKey:dU(e.uid),cacheTime:t}))}async function dB(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i,a=void 0!==r?(0,w.cK)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||n]},{dedupe:!!a}),(0,c4.ME)(i)}async function dW(e,{address:t,blockNumber:r,blockTag:n="latest"}){let i=void 0!==r?(0,w.cK)(r):void 0,a=await e.request({method:"eth_getCode",params:[t,i||n]},{dedupe:!!i});if("0x"!==a)return a}var dz=r(3680),dq=r(14895),dH=r(614);let dV="/docs/contract/decodeEventLog";function dG(e){let{abi:t,data:r,strict:n,topics:i}=e,a=n??!0,[s,...o]=i;if(!s)throw new ch._z({docsPath:dV});let l=1===t.length?t[0]:t.find(e=>"event"===e.type&&s===(0,cK.h)((0,cY.B)(e)));if(!(l&&"name"in l)||"event"!==l.type)throw new ch.kE(s,{docsPath:dV});let{name:c,inputs:d}=l,u=d?.some(e=>!("name"in e&&e.name)),h=u?[]:{},p=d.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<p.length;e++){let[t,r]=p[e],n=o[e];if(!n)throw new ch.l3({abiItem:l,param:t});h[u?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,dH.n)([e],t)||[])[0]}({param:t,value:n})}let f=d.filter(e=>!("indexed"in e&&e.indexed));if(f.length>0){if(r&&"0x"!==r)try{let e=(0,dH.n)(f,r);if(e)if(u)for(let t=0;t<d.length;t++)h[t]=h[t]??e.shift();else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}catch(e){if(a){if(e instanceof ch.Iy||e instanceof dq.SK)throw new ch.fo({abiItem:l,data:r,params:f,size:(0,c5.E)(r)});throw e}}else if(a)throw new ch.fo({abiItem:l,data:"0x",params:f,size:0})}return{eventName:c,args:Object.values(h).length>0?h:void 0}}function dK(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,cK.h)(t));if(!n)return null;let s=dG({...e,abi:[n],strict:i});if(a&&!a.includes(s.eventName)||!function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{if("address"===e.type)return(0,dz.h)(t,r);if("string"===e.type||"bytes"===e.type)return(0,co.S)((0,cs.ZJ)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let a=r[n];return!!a&&(Array.isArray(e)?e:[e]).some(e=>i(a,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let a=r.find(t=>t.name===e);return!!a&&(Array.isArray(n)?n:[n]).some(r=>i(a,r,t[e]))})}({args:s.args,inputs:n.inputs,matchArgs:r}))return null;return{...s,...e}}catch(n){let t,r;if(n instanceof ch.kE)return null;if(n instanceof ch.fo||n instanceof ch.l3){if(i)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}function dJ(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function dY(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:a,events:s,args:o,strict:l}={}){let c,d=s??(a?[a]:void 0),u=[];d&&(u=[d.flatMap(e=>cX({abi:[e],eventName:e.name,args:s?void 0:o}))],a&&(u=u[0]));let h=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:u,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:u,fromBlock:"bigint"==typeof n?(0,w.cK)(n):n,toBlock:"bigint"==typeof i?(0,w.cK)(i):i}]})).map(e=>dJ(e));return d?dK({abi:d,args:o,logs:h,strict:l??!1}):h}async function dZ(e,t){let{abi:r,address:n,args:i,blockHash:a,eventName:s,fromBlock:o,toBlock:l,strict:c}=t,d=s?(0,cZ.iY)({abi:r,name:s}):void 0,u=d?void 0:r.filter(e=>"event"===e.type);return cu(e,dY,"getLogs")({address:n,args:i,blockHash:a,event:d,events:u,fromBlock:o,toBlock:l,strict:c})}class dQ extends ct.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function dX(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,a,s,o,l,c,d]=await cu(e,cy,"readContract")({abi:d0,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:a,version:s,chainId:Number(o),verifyingContract:l,salt:c},extensions:d,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new dQ({address:r});throw e}}let d0=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function d1(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var a;let s="bigint"==typeof r?(0,w.cK)(r):void 0;return{baseFeePerGas:(a=await e.request({method:"eth_feeHistory",params:[(0,w.cK)(t),s||n,i]},{dedupe:!!s})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:a.gasUsedRatio,oldestBlock:BigInt(a.oldestBlock),reward:a.reward?.map(e=>e.map(e=>BigInt(e)))}}async function d2(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>dJ(e));return"abi"in t&&t.abi?dK({abi:t.abi,logs:i,strict:r}):i}async function d3(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>dJ(e));return t.abi?dK({abi:t.abi,logs:n,strict:r}):n}async function d5(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){let a=void 0!==r?(0,w.cK)(r):void 0;var s=await e.request({method:"eth_getProof",params:[t,i,a||(n??"latest")]});return{...s,balance:s.balance?BigInt(s.balance):void 0,nonce:s.nonce?(0,c4.ME)(s.nonce):void 0,storageProof:s.storageProof?s.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function d4(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let a=void 0!==r?(0,w.cK)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,a||n]})}async function d6(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:a}){let s=n||"latest",o=void 0!==r?(0,w.cK)(r):void 0,l=null;if(i?l=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,w.cK)(a)]},{dedupe:!0}):(o||s)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||s,(0,w.cK)(a)]},{dedupe:!!o})),!l)throw new dn.Kz({blockHash:t,blockNumber:r,blockTag:s,hash:i,index:a});return(e.chain?.formatters?.transaction?.format||df)(l)}async function d8(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([cu(e,dF,"getBlockNumber")({}),t?cu(e,d6,"getTransaction")({hash:t}):void 0]),a=r?.blockNumber||i?.blockNumber;return a?n-a+1n:0n}let d9={"0x0":"reverted","0x1":"success"};async function d7(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new dn.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||function(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>dJ(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,c4.ME)(e.transactionIndex):null,status:e.status?d9[e.status]:null,type:e.type?dp[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t})(r)}async function ue(e,t){let{account:r,allowFailure:n=!0,batchSize:i,blockNumber:a,blockTag:s,multicallAddress:o,stateOverride:l}=t,c=t.contracts,d=i??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024),u=o;if(!u){if(!e.chain)throw Error("client chain not configured. multicallAddress is required.");u=(0,l9.M)({blockNumber:a,chain:e.chain,contract:"multicall3"})}let h=[[]],p=0,f=0;for(let e=0;e<c.length;e++){let{abi:t,address:i,args:a,functionName:s}=c[e];try{let e=(0,l8.p)({abi:t,args:a,functionName:s});f+=(e.length-2)/2,d>0&&f>d&&h[p].length>0&&(p++,f=(e.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:e,target:i}]}catch(o){let e=cg(o,{abi:t,address:i,args:a,docsPath:"/docs/contract/multicall",functionName:s,sender:r});if(!n)throw e;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:i}]}}let g=await Promise.allSettled(h.map(t=>cu(e,cy,"readContract")({abi:l4.v2,account:r,address:u,args:[t],blockNumber:a,blockTag:s,functionName:"aggregate3",stateOverride:l}))),m=[];for(let e=0;e<g.length;e++){let t=g[e];if("rejected"===t.status){if(!n)throw t.reason;for(let r=0;r<h[e].length;r++)m.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:i,success:a}=r[t],{callData:s}=h[e][t],{abi:o,address:l,functionName:d,args:u}=c[m.length];try{if("0x"===s)throw new ch.O;if(!a)throw new cr.$S({data:i});let e=(0,l6.e)({abi:o,args:u,data:i,functionName:d});m.push(n?{result:e,status:"success"}:e)}catch(t){let e=cg(t,{abi:o,address:l,args:u,docsPath:"/docs/contract/multicall",functionName:d});if(!n)throw e;m.push({error:e,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new ct.C("multicall results mismatch");return m}var ut=r(10476);async function ur(e,t){let{blockNumber:r,blockTag:n="latest",blocks:i,returnFullTransactions:a,traceTransfers:s,validation:o}=t;try{let t=[];for(let e of i){let r=e.blockOverrides?ut.J(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,l2.J)(e.account):void 0,r={...e,data:e.abi?(0,l8.p)(e):e.data,from:e.from??t?.address};return(0,cz.c)(r),(0,cW.Bv)(r)}),i=e.stateOverrides?(0,dl.yH)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let l="bigint"==typeof r?(0,w.cK)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:s,validation:o},l||n]})).map((e,t)=>({...dg(e),calls:e.calls.map((e,r)=>{let{abi:n,args:a,functionName:s,to:o}=i[t].calls[r],l=e.error?.data??e.returnData,c=BigInt(e.gasUsed),d=e.logs?.map(e=>dJ(e)),u="0x1"===e.status?"success":"failure",h=n&&"success"===u&&"0x"!==l?(0,l6.e)({abi:n,data:l,functionName:s}):null,p=(()=>{let t;if("success"!==u&&(e.error?.data==="0x"?t=new ch.O:e.error&&(t=new cr.$S(e.error)),t))return cg(t,{abi:n??[],address:o,args:a,functionName:s??"<unknown>"})})();return{data:l,gasUsed:c,logs:d,status:u,..."success"===u?{result:h}:{error:p}}})}))}catch(t){let e=(0,ds.l)(t,{});if(e instanceof da.RM)throw t;throw e}}var un=r(25783),ui=r(1136),ua=r(45580),us=r(9168),uo=r(51850),ul=r(72674),uc=r(68901),ud=r(89235),uu=r(23816);let uh={zero:48,nine:57,A:65,F:70,a:97,f:102};function up(e){return e>=uh.zero&&e<=uh.nine?e-uh.zero:e>=uh.A&&e<=uh.F?e-(uh.A-10):e>=uh.a&&e<=uh.f?e-(uh.a-10):void 0}var uf=r(42153);let ug=new TextEncoder;ul.C,ul.C;class um extends ul.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}ul.C;class uy extends ul.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function uw(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,i=(0,uc.lY)(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&(uf.Sl(e,r),n=ud.M7(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,s=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=up(i.charCodeAt(t++)),n=up(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new ul.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*r+n}return s}(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?i:ud.uK(i)}class uv extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let ub={checksum:new uv(8192)}.checksum,ux=/^0x[a-fA-F0-9]{40}$/;function uE(e,t={}){let{strict:r=!0}=t;if(!ux.test(e))throw new uC({address:e,cause:new uk});if(r){if(e.toLowerCase()===e)return;if(function(e){if(ub.has(e))return ub.get(e);uE(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=uw(function(e,t={}){let{size:r}=t,n=ug.encode(e);if("number"==typeof r){var i;if(n.length>r)throw new um({givenSize:n.length,maxSize:r});return i=n,function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new uy({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let a="right"===r;i[a?t:n-t-1]=e[a?t:e.length-t-1]}return i}(i,{dir:"right",size:r})}return n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return ub.set(e,i),i}(e)!==e)throw new uC({address:e,cause:new uA})}}function u_(e,t={}){let{strict:r=!0}=t??{};try{return uE(e,{strict:r}),!0}catch{return!1}}class uC extends ul.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class uk extends ul.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class uA extends ul.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function uI(e){let t=!0,r="",n=0,i="",a=!1;for(let s=0;s<e.length;s++){let o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(i))i="";else if(i+=o,")"===o){a=!0;break}continue}if(" "===o){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!a)throw new ul.C("Unable to normalize signature.");return i}function uS(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,us.uT)(e);else{let r=(0,ua.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,ui.WL)(n)){t=(0,us.uT)(n,r);break}}}if(!t)throw new un.xo({signature:e});return t}(e):e;return{...n,...r?{hash:uP(n)}:{}}}function uT(e){return ud.di(uP(e),0,4)}function uP(e){return"string"!=typeof e&&"hash"in e&&e.hash?e.hash:uw(ud.sH(uI("string"==typeof e?e:uo.B(e))))}class uj extends ul.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${uI(uo.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${uI(uo.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class uN extends ul.C{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}ul.C;var uO=r(25780);let u$=/^(.*)\[([0-9]*)\]$/,uM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,uR=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function uD(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=ud.Ej(i)}let r=[],n=[],i=0;for(let a=0;a<e.length;a++){let{dynamic:s,encoded:o}=e[a];s?(r.push(ud.oB(t+i,{size:32})),n.push(o),i+=ud.Ej(o)):r.push(o)}return ud.xW(...r,...n)}function uL(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function uU(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(uU);let r=uL(e.type);return!!(r&&uU({...e,type:r[1]}))}function uF(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new uq({expectedLength:e.length,givenLength:t.length});let i=uD(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i=uL(r.type);if(i){let[a,s]=i;return function(t,r){let{checksumAddress:n,length:i,parameter:a}=r,s=null===i;if(!Array.isArray(t))throw new uH(t);if(!s&&t.length!==i)throw new uW({expectedLength:i,givenLength:t.length,type:`${a.type}[${i}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:a,value:t[r]});i.dynamic&&(o=!0),l.push(i)}if(s||o){let e=uD(l);if(s){let t=ud.oB(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?ud.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ud.xW(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:a,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,a=!1,s=[];for(let r=0;r<i.components.length;r++){let o=i.components[r],l=Array.isArray(t)?r:o.name,c=e({checksumAddress:n,parameter:o,value:t[l]});s.push(c),c.dynamic&&(a=!0)}return{dynamic:a,encoded:a?uD(s):ud.xW(...s.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type){var a=n,s={checksum:t};let{checksum:e=!1}=s;return uE(a,{strict:e}),{dynamic:!1,encoded:ud.Ho(a.toLowerCase())}}if("bool"===r.type){var o=n;if("boolean"!=typeof o)throw new ul.C(`Invalid boolean value: "${o}" (type: ${typeof o}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ud.Ho(ud.xb(o))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=uR.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new ud.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:ud.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=ud.Ej(e);if(!r){let t=e;return n%32!=0&&(t=ud.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:ud.xW(ud.Ho(ud.oB(n,{size:32})),t)}}if(n!==Number.parseInt(r))throw new uz({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:ud.M7(e)}}(n,{type:r.type});if("string"===r.type){var l=n;let e=ud.sH(l),t=Math.ceil(ud.Ej(e)/32),r=[];for(let n=0;n<t;n++)r.push(ud.M7(ud.di(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:ud.xW(ud.M7(ud.oB(ud.Ej(e),{size:32})),...r)}}throw new uV(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function uB(e,t){if(e.length!==t.length)throw new uq({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t[n];r.push(uB.encode(i,a))}return ud.xW(...r)}(uB||(uB={})).encode=function e(t,r,n=!1){if("address"===t)return uE(r),ud.Ho(r.toLowerCase(),32*!!n);if("string"===t)return ud.sH(r);if("bytes"===t)return r;if("bool"===t)return ud.Ho(ud.xb(r),n?32:1);let i=t.match(uR);if(i){let[e,t,a="256"]=i,s=Number.parseInt(a)/8;return ud.oB(r,{size:n?32:s,signed:"int"===t})}let a=t.match(uM);if(a){let[e,t]=a;if(Number.parseInt(t)!==(r.length-2)/2)throw new uz({expectedSize:Number.parseInt(t),value:r});return ud.M7(r,32*!!n)}let s=t.match(u$);if(s&&Array.isArray(r)){let[t,n]=s,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":ud.xW(...i)}throw new uV(t)},ul.C,ul.C;class uW extends ul.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class uz extends ul.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ud.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class uq extends ul.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class uH extends ul.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class uV extends ul.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function uG(e,t={}){return uS(e,t)}let uK="0x0000000000000000000000000000000000000000";var uJ=r(30700);async function uY(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:a,traceAssetChanges:s,traceTransfers:o,validation:l}=t,c=t.account?(0,l2.J)(t.account):void 0;if(s&&!c)throw new ct.C("`account` is required when `traceAssetChanges` is true");let d=c?function(e,t){let{bytecode:r,args:n}=t;return ud.xW(r,e.inputs?.length&&n?.length?uF(e.inputs,n):"0x")}(uS("constructor(bytes, bytes)"),{bytecode:uJ.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(e,...t){let{overloads:r}=e,n=r?function(e,t,r){let n=function(e,t,r){let n,{args:i=[],prepare:a=!0}=r??{},s=ud.tf(t,{strict:!1}),o=e.filter(e=>s?"function"===e.type||"error"===e.type?uT(e)===ud.di(t,0,4):"event"===e.type&&uP(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new uN({name:t});if(1===o.length)return{...o[0],...a?{hash:uP(o[0])}:{}};for(let e of o){if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...a?{hash:uP(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return u_(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let a=t[i],s=r[i];if("tuple"===a.type&&"tuple"===s.type&&"components"in a&&"components"in s)return e(a.components,s.components,n[i]);let o=[a.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&u_(n[i],{strict:!1}))return o}}(e.inputs,n.inputs,i);if(t)throw new uj({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}}let l=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new uN({name:t});return{...l,...a?{hash:uP(l)}:{}}}(e,t,r);if("function"!==n.type)throw new uN({name:t,type:"function"});return n}([e,...r],e.name,{args:t[0]}):e,i=uT(n),a=t.length>0?uF(n.inputs,t[0]):void 0;return a?ud.xW(i,a):i}(uG("function getBalance(address)"),[c.address])]}):void 0,u=s?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await cq(e,{account:c.address,...t,data:t.abi?(0,l8.p)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],h=a?.map(e=>e.address===c?.address?{...e,nonce:0}:e),p=await ur(e,{blockNumber:r,blockTag:n,blocks:[...s?[{calls:[{data:d}],stateOverrides:a},{calls:u.map((e,t)=>({abi:[uG("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:e,from:uK,nonce:t})),stateOverrides:[{address:uK,nonce:0}]}]:[],{calls:[...i,{}].map((e,t)=>({...e,from:c?.address,nonce:t})),stateOverrides:h},...s?[{calls:[{data:d}]},{calls:u.map((e,t)=>({abi:[uG("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:e,from:uK,nonce:t})),stateOverrides:[{address:uK,nonce:0}]},{calls:u.map((e,t)=>({to:e,abi:[uG("function decimals() returns (uint256)")],functionName:"decimals",from:uK,nonce:t})),stateOverrides:[{address:uK,nonce:0}]},{calls:u.map((e,t)=>({to:e,abi:[uG("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:uK,nonce:t})),stateOverrides:[{address:uK,nonce:0}]},{calls:u.map((e,t)=>({to:e,abi:[uG("function symbol() returns (string)")],functionName:"symbol",from:uK,nonce:t})),stateOverrides:[{address:uK,nonce:0}]}]:[]],traceTransfers:o,validation:l}),f=s?p[2]:p[0],[g,m,,y,w,v,b,x]=s?p:[],{calls:E,..._}=f,C=E.slice(0,-1)??[],k=[...g?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,c4.uU)(e.data):null),A=[...y?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,c4.uU)(e.data):null),I=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),S=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(b?.calls??[]).map(e=>"success"===e.status?e.result:null),P=[];for(let[e,t]of A.entries()){let r=k[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=I[e-1],i=S[e-1],a=T[e-1],s=0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:u[e-1],decimals:a||n?Number(n??1):void 0,symbol:i??void 0};P.some(e=>e.token.address===s.address)||P.push({token:s,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:P,block:_,results:C}}async function uZ(e,t){let{abi:r,address:n,args:i,dataSuffix:a,functionName:s,...o}=t,l=o.account?(0,l2.J)(o.account):e.account,c=(0,l8.p)({abi:r,args:i,functionName:s});try{let{data:d}=await cu(e,cm.T,"call")({batch:!1,data:`${c}${a?a.replace("0x",""):""}`,to:n,...o,account:l}),u=(0,l6.e)({abi:r,args:i,functionName:s,data:d||"0x"}),h=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:u,request:{abi:h,address:n,args:i,dataSuffix:a,functionName:s,...o,account:l}}}catch(e){throw cg(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function uQ(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function uX(e,t){return(0,co.S)(function(e){let t="string"==typeof e?(0,w.i3)(e):"string"==typeof e.raw?e.raw:(0,w.My)(e.raw),r=(0,w.i3)(`\x19Ethereum Signed Message:
${(0,c5.E)(t)}`);return(0,ca.xW)([r,t])}(e),t)}var u0=r(37599);let u1="0x6492649264926492649264926492649264926492649264926492649264926492";var u2=r(38476),u3=r(8146);async function u5(e,t){let{address:r,factory:n,factoryData:i,hash:a,signature:s,universalSignatureVerifierAddress:o=e.chain?.contracts?.universalSignatureVerifier?.address,...l}=t,c=(0,v.q)(s)?s:"object"==typeof s&&"r"in s&&"s"in s?function({r:e,s:t,to:r="hex",v:n,yParity:i}){let a=(()=>{if(0===i||1===i)return i;if(n&&(27n===n||28n===n||n>=35n))return+(n%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),s=`0x${new u3.secp256k1.Signature((0,c4.uU)(e),(0,c4.uU)(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===r?s:(0,cs.aT)(s)}(s):(0,w.My)(s),d=await (async()=>{if(!n&&!i||(0,u2.iN)(c,-32)===u1)return c;let{address:e,data:t,signature:r,to:a="hex"}={address:n,data:i,signature:c},s=(0,ca.aP)([(0,cJ.h)([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,t,r]),u1]);return"hex"===a?s:(0,cs.aT)(s)})();try{let t=o?{to:o,data:(0,l8.p)({abi:l4._,functionName:"isValidSig",args:[r,a,d]}),...l}:{data:(0,u0.m)({abi:l4._,args:[r,a,d],bytecode:uJ.nP}),...l},{data:n}=await cu(e,cm.T,"call")(t);return(0,c4.Nx)(n??"0x0")}catch(e){try{if((0,dz.h)((0,y.b)(r),await c9({hash:a,signature:s})))return!0}catch{}if(e instanceof cr.zX)return!1;throw e}}async function u4(e,{address:t,message:r,factory:n,factoryData:i,signature:a,...s}){return u5(e,{address:t,factory:n,factoryData:i,hash:uX(r),signature:a,...s})}var u6=r(90175),u8=r(52406);class u9 extends ct.C{constructor({domain:e}){super(`Invalid domain "${(0,u8.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class u7 extends ct.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class he extends ct.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var ht=r(58296);function hr(e){let{domain:t,message:r,primaryType:n,types:i}=e,a=(e,t)=>{for(let r of e){let{name:e,type:n}=r,s=t[e],o=n.match(ht.Ge);if(o&&("number"==typeof s||"bigint"==typeof s)){let[e,t,r]=o;(0,w.cK)(s,{signed:"int"===t,size:Number.parseInt(r)/8})}if("address"===n&&"string"==typeof s&&!(0,b.P)(s))throw new u6.M({address:s});let l=n.match(ht.BD);if(l){let[e,t]=l;if(t&&(0,c5.E)(s)!==Number.parseInt(t))throw new ch.BI({expectedSize:Number.parseInt(t),givenSize:(0,c5.E)(s)})}let c=i[n];c&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new he({type:e})}(n),a(c,s))}};if(i.EIP712Domain&&t){if("object"!=typeof t)throw new u9({domain:t});a(i.EIP712Domain,t)}if("EIP712Domain"!==n)if(i[n])a(i[n],r);else throw new u7({primaryType:n,types:i})}function hn({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function hi({data:e,primaryType:t,types:r}){let n=function e({data:t,primaryType:r,types:n}){let i=[{type:"bytes32"}],a=[function({primaryType:e,types:t}){let r=(0,w.nj)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u),a=i?.[0];if(n.has(a)||void 0===r[a])return n;for(let t of(n.add(a),r[a]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,co.S)(r)}({primaryType:r,types:n})];for(let s of n[r]){let[r,o]=function t({types:r,name:n,type:i,value:a}){if(void 0!==r[i])return[{type:"bytes32"},(0,co.S)(e({data:a,primaryType:i,types:r}))];if("bytes"===i){let e=a.length%2?"0":"";return a=`0x${e+a.slice(2)}`,[{type:"bytes32"},(0,co.S)(a)]}if("string"===i)return[{type:"bytes32"},(0,co.S)((0,w.nj)(a))];if(i.lastIndexOf("]")===i.length-1){let e=i.slice(0,i.lastIndexOf("[")),s=a.map(i=>t({name:n,type:e,types:r,value:i}));return[{type:"bytes32"},(0,co.S)((0,cJ.h)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:i},a]}({types:n,name:s.name,type:s.type,value:t[s.name]});i.push(r),a.push(o)}return(0,cJ.h)(i,a)}({data:e,primaryType:t,types:r});return(0,co.S)(n)}async function ha(e,t){let{address:r,factory:n,factoryData:i,signature:a,message:s,primaryType:o,types:l,domain:c,...d}=t,u=function(e){let{domain:t={},message:r,primaryType:n}=e,i={EIP712Domain:hn({domain:t}),...e.types};hr({domain:t,message:r,primaryType:n,types:i});let a=["0x1901"];return t&&a.push(function({domain:e,types:t}){return hi({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:i})),"EIP712Domain"!==n&&a.push(hi({data:r,primaryType:n,types:i})),(0,co.S)((0,ca.xW)(a))}({message:s,primaryType:o,types:l,domain:c});return u5(e,{address:r,factory:n,factoryData:i,hash:u,signature:a,...d})}let hs=new Map,ho=new Map,hl=0;function hc(e,t,r){let n=++hl,i=()=>hs.get(e)||[],a=()=>{let t=i();hs.set(e,t.filter(e=>e.id!==n))},s=()=>{let t=i();if(!t.some(e=>e.id===n))return;let r=ho.get(e);1===t.length&&r&&r(),a()},o=i();if(hs.set(e,[...o,{id:n,fns:t}]),o&&o.length>0)return s;let l={};for(let e in t)l[e]=(...t)=>{let r=i();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let c=r(l);return"function"==typeof c&&ho.set(e,c),s}var hd=r(95834),hu=r(11379),hh=r(31120);function hp(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0,a=()=>i=!1;return(async()=>{let s;t&&(s=await e({unpoll:a}));let o=await r?.(s)??n;await (0,hh.u)(o);let l=async()=>{i&&(await e({unpoll:a}),await (0,hh.u)(n),l())};l()})(),a}function hf(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:a,pollingInterval:s=e.pollingInterval}){let o;return(void 0!==a?a:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?hc((0,u8.A)(["watchBlockNumber",e.uid,t,r,s]),{onBlockNumber:n,onError:i},n=>hp(async()=>{try{let t=await cu(e,dF,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&r)for(let e=o+1n;e<t;e++)n.onBlockNumber(e,o),o=e}(!o||t>o)&&(n.onBlockNumber(t,o),o=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:s})):hc((0,u8.A)(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:i},t=>{let r=!0,n=()=>r=!1;return(async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await i.subscribe({params:["newHeads"],onData(e){if(!r)return;let n=(0,c4.uU)(e.result?.number);t.onBlockNumber(n,o),o=n},onError(e){t.onError?.(e)}});n=a,r||n()}catch(e){i?.(e)}})(),()=>n()})}async function hg(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:i=e.pollingInterval,retryCount:a=6,retryDelay:s=({count:e})=>200*~~(1<<e),timeout:o=18e4}){let l,c,d,u,h,p=(0,u8.A)(["waitForTransactionReceipt",e.uid,r]),f=!1,{promise:g,resolve:m,reject:y}=(0,hd.Y)(),w=o?setTimeout(()=>{h(),u(),y(new dn.WA({hash:r}))},o):void 0;return u=hc(p,{onReplaced:n,resolve:m,reject:y},n=>{h=cu(e,hf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(i){let o=e=>{clearTimeout(w),h(),e(),u()},p=i;if(!f)try{if(d){if(t>1&&(!d.blockNumber||p-d.blockNumber+1n<t))return;o(()=>n.resolve(d));return}if(l||(f=!0,await (0,hu.b)(async()=>{(l=await cu(e,d6,"getTransaction")({hash:r})).blockNumber&&(p=l.blockNumber)},{delay:s,retryCount:a}),f=!1),d=await cu(e,d7,"getTransactionReceipt")({hash:r}),t>1&&(!d.blockNumber||p-d.blockNumber+1n<t))return;o(()=>n.resolve(d))}catch(r){if(r instanceof dn.Kz||r instanceof dn.Kc){if(!l){f=!1;return}try{c=l,f=!0;let r=await (0,hu.b)(()=>cu(e,dm,"getBlock")({blockNumber:p,includeTransactions:!0}),{delay:s,retryCount:a,shouldRetry:({error:e})=>e instanceof dh});f=!1;let i=r.transactions.find(({from:e,nonce:t})=>e===c.from&&t===c.nonce);if(!i||(d=await cu(e,d7,"getTransactionReceipt")({hash:i.hash}),t>1&&(!d.blockNumber||p-d.blockNumber+1n<t)))return;let u="replaced";i.to===c.to&&i.value===c.value&&i.input===c.input?u="repriced":i.from===i.to&&0n===i.value&&(u="cancelled"),o(()=>{n.onReplaced?.({reason:u,replacedTransaction:c,transaction:i,transactionReceipt:d}),n.resolve(d)})}catch(e){o(()=>n.reject(e))}}else o(()=>n.reject(r))}}})}),g}let hm=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hy=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function hw(e,t){let{address:r,domain:n,message:i,nonce:a,scheme:s,signature:o,time:l=new Date,...c}=t,d=function(e){let{scheme:t,statement:r,...n}=e.match(hm)?.groups??{},{chainId:i,expirationTime:a,issuedAt:s,notBefore:o,requestId:l,...c}=e.match(hy)?.groups??{},d=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...a?{expirationTime:new Date(a)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!d.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:a,time:s=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||a&&n.scheme!==a||n.expirationTime&&s>=n.expirationTime||n.notBefore&&s<n.notBefore)return!1;try{if(!n.address||!(0,b.P)(n.address,{strict:!1})||t&&!(0,dz.h)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:d,nonce:a,scheme:s,time:l}))return!1;let u=uX(i);return u5(e,{address:d.address,hash:u,signature:o,...c})}async function hv(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function hb(e){return{call:t=>(0,cm.T)(e,t),createAccessList:t=>cq(e,t),createBlockFilter:()=>cV(e),createContractEventFilter:t=>c1(e,t),createEventFilter:t=>c2(e,t),createPendingTransactionFilter:()=>c3(e),estimateContractGas:t=>d$(e,t),estimateGas:t=>dO(e,t),getBalance:t=>dN(e,t),getBlobBaseFee:()=>dM(e),getBlock:t=>dm(e,t),getBlockNumber:t=>dF(e,t),getBlockTransactionCount:t=>dB(e,t),getBytecode:t=>dW(e,t),getChainId:()=>dS(e),getCode:t=>dW(e,t),getContractEvents:t=>dZ(e,t),getEip712Domain:t=>dX(e,t),getEnsAddress:t=>cw(e,t),getEnsAvatar:t=>cD(e,t),getEnsName:t=>cL(e,t),getEnsResolver:t=>cU(e,t),getEnsText:t=>cR(e,t),getFeeHistory:t=>d1(e,t),estimateFeesPerGas:t=>db(e,t),getFilterChanges:t=>d2(e,t),getFilterLogs:t=>d3(e,t),getGasPrice:()=>dy(e),getLogs:t=>dY(e,t),getProof:t=>d5(e,t),estimateMaxPriorityFeePerGas:t=>dw(e,t),getStorageAt:t=>d4(e,t),getTransaction:t=>d6(e,t),getTransactionConfirmations:t=>d8(e,t),getTransactionCount:t=>dE(e,t),getTransactionReceipt:t=>d7(e,t),multicall:t=>ue(e,t),prepareTransactionRequest:t=>dj(e,t),readContract:t=>cy(e,t),sendRawTransaction:t=>hv(e,t),simulate:t=>ur(e,t),simulateBlocks:t=>ur(e,t),simulateCalls:t=>uY(e,t),simulateContract:t=>uZ(e,t),verifyMessage:t=>u4(e,t),verifySiweMessage:t=>hw(e,t),verifyTypedData:t=>ha(e,t),uninstallFilter:t=>uQ(e,t),waitForTransactionReceipt:t=>hg(e,t),watchBlocks:t=>(function(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:a,includeTransactions:s,poll:o,pollingInterval:l=e.pollingInterval}){let c,d,u,h,p=void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),f=s??!1;return p?hc((0,u8.A)(["watchBlocks",e.uid,t,r,n,f,l]),{onBlock:i,onError:a},i=>hp(async()=>{try{let n=await cu(e,dm,"getBlock")({blockTag:t,includeTransactions:f});if(null!==n.number&&c?.number!=null){if(n.number===c.number)return;if(n.number-c.number>1&&r)for(let t=c?.number+1n;t<n.number;t++){let r=await cu(e,dm,"getBlock")({blockNumber:t,includeTransactions:f});i.onBlock(r,c),c=r}}(c?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>c.number)&&(i.onBlock(n,c),c=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:l})):(d=!0,u=!0,h=()=>d=!1,(async()=>{try{n&&cu(e,dm,"getBlock")({blockTag:t,includeTransactions:f}).then(e=>{d&&u&&(i(e,void 0),u=!1)}).catch(a);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await r.subscribe({params:["newHeads"],async onData(t){if(!d)return;let r=await cu(e,dm,"getBlock")({blockNumber:t.blockNumber,includeTransactions:f}).catch(()=>{});d&&(i(r,c),u=!1,c=r)},onError(e){a?.(e)}});h=s,d||h()}catch(e){a?.(e)}})(),()=>h())})(e,t),watchBlockNumber:t=>hf(e,t),watchContractEvent:t=>(function(e,t){let{abi:r,address:n,args:i,batch:a=!0,eventName:s,fromBlock:o,onError:l,onLogs:c,poll:d,pollingInterval:u=e.pollingInterval,strict:h}=t;return(void 0!==d?d:"bigint"==typeof o||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{let t=h??!1;return hc((0,u8.A)(["watchContractEvent",n,i,a,e.uid,s,u,t,o]),{onLogs:c,onError:l},l=>{let c,d;void 0!==o&&(c=o-1n);let h=!1,p=hp(async()=>{if(!h){try{d=await cu(e,c1,"createContractEventFilter")({abi:r,address:n,args:i,eventName:s,strict:t,fromBlock:o})}catch{}h=!0;return}try{let o;if(d)o=await cu(e,d2,"getFilterChanges")({filter:d});else{let a=await cu(e,dF,"getBlockNumber")({});o=c&&c<a?await cu(e,dZ,"getContractEvents")({abi:r,address:n,args:i,eventName:s,fromBlock:c+1n,toBlock:a,strict:t}):[],c=a}if(0===o.length)return;if(a)l.onLogs(o);else for(let e of o)l.onLogs([e])}catch(e){d&&e instanceof cf.Di&&(h=!1),l.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{d&&await cu(e,uQ,"uninstallFilter")({filter:d}),p()}})})():(()=>{let t=(0,u8.A)(["watchContractEvent",n,i,a,e.uid,s,u,h??!1]),o=!0,d=()=>o=!1;return hc(t,{onLogs:c,onError:l},t=>((async()=>{try{let a=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),l=s?cX({abi:r,eventName:s,args:i}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:n,topics:l}],onData(e){if(!o)return;let n=e.result;try{let{eventName:e,args:i}=dG({abi:r,data:n.data,topics:n.topics,strict:h}),a=dJ(n,{args:i,eventName:e});t.onLogs([a])}catch(a){let e,r;if(a instanceof ch.fo||a instanceof ch.l3){if(h)return;e=a.abiItem.name,r=a.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=dJ(n,{args:r?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});d=c,o||d()}catch(e){l?.(e)}})(),()=>d()))})()})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:a,fromBlock:s,onError:o,onLogs:l,poll:c,pollingInterval:d=e.pollingInterval,strict:u}){let h,p,f=void 0!==c?c:"bigint"==typeof s||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),g=u??!1;return f?hc((0,u8.A)(["watchEvent",t,r,n,e.uid,i,d,s]),{onLogs:l,onError:o},o=>{let l,c;void 0!==s&&(l=s-1n);let u=!1,h=hp(async()=>{if(!u){try{c=await cu(e,c2,"createEventFilter")({address:t,args:r,event:i,events:a,strict:g,fromBlock:s})}catch{}u=!0;return}try{let s;if(c)s=await cu(e,d2,"getFilterChanges")({filter:c});else{let n=await cu(e,dF,"getBlockNumber")({});s=l&&l!==n?await cu(e,dY,"getLogs")({address:t,args:r,event:i,events:a,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===s.length)return;if(n)o.onLogs(s);else for(let e of s)o.onLogs([e])}catch(e){c&&e instanceof cf.Di&&(u=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:d});return async()=>{c&&await cu(e,uQ,"uninstallFilter")({filter:c}),h()}}):(h=!0,p=()=>h=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type);return t?t.value:e.transport}return e.transport})(),s=a??(i?[i]:void 0),c=[];s&&(c=[s.flatMap(e=>cX({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:d}=await n.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!h)return;let t=e.result;try{let{eventName:e,args:r}=dG({abi:s??[],data:t.data,topics:t.topics,strict:g}),n=dJ(t,{args:r,eventName:e});l([n])}catch(i){let e,r;if(i instanceof ch.fo||i instanceof ch.l3){if(u)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=dJ(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){o?.(e)}});p=d,h||p()}catch(e){o?.(e)}})(),()=>p())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:a=e.pollingInterval}){let s,o;return(void 0!==i?i:"webSocket"!==e.transport.type)?hc((0,u8.A)(["watchPendingTransactions",e.uid,t,a]),{onTransactions:n,onError:r},r=>{let n,i=hp(async()=>{try{if(!n)try{n=await cu(e,c3,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let a=await cu(e,d2,"getFilterChanges")({filter:n});if(0===a.length)return;if(t)r.onTransactions(a);else for(let e of a)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:a});return async()=>{n&&await cu(e,uQ,"uninstallFilter")({filter:n}),i()}}):(s=!0,o=()=>s=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!s)return;let t=e.result;n([t])},onError(e){r?.(e)}});o=t,s||o()}catch(e){r?.(e)}})(),()=>o())})(e,t)}}function hx(e){let{key:t="public",name:r="Public Client"}=e;return l5({...e,key:t,name:r,type:"publicClient"}).extend(hb)}var hE=r(33809),h_=r(23403);class hC extends ct.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function hk(e,t="wei"){return function(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new hC({value:e});let[r,n="0"]=e.split("."),i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){let[e,i,a]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],s=Math.round(Number(`${i}.${a}`));(n=s>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${s}`).length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${i?"-":""}${r}${n}`)}(e,h_.eL[t])}async function hA(e,{chain:t}){let{id:r,name:n,nativeCurrency:i,rpcUrls:a,blockExplorers:s}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,w.cK)(r),chainName:n,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:s?Object.values(s).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}class hI extends ct.C{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class hS extends ct.C{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}var hT=r(8542);function hP({chain:e,currentChainId:t}){if(!e)throw new hT.jF;if(t!==e.id)throw new hT.EH({chain:e,currentChainId:t})}function hj(e,{docsPath:t,...r}){let n=(()=>{let t=(0,ds.l)(e,r);return t instanceof da.RM?e:t})();return new dn.$s(n,{docsPath:t,...r})}let hN=new(r(92134)).A(128);async function hO(e,t){let{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:a,blobs:s,data:o,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,type:f,value:g,...m}=t;if(void 0===r)throw new hI({docsPath:"/docs/actions/wallet/sendTransaction"});let y=r?(0,l2.J)(r):null;try{(0,cz.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await dt({authorization:a[0]}).catch(()=>{throw new ct.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(y?.type==="json-rpc"||null===y){let t;null!==n&&(t=await cu(e,dS,"getChainId")({}),hP({currentChainId:t,chain:n}));let w=e.chain?.formatters?.transactionRequest?.format,v=(w||cW.Bv)({...(0,cB.o)(m,{format:w}),accessList:i,authorizationList:a,blobs:s,chainId:t,data:o,from:y?.address,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,to:r,type:f,value:g}),b=hN.get(e.uid);try{return await e.request({method:b?"wallet_sendTransaction":"eth_sendTransaction",params:[v]},{retryCount:0})}catch(t){if(!1===b)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[v]},{retryCount:0}).then(t=>(hN.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw hN.set(e.uid,!1),t;throw r});throw t}}if(y?.type==="local"){let t=await cu(e,dj,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:a,blobs:s,chain:n,data:o,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...dT,"sidecars"],type:f,value:g,...m,to:r}),w=n?.serializers?.transaction,v=await y.signTransaction(t,{serializer:w});return await cu(e,hv,"sendRawTransaction")({serializedTransaction:v})}if(y?.type==="smart")throw new hS({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new hS({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(e){if(e instanceof hS)throw e;throw hj(e,{...t,account:y,chain:t.chain||void 0})}}async function h$(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,y.o)(e))}let hM="0x5792579257925792579257925792579257925792579257925792579257925792",hR=(0,w.cK)(0,{size:32});async function hD(e,t){let{account:r=e.account,capabilities:n,chain:i=e.chain,experimental_fallback:a,experimental_fallbackDelay:s=32,forceAtomic:o=!1,id:l,version:c="2.0.0"}=t;if(void 0===r)throw new hI({docsPath:"/docs/actions/wallet/sendCalls"});let d=r?(0,l2.J)(r):null,u=t.calls.map(e=>({data:e.abi?(0,l8.p)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data,to:e.to,value:e.value?(0,w.cK)(e.value):void 0}));try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:u,capabilities:n,chainId:(0,w.cK)(i.id),from:d?.address,id:l,version:c}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(a&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum"))){if(n&&Object.values(n).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new cf.L5(new ct.C(e,{details:e}))}if(o&&u.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new cf.jz(new ct.C(e,{details:e}))}let t=[];for(let r of u){let n=hO(e,{account:d,chain:i,data:r.data,to:r.to,value:r.value?(0,c4.uU)(r.value):void 0});t.push(n),s>0&&await new Promise(e=>setTimeout(e,s))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let a=r.map(e=>"fulfilled"===e.status?e.value:hR);return{id:(0,ca.xW)([...a,(0,w.cK)(i.id,{size:32}),hM])}}throw hj(r,{...t,account:d,chain:t.chain})}}async function hL(e,t){async function r(t){if(t.endsWith(hM.slice(2))){let r=(0,l7.B)((0,u2.iN)(t,-64,-32)),n=(0,u2.iN)(t,0,-64).slice(2).match(/.{1,64}/g),i=await Promise.all(n.map(t=>hR.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),a=i.some(e=>null===e)?100:i.every(e=>e?.status==="0x1")?200:i.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,c4.ME)(r),receipts:i.filter(Boolean),status:a,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:n=!1,chainId:i,receipts:a,version:s="2.0.0",...o}=await r(t.id),[l,c]=(()=>{let e=o.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...o,atomic:n,chainId:i?(0,c4.ME)(i):void 0,receipts:a?.map(e=>({...e,blockNumber:(0,c4.uU)(e.blockNumber),gasUsed:(0,c4.uU)(e.gasUsed),status:d9[e.status]}))??[],statusCode:c,status:l,version:s}}async function hU(e,t={}){let{account:r=e.account,chainId:n}=t,i=r?(0,l2.J)(r):void 0,a=n?[i?.address,[(0,w.cK)(n)]]:[i?.address],s=await e.request({method:"wallet_getCapabilities",params:a}),o={};for(let[e,t]of Object.entries(s))for(let[r,n]of(o[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),o[Number(e)][r]=n;return"number"==typeof n?o[n]:o}async function hF(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function hB(e,t){let{account:r=e.account,chainId:n,nonce:i}=t;if(!r)throw new hI({docsPath:"/docs/eip7702/prepareAuthorization"});let a=(0,l2.J)(r),s=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,l2.J)(t.executor)})(),o={address:t.contractAddress??t.address,chainId:n,nonce:i};return void 0===o.chainId&&(o.chainId=e.chain?.id??await cu(e,dS,"getChainId")({})),void 0===o.nonce&&(o.nonce=await cu(e,dE,"getTransactionCount")({address:a.address,blockTag:"pending"}),("self"===s||s?.address&&(0,dz.h)(s.address,a.address))&&(o.nonce+=1)),o}async function hW(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,y.b)(e))}async function hz(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function hq(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function hH(e,t){let{account:r=e.account}=t;if(!r)throw new hI({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,l2.J)(r);if(!n.signAuthorization)throw new hS({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await hB(e,t);return n.signAuthorization(i)}async function hV(e,{account:t=e.account,message:r}){if(!t)throw new hI({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,l2.J)(t);if(n.signMessage)return n.signMessage({message:r});let i="string"==typeof r?(0,w.i3)(r):r.raw instanceof Uint8Array?(0,w.nj)(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function hG(e,t){let{account:r=e.account,chain:n=e.chain,...i}=t;if(!r)throw new hI({docsPath:"/docs/actions/wallet/signTransaction"});let a=(0,l2.J)(r);(0,cz.c)({account:a,...t});let s=await cu(e,dS,"getChainId")({});null!==n&&hP({currentChainId:s,chain:n});let o=n?.formatters||e.chain?.formatters,l=o?.transactionRequest?.format||cW.Bv;return a.signTransaction?a.signTransaction({...i,chainId:s},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(i),chainId:(0,w.cK)(s),from:a.address}]},{retryCount:0})}async function hK(e,t){let{account:r=e.account,domain:n,message:i,primaryType:a}=t;if(!r)throw new hI({docsPath:"/docs/actions/wallet/signTypedData"});let s=(0,l2.J)(r),o={EIP712Domain:hn({domain:n}),...t.types};if(hr({domain:n,message:i,primaryType:a,types:o}),s.signTypedData)return s.signTypedData({domain:n,message:i,primaryType:a,types:o});let l=function(e){let{domain:t,message:r,primaryType:n,types:i}=e,a=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},s=i.EIP712Domain&&t?a(i.EIP712Domain,t):{},o=(()=>{if("EIP712Domain"!==n)return a(i[n],r)})();return(0,u8.A)({domain:s,message:o,primaryType:n,types:i})}({domain:n,message:i,primaryType:a,types:o});return e.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function hJ(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,w.cK)(t)}]},{retryCount:0})}async function hY(e,t){let r,{id:n,pollingInterval:i=e.pollingInterval,status:a=({statusCode:e})=>e>=200,timeout:s=6e4}=t,o=(0,u8.A)(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:c,reject:d}=(0,hd.Y)(),u=hc(o,{resolve:c,reject:d},t=>{let s=hp(async()=>{let i=e=>{clearTimeout(r),s(),e(),u()};try{let r=await hL(e,{id:n});if(!a(r))return;i(()=>t.resolve(r))}catch(e){i(()=>t.reject(e))}},{interval:i,emitOnBegin:!0});return s});return r=s?setTimeout(()=>{u(),clearTimeout(r),d(new hZ({id:n}))},s):void 0,await l}class hZ extends ct.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function hQ(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function hX(e,t){let{abi:r,account:n=e.account,address:i,args:a,dataSuffix:s,functionName:o,...l}=t;if(void 0===n)throw new hI({docsPath:"/docs/contract/writeContract"});let c=n?(0,l2.J)(n):null,d=(0,l8.p)({abi:r,args:a,functionName:o});try{return await cu(e,hO,"sendTransaction")({data:`${d}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(e){throw cg(e,{abi:r,address:i,args:a,docsPath:"/docs/contract/writeContract",functionName:o,sender:c?.address})}}function h0(e){return{addChain:t=>hA(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,...a}=t,s=(0,u0.m)({abi:r,args:n,bytecode:i});return hO(e,{...a,...a.authorizationList?{to:null}:{},data:s})})(e,t),getAddresses:()=>h$(e),getCallsStatus:t=>hL(e,t),getCapabilities:t=>hU(e,t),getChainId:()=>dS(e),getPermissions:()=>hF(e),prepareAuthorization:t=>hB(e,t),prepareTransactionRequest:t=>dj(e,t),requestAddresses:()=>hW(e),requestPermissions:t=>hz(e,t),sendCalls:t=>hD(e,t),sendRawTransaction:t=>hv(e,t),sendTransaction:t=>hO(e,t),showCallsStatus:t=>hq(e,t),signAuthorization:t=>hH(e,t),signMessage:t=>hV(e,t),signTransaction:t=>hG(e,t),signTypedData:t=>hK(e,t),switchChain:t=>hJ(e,t),waitForCallsStatus:t=>hY(e,t),watchAsset:t=>hQ(e,t),writeContract:t=>hX(e,t)}}function h1(e){let{key:t="wallet",name:r="Wallet Client",transport:n}=e;return l5({...e,key:t,name:r,transport:n,type:"walletClient"}).extend(h0)}var h2=r(25311);function h3(e,t={}){let{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:a}=t;return({retryCount:s})=>(0,h2.o)({key:r,methods:n,name:i,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:a,type:"custom"})}var h5=r(64044);class h4{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){let t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new h4("CBWSDK").clear(),new h4("walletlink").clear()}}let h6={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},h8={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},h9="Unspecified error message.";function h7(e,t=h9){if(e&&Number.isInteger(e)){var r;let t=e.toString();if(pt(h8,t))return h8[t].message;if((r=e)>=-32099&&r<=-32e3)return"Unspecified server error."}return t}function pe(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pr(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}let pn={rpc:{parse:e=>pi(h6.rpc.parse,e),invalidRequest:e=>pi(h6.rpc.invalidRequest,e),invalidParams:e=>pi(h6.rpc.invalidParams,e),methodNotFound:e=>pi(h6.rpc.methodNotFound,e),internal:e=>pi(h6.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return pi(t,e)},invalidInput:e=>pi(h6.rpc.invalidInput,e),resourceNotFound:e=>pi(h6.rpc.resourceNotFound,e),resourceUnavailable:e=>pi(h6.rpc.resourceUnavailable,e),transactionRejected:e=>pi(h6.rpc.transactionRejected,e),methodNotSupported:e=>pi(h6.rpc.methodNotSupported,e),limitExceeded:e=>pi(h6.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>pa(h6.provider.userRejectedRequest,e),unauthorized:e=>pa(h6.provider.unauthorized,e),unsupportedMethod:e=>pa(h6.provider.unsupportedMethod,e),disconnected:e=>pa(h6.provider.disconnected,e),chainDisconnected:e=>pa(h6.provider.chainDisconnected,e),unsupportedChain:e=>pa(h6.provider.unsupportedChain,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new pl(t,r,n)}}};function pi(e,t){let[r,n]=ps(t);return new po(e,r||h7(e),n)}function pa(e,t){let[r,n]=ps(t);return new pl(e,r||h7(e),n)}function ps(e){if(e){if("string"==typeof e)return[e];else if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}class po extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}}class pl extends po{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}let pc=e=>e,pd=e=>e,pu=e=>e;function ph(e){return Math.floor(e)}var pp=r(72076).Buffer;let pf=/^[0-9]*$/,pg=/^[a-f0-9]*$/;function pm(e){return py(crypto.getRandomValues(new Uint8Array(e)))}function py(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function pw(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function pv(e,t=!1){let r=e.toString("hex");return pc(t?`0x${r}`:r)}function pb(e){return pv(pT(e),!0)}function px(e){return pu(e.toString(10))}function pE(e){return pc(`0x${BigInt(e).toString(16)}`)}function p_(e){return e.startsWith("0x")||e.startsWith("0X")}function pC(e){return p_(e)?e.slice(2):e}function pk(e){return p_(e)?`0x${e.slice(2)}`:`0x${e}`}function pA(e){if("string"!=typeof e)return!1;let t=pC(e).toLowerCase();return pg.test(t)}function pI(e,t=!1){let r=function(e,t=!1){if("string"==typeof e){let r=pC(e).toLowerCase();if(pg.test(r))return pc(t?`0x${r}`:r)}throw pn.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}(e,!1);return r.length%2==1&&(r=pc(`0${r}`)),t?pc(`0x${r}`):r}function pS(e){if("string"==typeof e){let t=pC(e).toLowerCase();if(pA(t)&&40===t.length)return pd(pk(t))}throw pn.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}function pT(e){if(pp.isBuffer(e))return e;if("string"==typeof e){if(pA(e)){let t=pI(e,!1);return pp.from(t,"hex")}return pp.from(e,"utf8")}throw pn.rpc.invalidParams(`Not binary data: ${String(e)}`)}function pP(e){if("number"==typeof e&&Number.isInteger(e))return ph(e);if("string"==typeof e){if(pf.test(e))return ph(Number(e));if(pA(e))return ph(Number(BigInt(pI(e,!0))))}throw pn.rpc.invalidParams(`Not an integer: ${String(e)}`)}function pj(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(pP(e));if("string"==typeof e){if(pf.test(e))return BigInt(e);if(pA(e))return BigInt(pI(e,!0))}throw pn.rpc.invalidParams(`Not an integer: ${String(e)}`)}async function pN(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function pO(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function p$(e,t){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}async function pM(e,{iv:t,cipherText:r}){let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}function pR(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function pD(e,t){let r=pR(e);return py(new Uint8Array(await crypto.subtle.exportKey(r,t)))}async function pL(e,t){let r=pR(e),n=pw(t).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}async function pU(e,t){return p$(t,JSON.stringify(e,(e,t)=>t instanceof Error?Object.assign(Object.assign({},t.code?{code:t.code}:{}),{message:t.message}):t))}async function pF(e,t){return JSON.parse(await pM(t,e))}let pB={storageKey:"ownPrivateKey",keyType:"private"},pW={storageKey:"ownPublicKey",keyType:"public"},pz={storageKey:"peerPublicKey",keyType:"public"};class pq{constructor(){this.storage=new h4("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(pz,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(pW.storageKey),this.storage.removeItem(pB.storageKey),this.storage.removeItem(pz.storageKey)}async generateKeyPair(){let e=await pN();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(pB,e.privateKey),await this.storeKey(pW,e.publicKey)}async loadKeysIfNeeded(){null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(pB)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(pW)),(null===this.ownPrivateKey||null===this.ownPublicKey)&&await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(pz)),null===this.sharedSecret&&null!==this.ownPrivateKey&&null!==this.peerPublicKey&&(this.sharedSecret=await pO(this.ownPrivateKey,this.peerPublicKey))}async loadKey(e){let t=this.storage.getItem(e.storageKey);return t?pL(e.keyType,t):null}async storeKey(e,t){let r=await pD(e.keyType,t);this.storage.setItem(e.storageKey,r)}}let pH="4.3.3",pV="@coinbase/wallet-sdk";async function pG(e,t){let r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(t,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":pH,"X-Cbw-Sdk-Platform":pV}}),{result:i,error:a}=await n.json();if(a)throw a;return i}let pK="accounts",pJ="activeChain",pY="availableChains",pZ="walletCapabilities";class pQ{constructor(e){var t,r,n;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new pq,this.storage=new h4("CBWSDK","SCWStateManager"),this.accounts=null!=(t=this.storage.loadObject(pK))?t:[],this.chain=this.storage.loadObject(pJ)||{id:null!=(n=null==(r=e.metadata.appChainIds)?void 0:r[0])?n:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,r,n,i;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,null!=(n=e.params)?n:{})}}),s=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in s.content)throw s.content.failure;let o=await pL("public",s.sender);await this.keyManager.setPeerPublicKey(o);let l=(await this.decryptResponseMessage(s)).result;if("error"in l)throw l.error;if("eth_requestAccounts"===e.method){let e=l.value;this.accounts=e,this.storage.storeObject(pK,e),null==(i=this.callback)||i.call(this,"accountsChanged",e)}}async request(e){var t;if(0===this.accounts.length)if("wallet_sendCalls"===e.method)return this.sendRequestToPopup(e);else throw pn.provider.unauthorized();switch(e.method){case"eth_requestAccounts":return null==(t=this.callback)||t.call(this,"connect",{chainId:pE(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return pE(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(pZ);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw pn.rpc.internal("No RPC URL set for chain");return pG(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,r;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let n=await this.sendEncryptedRequest(e),i=(await this.decryptResponseMessage(n)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:null!=(t=null==(e=this.metadata.appChainIds)?void 0:e[0])?t:1}}async handleSwitchChainRequest(e){var t;let r=e.params;if(!r||!(null==(t=r[0])?void 0:t.chainId))throw pn.rpc.invalidParams();let n=pP(r[0].chainId);if(this.updateChain(n))return null;let i=await this.sendRequestToPopup(e);return null===i&&this.updateChain(n),i}async sendEncryptedRequest(e){let t=await this.keyManager.getSharedSecret();if(!t)throw pn.provider.unauthorized("No valid session found, try requestAccounts before other methods");let r=await pU({action:e,chainId:this.chain.id},t),n=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(n)}async createRequestMessage(e){let t=await pD("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,r;let n=e.content;if("failure"in n)throw n.failure;let i=await this.keyManager.getSharedSecret();if(!i)throw pn.provider.unauthorized("Invalid session");let a=await pF(n.encrypted,i),s=null==(t=a.data)?void 0:t.chains;if(s){let e=Object.entries(s).map(([e,t])=>({id:Number(e),rpcUrl:t}));this.storage.storeObject(pY,e),this.updateChain(this.chain.id,e)}let o=null==(r=a.data)?void 0:r.capabilities;return o&&this.storage.storeObject(pZ,o),a}updateChain(e,t){var r;let n=null!=t?t:this.storage.loadObject(pY),i=null==n?void 0:n.find(t=>t.id===e);return!!i&&(i!==this.chain&&(this.chain=i,this.storage.storeObject(pJ,i),null==(r=this.callback)||r.call(this,"chainChanged",pE(i.id))),!0)}}var pX=r(23972);let p0="Addresses";function p1(e){return void 0!==e.errorMessage}class p2{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",pw(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),s=a.slice(a.byteLength-16),o=a.slice(0,a.byteLength-16),l=new Uint8Array(s),c=new Uint8Array(o);return py(new Uint8Array([...r,...l,...c]))}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((r,n)=>{!async function(){let i=await crypto.subtle.importKey("raw",pw(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=pw(e),s=a.slice(0,12),o=a.slice(12,28),l=new Uint8Array([...a.slice(28),...o]),c={name:"AES-GCM",iv:new Uint8Array(s)};try{let e=await window.crypto.subtle.decrypt(c,i,l),t=new TextDecoder;r(t.decode(e))}catch(e){n(e)}}()})}}class p3{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;let n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:r,error:n}=await t.json();if(n)throw Error(`Check unseen events failed: ${n}`);let i=null!=(e=null==r?void 0:r.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(fa||(fa={}));class p5{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var r;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(e){t(e);return}null==(r=this.connectionStateListener)||r.call(this,fa.CONNECTING),n.onclose=e=>{var r;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null==(r=this.connectionStateListener)||r.call(this,fa.DISCONNECTED)},n.onopen=t=>{var r;e(),null==(r=this.connectionStateListener)||r.call(this,fa.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},n.onmessage=e=>{var t,r;if("h"===e.data)null==(t=this.incomingDataListener)||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null==(r=this.incomingDataListener)||r.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null==(e=this.connectionStateListener)||e.call(this,fa.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}class p4{constructor({session:e,linkAPIUrl:t,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=ph(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,r)=>{let n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=e=>{var t;"1"===e&&(null==(t=this.listener)||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;let r=await this.cipher.decrypt(e);null==(t=this.listener)||t.accountUpdated(r)},this.handleMetadataUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(t);null==(r=this.listener)||r.metadataUpdated(e,n)},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null==(r=this.listener)||r.chainUpdated(n,i)},this.session=e,this.cipher=new p2(e.secret),this.listener=r;let n=new p5(`${t}/rpc`,WebSocket);n.setConnectionStateListener(async e=>{let t=!1;switch(e){case fa.DISCONNECTED:if(this.stopHeartbeat(),!this.destroyed){let e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||n.connect().catch(()=>{e()})};e()}break;case fa.CONNECTED:t=await this.handleConnected(),this.updateLastHeartbeat(),this.startHeartbeat(),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case fa.CONNECTING:}this.connected!==t&&(this.connected=t)}),n.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null==(t=this.requestResolutions.get(e.id))||t(e))}),this.ws=n,this.http=new p3(t,e.id,e.key)}connect(){if(this.destroyed)throw Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:ph(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.stopHeartbeat(),this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null==(t=this.onceLinked)||t.call(this)),null==(r=this.listener)||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"!==e.type||"Web3Response"!==e.event)return;let r=JSON.parse(await this.cipher.decrypt(e.data));if("WEB3_RESPONSE"!==r.type)return;let{id:n,response:i}=r;null==(t=this.listener)||t.handleWeb3ResponseMessage(n,i)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async publishEvent(e,t,r=!1){let n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:ph(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:r};return this.setOnceLinked(async()=>{let e=await this.makeRequest(i);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}startHeartbeat(){this.heartbeatWorker&&this.heartbeatWorker.terminate();try{let e=new r.U(r(57141));this.heartbeatWorker=new Worker(e,{type:"module"}),this.setupWorkerListeners(),this.heartbeatWorker.postMessage({type:"start"})}catch(e){console.warn("Failed to create external heartbeat worker",e)}}setupWorkerListeners(){this.heartbeatWorker&&(this.heartbeatWorker.addEventListener("message",e=>{let{type:t}=e.data;"heartbeat"===t&&this.heartbeat()}),this.heartbeatWorker.addEventListener("error",e=>{console.error("Heartbeat worker error:",e)}))}stopHeartbeat(){this.heartbeatWorker&&(this.heartbeatWorker.postMessage({type:"stop"}),this.heartbeatWorker.terminate(),this.heartbeatWorker=void 0)}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)return void this.ws.disconnect();try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){let r,n=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(Error(`request ${n} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:ph(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:ph(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:ph(this.nextReqId++),sessionId:this.session.id}),!0)}}class p6{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%0x7fffffff;let e=this._nextRequestId,t=pk(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}var p8=r(69214);let p9="session:id",p7="session:secret",fe="session:linked";class ft{constructor(e,t,r,n=!1){this.storage=e,this.id=t,this.secret=r,this.key=(0,p8.My)((0,dk.sc)(`${t}, ${r} WalletLink`)),this._linked=!!n}static create(e){return new ft(e,pm(16),pm(32)).save()}static load(e){let t=e.getItem(p9),r=e.getItem(fe),n=e.getItem(p7);return t&&n?new ft(e,t,n,"1"===r):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(p9,this.id),this.storage.setItem(p7,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(fe,this._linked?"1":"0")}}function fr(){var e,t;return null!=(t=null==(e=null==window?void 0:window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&t}function fn(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}function fi(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n);else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}(e))&&(n&&(n+=" "),n+=t);return n}var fa,fs,fo,fl,fc,fd,fu,fh,fp,ff,fg,fm,fy={},fw=[],fv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fb=Array.isArray;function fx(e,t){for(var r in t)e[r]=t[r];return e}function fE(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function f_(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?fs.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return fC(e,s,n,i,null)}function fC(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++fl:i,__i:-1,__u:0};return null==i&&null!=fo.vnode&&fo.vnode(a),a}function fk(e){return e.children}function fA(e,t){this.props=e,this.context=t}function fI(e,t){if(null==t)return e.__?fI(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?fI(e):null}function fS(e){(!e.__d&&(e.__d=!0)&&fc.push(e)&&!fT.__r++||fd!=fo.debounceRendering)&&((fd=fo.debounceRendering)||fu)(fT)}function fT(){for(var e,t,r,n,i,a,s=1;fc.length;)fc.length>s&&fc.sort(fh),e=fc.shift(),s=fc.length,e.__d&&(t=void 0,n=(r=e.__v).__e,i=[],a=[],e.__P&&((t=fx({},r)).__v=r.__v+1,fo.vnode&&fo.vnode(t),f$(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,i,null==n?fI(r):n,!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,fM(i,t,a),t.__e!=n&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(t)));fT.__r=0}function fP(e,t,r,n,i,a,s,o,l,c,d){var u,h,p,f,g,m,y=n&&n.__k||fw,w=t.length;for(l=function(e,t,r,n,i){var a,s,o,l,c,d=r.length,u=d,h=0;for(e.__k=Array(i),a=0;a<i;a++)null!=(s=t[a])&&"boolean"!=typeof s&&"function"!=typeof s?(l=a+h,(s=e.__k[a]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?fC(null,s,null,null,null):fb(s)?fC(fk,{children:s},null,null,null):null==s.constructor&&s.__b>0?fC(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,o=null,-1!=(c=s.__i=function(e,t,r,n){var i,a,s=e.key,o=e.type,l=t[r];if(null===l&&null==e.key||l&&s==l.key&&o==l.type&&0==(2&l.__u))return r;if(n>+(null!=l&&0==(2&l.__u)))for(i=r-1,a=r+1;i>=0||a<t.length;){if(i>=0){if((l=t[i])&&0==(2&l.__u)&&s==l.key&&o==l.type)return i;i--}if(a<t.length){if((l=t[a])&&0==(2&l.__u)&&s==l.key&&o==l.type)return a;a++}}return -1}(s,r,l,u))&&(u--,(o=r[c])&&(o.__u|=2)),null==o||null==o.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof s.type&&(s.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,s.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<d;a++)null!=(o=r[a])&&0==(2&o.__u)&&(o.__e==n&&(n=fI(o)),function e(t,r,n){var i,a;if(fo.unmount&&fo.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||fR(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){fo.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||fE(t.__e),t.__c=t.__=t.__e=void 0}(o,o));return n}(r,t,y,l,w),u=0;u<w;u++)null!=(p=r.__k[u])&&(h=-1==p.__i?fy:y[p.__i]||fy,p.__i=u,m=f$(e,p,h,i,a,s,o,l,c,d),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&fR(h.ref,null,p),d.push(p.ref,p.__c||f,p)),null==g&&null!=f&&(g=f),4&p.__u||h.__k===p.__k?l=function e(t,r,n){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,r=e(i[a],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=fI(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8==r.nodeType);return r}(p,l,e):"function"==typeof p.type&&void 0!==m?l=m:f&&(l=f.nextSibling),p.__u&=-7);return r.__e=g,l}function fj(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||fv.test(t)?r:r+"px"}function fN(e,t,r,n,i){var a,s;e:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||fj(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||fj(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])a=t!=(t=t.replace(fp,"$1")),t=(s=t.toLowerCase())in e||"onFocusOut"==t||"onFocusIn"==t?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=ff,e.addEventListener(t,a?fm:fg,a)):e.removeEventListener(t,a?fm:fg,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function fO(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=ff++;else if(t.t<r.u)return;return r(fo.event?fo.event(t):t)}}}function f$(e,t,r,n,i,a,s,o,l,c){var d,u,h,p,f,g,m,y,w,v,b,x,E,_,C,k,A,I=t.type;if(null!=t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),a=[o=t.__e=r.__e]),(d=fo.__b)&&d(t);e:if("function"==typeof I)try{if(y=t.props,w="prototype"in I&&I.prototype.render,v=(d=I.contextType)&&n[d.__c],b=d?v?v.props.value:d.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:(w?t.__c=u=new I(y,b):(t.__c=u=new fA(y,b),u.constructor=I,u.render=fD),v&&v.sub(u),u.props=y,u.state||(u.state={}),u.context=b,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),w&&null==u.__s&&(u.__s=u.state),w&&null!=I.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=fx({},u.__s)),fx(u.__s,I.getDerivedStateFromProps(y,u.__s))),p=u.props,f=u.state,u.__v=t,h)w&&null==I.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),w&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(w&&null==I.getDerivedStateFromProps&&y!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(y,b),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(y,u.__s,b)||t.__v==r.__v){for(t.__v!=r.__v&&(u.props=y,u.state=u.__s,u.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(y,u.__s,b),w&&null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,f,g)})}if(u.context=b,u.props=y,u.__P=e,u.__e=!1,E=fo.__r,_=0,w){for(u.state=u.__s,u.__d=!1,E&&E(t),d=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,E&&E(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++_<25);u.state=u.__s,null!=u.getChildContext&&(n=fx(fx({},n),u.getChildContext())),w&&!h&&null!=u.getSnapshotBeforeUpdate&&(g=u.getSnapshotBeforeUpdate(p,f)),k=d,null!=d&&d.type===fk&&null==d.key&&(k=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:fb(t)?t.map(e):fx({},t)}(d.props.children)),o=fP(e,fb(k)?k:[k],t,r,n,i,a,s,o,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),m&&(u.__E=u.__=null)}catch(e){if(t.__v=null,l||null!=a)if(e.then){for(t.__u|=l?160:128;o&&8==o.nodeType&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,t.__e=o}else for(A=a.length;A--;)fE(a[A]);else t.__e=r.__e,t.__k=r.__k;fo.__e(e,t,r)}else null==a&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):o=t.__e=function(e,t,r,n,i,a,s,o,l){var c,d,u,h,p,f,g,m=r.props,y=t.props,w=t.type;if("svg"==w?i="http://www.w3.org/2000/svg":"math"==w?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a){for(c=0;c<a.length;c++)if((p=a[c])&&"setAttribute"in p==!!w&&(w?p.localName==w:3==p.nodeType)){e=p,a[c]=null;break}}if(null==e){if(null==w)return document.createTextNode(y);e=document.createElementNS(i,w,y.is&&y),o&&(fo.__m&&fo.__m(t,a),o=!1),a=null}if(null==w)m===y||o&&e.data==y||(e.data=y);else{if(a=a&&fs.call(e.childNodes),m=r.props||fy,!o&&null!=a)for(m={},c=0;c<e.attributes.length;c++)m[(p=e.attributes[c]).name]=p.value;for(c in m)if(p=m[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in y)){if("value"==c&&"defaultValue"in y||"checked"==c&&"defaultChecked"in y)continue;fN(e,c,null,p,i)}for(c in y)p=y[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?f=p:"checked"==c?g=p:o&&"function"!=typeof p||m[c]===p||fN(e,c,p,m[c],i);if(d)o||u&&(d.__html==u.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),fP("template"==t.type?e.content:e,fb(h)?h:[h],t,r,n,"foreignObject"==w?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:r.__k&&fI(r,0),o,l),null!=a)for(c=a.length;c--;)fE(a[c]);o||(c="value","progress"==w&&null==f?e.removeAttribute("value"):null==f||f===e[c]&&("progress"!=w||f)&&("option"!=w||f==m[c])||fN(e,c,f,m[c],i),c="checked",null!=g&&g!=e[c]&&fN(e,c,g,m[c],i))}return e}(r.__e,t,r,n,i,a,s,l,c);return(d=fo.diffed)&&d(t),128&t.__u?void 0:o}function fM(e,t,r){for(var n=0;n<r.length;n++)fR(r[n],r[++n],r[++n]);fo.__c&&fo.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){fo.__e(e,t.__v)}})}function fR(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){fo.__e(e,r)}}function fD(e,t,r){return this.constructor(e,r)}function fL(e,t,r){var n,i,a,s;t==document&&(t=document.documentElement),fo.__&&fo.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,a=[],s=[],f$(t,e=(!n&&r||t).__k=f_(fk,null,[e]),i||fy,fy,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?fs.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n,s),fM(a,e,s)}function fU(e,t){fL(e,t,fU)}fs=fw.slice,fo={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},fl=0,fA.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=fx({},this.state),"function"==typeof e&&(e=e(fx({},r),this.props)),e&&fx(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),fS(this))},fA.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),fS(this))},fA.prototype.render=fk,fc=[],fu="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fh=function(e,t){return e.__v.__b-t.__v.__b},fT.__r=0,fp=/(PointerCapture)$|Capture$/i,ff=0,fg=fO(!1),fm=fO(!0);var fF,fB,fW,fz,fq=0,fH=[],fV=fo,fG=fV.__b,fK=fV.__r,fJ=fV.diffed,fY=fV.__c,fZ=fV.unmount,fQ=fV.__;function fX(e,t){fV.__h&&fV.__h(fB,e,fq||t),fq=0;var r=fB.__H||(fB.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function f0(e){return fq=1,function(e,t,r){var n=fX(fF++,2);if(n.t=e,!n.__c&&(n.__=[f6(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=fB,!fB.__f)){var i=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!a||a.call(this,e,t,r);var s=n.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}}),a&&a.call(this,e,t,r)||s};fB.__f=!0;var a=fB.shouldComponentUpdate,s=fB.componentWillUpdate;fB.componentWillUpdate=function(e,t,r){if(this.__e){var n=a;a=void 0,i(e,t,r),a=n}s&&s.call(this,e,t,r)},fB.shouldComponentUpdate=i}return n.__N||n.__}(f6,e)}function f1(){for(var e;e=fH.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(f3),e.__H.__h.forEach(f5),e.__H.__h=[]}catch(t){e.__H.__h=[],fV.__e(t,e.__v)}}fV.__b=function(e){fB=null,fG&&fG(e)},fV.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),fQ&&fQ(e,t)},fV.__r=function(e){fK&&fK(e),fF=0;var t=(fB=e.__c).__H;t&&(fW===fB?(t.__h=[],fB.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(f3),t.__h.forEach(f5),t.__h=[],fF=0)),fW=fB},fV.diffed=function(e){fJ&&fJ(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==fH.push(t)&&fz===fV.requestAnimationFrame||((fz=fV.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),f2&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);f2&&(t=requestAnimationFrame(r))})(f1)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),fW=fB=null},fV.__c=function(e,t){t.some(function(e){try{e.__h.forEach(f3),e.__h=e.__h.filter(function(e){return!e.__||f5(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],fV.__e(r,e.__v)}}),fY&&fY(e,t)},fV.unmount=function(e){fZ&&fZ(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{f3(e)}catch(e){t=e}}),r.__H=void 0,t&&fV.__e(t,r.__v))};var f2="function"==typeof requestAnimationFrame;function f3(e){var t=fB,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),fB=t}function f5(e){var t=fB;e.__c=e.__(),fB=t}function f4(e,t){return!e||e.length!==t.length||t.some(function(t,r){return t!==e[r]})}function f6(e,t){return"function"==typeof t?t(e):t}class f8{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=fr()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&fL(f_("div",null,f_(f9,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>f_(f7,Object.assign({},t,{key:e}))))),this.root)}}let f9=e=>f_("div",{class:fi("-cbwsdk-snackbar-container")},f_("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),f_("div",{class:"-cbwsdk-snackbar"},e.children)),f7=({autoExpand:e,message:t,menuItems:r})=>{let[n,i]=f0(!0),[a,s]=f0(null!=e&&e);return!function(e,t){var r=fX(fF++,3);!fV.__s&&f4(r.__H,void 0)&&(r.__=e,r.u=void 0,fB.__H.__h.push(r))}(()=>{let e=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),f_("div",{class:fi("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",a&&"-cbwsdk-snackbar-instance-expanded")},f_("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{s(!a)}},f_("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",f_("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),f_("div",{class:"-gear-container"},!a&&f_("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f_("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),f_("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&f_("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((e,t)=>f_("div",{class:fi("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},f_("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f_("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),f_("span",{class:fi("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},ge="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class gt{constructor(){this.attached=!1,this.snackbar=new f8}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,fn()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:ge,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}class gr{constructor(){this.root=null,this.darkMode=fr()}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),fn()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(fL(null,this.root),e&&fL(f_(gn,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}let gn=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>f_(f9,{darkMode:r},f_("div",{class:"-cbwsdk-redirect-dialog"},f_("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),f_("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),f_("div",{class:fi("-cbwsdk-redirect-dialog-box",r?"dark":"light")},f_("p",null,e),f_("button",{onClick:n},t)))),gi="https://www.walletlink.org";class ga{constructor(){this.attached=!1,this.redirectDialog=new gr}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{if(function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top)return window.top.location;return window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);let r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class gs{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)}(),this.linkedUpdated=e=>{this.isLinked=e;let t=this.storage.getItem(p0);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){let r=t.split(" "),n="true"===this.storage.getItem("IsStandaloneSigning");""===r[0]||e||!this._session.linked||n||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),gs.accountRequestCallbackIds.size>0&&(Array.from(gs.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),gs.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;let{session:t,ui:r,connection:n}=this.subscribe();this._session=t,this.connection=n,this.relayEventManager=new p6,this.ui=r,this.ui.attach()}subscribe(){let e=ft.load(this.storage)||ft.create(this.storage),{linkAPIUrl:t}=this,r=new p4({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new ga:new gt;return r.connect(),{session:e,ui:n,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{let e=ft.load(this.storage);(null==e?void 0:e.id)===this._session.id&&h4.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:px(e.weiValue),data:pv(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?px(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?px(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?px(e.gasPriceInWei):null,gasLimit:e.gasLimit?px(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:px(e.weiValue),data:pv(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?px(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?px(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?px(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?px(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:pv(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null,r=pm(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return new Promise((i,a)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,e=>{if(null==t||t(),p1(e))return a(Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,t){let r={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",r,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(r.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof ga)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method){gs.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),gs.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,r){var n;let i=null!=(n=null==r?void 0:r.message)?n:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){let r=this.relayEventManager.callbacks.get(e);r&&(r(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){let{appName:e,appLogoUrl:t}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},n=pm(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(n,r=>{if(p1(r))return t(Error(r.errorMessage));e(r)}),gs.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,r)})}watchAsset(e,t,r,n,i,a){let s={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:i},chainId:a}},o=null,l=pm(8);return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,s.method,e),null==o||o()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),p1(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,s)})}addEthereumChain(e,t,r,n,i,a){let s={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:a}},o=null,l=pm(8);return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,s.method,e),null==o||o()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),p1(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,s)})}switchEthereumChain(e,t){let r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},n=null,i=pm(8);return n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,e),null==n||n()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,r=>(null==n||n(),p1(r)&&r.errorCode)?t(pn.provider.custom({code:r.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):p1(r)?t(Error(r.errorMessage)):void e(r)),this.publishWeb3RequestEvent(i,r)})}}gs.accountRequestCallbackIds=new Set;var go=r(72076).Buffer;let gl="DefaultChainId",gc="DefaultJsonRpcUrl";class gd{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new h4("walletlink",gi),this.callback=e.callback||null;let t=this._storage.getItem(p0);if(t){let e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>pS(e)))}this.initializeRelay()}getSession(){let{id:e,secret:t}=this.initializeRelay().getWalletLinkSession();return{id:e,secret:t}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!=(e=this._storage.getItem(gc))?e:void 0}set jsonRpcUrl(e){this._storage.setItem(gc,e)}updateProviderInfo(e,t){var r;this.jsonRpcUrl=e;let n=this.getChainId();this._storage.setItem(gl,t.toString(10)),pP(t)!==n&&(null==(r=this.callback)||r.call(this,"chainChanged",pE(t)))}async watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw pn.rpc.invalidParams("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw pn.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw pn.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw pn.rpc.invalidParams("Address is required");let r=this.getChainId(),{address:n,symbol:i,image:a,decimals:s}=t.options,o=this.initializeRelay(),l=await o.watchAsset(t.type,n,i,s,a,null==r?void 0:r.toString());return!p1(l)&&!!l.result}async addEthereumChain(e){var t,r;let n=e[0];if((null==(t=n.rpcUrls)?void 0:t.length)===0)throw pn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!n.chainName||""===n.chainName.trim())throw pn.rpc.invalidParams("chainName is a required field");if(!n.nativeCurrency)throw pn.rpc.invalidParams("nativeCurrency is a required field");let i=Number.parseInt(n.chainId,16);if(i===this.getChainId())return!1;let a=this.initializeRelay(),{rpcUrls:s=[],blockExplorerUrls:o=[],chainName:l,iconUrls:c=[],nativeCurrency:d}=n,u=await a.addEthereumChain(i.toString(),s,c,o,l,d);if(p1(u))return!1;if((null==(r=u.result)?void 0:r.isApproved)===!0)return this.updateProviderInfo(s[0],i),null;throw pn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){let t=Number.parseInt(e[0].chainId,16),r=this.initializeRelay(),n=await r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if(p1(n))throw n;let i=n.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var r;if(!Array.isArray(e))throw Error("addresses is not an array");let n=e.map(e=>pS(e));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,null==(r=this.callback)||r.call(this,"accountsChanged",n),this._storage.setItem(p0,n.join(" ")))}async request(e){let t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return pE(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw pn.rpc.internal("No RPC URL set for chain");return pG(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){let t=pS(e);if(!this._addresses.map(e=>pS(e)).includes(t))throw Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?pS(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let r=e.to?pS(e.to):null,n=null!=e.value?pj(e.value):BigInt(0),i=e.data?pT(e.data):go.alloc(0),a=null!=e.nonce?pP(e.nonce):null,s=null!=e.gasPrice?pj(e.gasPrice):null,o=null!=e.maxFeePerGas?pj(e.maxFeePerGas):null,l=null!=e.maxPriorityFeePerGas?pj(e.maxPriorityFeePerGas):null;return{fromAddress:t,toAddress:r,weiValue:n,data:i,nonce:a,gasPriceInWei:s,maxFeePerGas:o,maxPriorityFeePerGas:l,gasLimit:null!=e.gas?pj(e.gas):null,chainId:e.chainId?pP(e.chainId):this.getChainId()}}async ecRecover(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw pn.rpc.invalidParams();let n=this.initializeRelay(),i=await n.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:pb(r[0]),signature:pb(r[1]),addPrefix:"personal_ecRecover"===t}});if(p1(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!=(e=this._storage.getItem(gl))?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null==(e=this.callback)||e.call(this,"connect",{chainId:pE(this.getChainId())}),this._addresses;let r=this.initializeRelay(),n=await r.requestEthereumAccounts();if(p1(n))throw n;if(!n.result)throw Error("accounts received is empty");return this._setAddresses(n.result),null==(t=this.callback)||t.call(this,"connect",{chainId:pE(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw pn.rpc.invalidParams();let t=e[1],r=e[0];this._ensureKnownAddress(t);let n=this.initializeRelay(),i=await n.sendRequest({method:"signEthereumMessage",params:{address:pS(t),message:pb(r),addPrefix:!0,typedDataJson:null}});if(p1(i))throw i;return i.result}async _eth_signTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signEthereumTransaction(t);if(p1(n))throw n;return n.result}async _eth_sendRawTransaction(e){let t=pT(e[0]),r=this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId());if(p1(n))throw n;return n.result}async _eth_sendTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signAndSubmitEthereumTransaction(t);if(p1(n))throw n;return n.result}async signTypedData(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw pn.rpc.invalidParams();let n=r[+("eth_signTypedData_v1"===t)],i=r[+("eth_signTypedData_v1"!==t)];this._ensureKnownAddress(n);let a=this.initializeRelay(),s=await a.sendRequest({method:"signEthereumMessage",params:{address:pS(n),message:pv(({eth_signTypedData_v1:pX.hashForSignTypedDataLegacy,eth_signTypedData_v3:pX.hashForSignTypedData_v3,eth_signTypedData_v4:pX.hashForSignTypedData_v4,eth_signTypedData:pX.hashForSignTypedData_v4})[t]({data:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw pn.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}(i)}),!0),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(p1(s))throw s;return s.result}initializeRelay(){return this._relay||(this._relay=new gs({linkAPIUrl:gi,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}let gu="SignerType",gh=new h4("CBWSDK","SignerConfigurator");async function gp(e){let{communicator:t,metadata:r,handshakeRequest:n,callback:i}=e;gf(t,r,i).catch(()=>{});let a={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:n})},{data:s}=await t.postRequestAndWaitForResponse(a);return s}async function gf(e,t,r){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);let n=new gd({metadata:t,callback:r});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}let gg=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,{checkCrossOriginOpenerPolicy:gm,getCrossOriginOpenerPolicy:gy}=(()=>{let e;return{getCrossOriginOpenerPolicy:()=>void 0===e?"undefined":e,checkCrossOriginOpenerPolicy:async()=>{if("undefined"==typeof window){e="non-browser-env";return}try{let t=`${window.location.origin}${window.location.pathname}`,r=await fetch(t,{method:"HEAD"});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let n=r.headers.get("Cross-Origin-Opener-Policy");e=null!=n?n:"null","same-origin"===e&&console.error(gg)}catch(t){console.error("Error checking Cross-Origin-Opener-Policy:",t.message),e="error"}}}})(),gw={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:ge,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},gv=null;class gb{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,r)=>{let n=r=>{if(r.origin!==this.url.origin)return;let i=r.data;e(i)&&(t(i),window.removeEventListener("message",n),this.listeners.delete(n))};window.addEventListener("message",n),this.listeners.set(n,{reject:r})}),this.disconnect=()=>{!function(e){e&&!e.closed&&e.close()}(this.popup),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(pn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await function(e){let t=(window.innerWidth-420)/2+window.screenX,r=(window.innerHeight-540)/2+window.screenY;function n(){let n=`wallet_${crypto.randomUUID()}`,i=window.open(e,n,`width=420, height=540, left=${t}, top=${r}`);return(null==i||i.focus(),i)?i:null}var i=e;for(let[e,t]of Object.entries({sdkName:pV,sdkVersion:pH,origin:window.location.origin,coop:gy()}))i.searchParams.append(e,t.toString());let a=n();if(!a){let e=function(){if(!gv){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),(gv=new f8).attach(e)}return gv}();return new Promise((t,r)=>{e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},gw),{onClick:()=>{(a=n())?t(a):r(pn.rpc.internal("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(a)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(this.disconnect).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:pH,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw pn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=r}}class gx extends sY.b{}var gE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class g_ extends gx{constructor(e){var{metadata:t}=e,r=e.preference,{keysUrl:n}=r,i=gE(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new gb({url:n,metadata:t,preference:i});let a=gh.getItem(gu);a&&(this.signer=this.initSigner(a))}async request(e){try{if(!e||"object"!=typeof e||Array.isArray(e))throw pn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw pn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw pn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw pn.provider.unsupportedMethod()}if(!this.signer)switch(e.method){case"eth_requestAccounts":{let t=await this.requestSignerSelection(e),r=this.initSigner(t);await r.handshake(e),this.signer=r,gh.setItem(gu,t);break}case"wallet_sendCalls":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let r=await t.request(e);return await t.cleanup(),r}case"wallet_getCallsStatus":return pG(e,"https://rpc.wallet.coinbase.com");case"net_version":return 1;case"eth_chainId":return pE(1);default:throw pn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(t){let{code:e}=t;return e===h6.provider.unauthorized&&this.disconnect(),Promise.reject(function(e){let t=function(e,{shouldIncludeStack:t=!1}={}){var r,n;let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&pt(e,"code")&&Number.isInteger(r=e.code)&&(h8[r.toString()]||(n=r)>=-32099&&n<=-32e3))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,pt(e,"data")&&(i.data=e.data)):(i.message=h7(i.code),i.data={originalError:pe(e)});else i.code=h6.rpc.internal,i.message=pr(e,"message")?e.message:h9,i.data={originalError:pe(e)};return t&&(i.stack=pr(e,"stack")?e.stack:void 0),i}(function(e){var t;if("string"==typeof e)return{message:e,code:h6.rpc.internal};if(p1(e)){let r=e.errorMessage,n=null!=(t=e.errorCode)?t:r.match(/(denied|rejected)/i)?h6.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},e),{message:r,code:n,data:{method:e.method}})}return e}(e),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",pH),r.searchParams.set("code",t.code.toString()),r.searchParams.set("message",t.message),Object.assign(Object.assign({},t),{docUrl:r.href})}(t))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await (null==(e=this.signer)?void 0:e.cleanup()),this.signer=null,h4.clearAll(),this.emit("disconnect",pn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return gp({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){let{signerType:t,metadata:r,communicator:n,callback:i}={signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)};switch(t){case"scw":return new pQ({metadata:r,callback:i,communicator:n});case"walletlink":return new gd({metadata:r,callback:i})}}}let gC={options:"all"};function gk(e){new h4("CBWSDK").setItem("VERSION",pH),gm();let t={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(gC,null!=(r=e.preference)?r:{})};var r,n=t.preference;if(n){if(!["all","smartWalletOnly","eoaOnly"].includes(n.options))throw Error(`Invalid options: ${n.options}`);if(n.attribution&&void 0!==n.attribution.auto&&void 0!==n.attribution.dataSuffix)throw Error("Attribution cannot contain both auto and dataSuffix properties")}let i=null;return{getProvider:()=>(i||(i=function(e){var t;let r={metadata:e.metadata,preference:e.preference};return null!=(t=function({metadata:e,preference:t}){var r,n;let{appName:i,appLogoUrl:a,appChainIds:s}=e;if("smartWalletOnly"!==t.options){let e=globalThis.coinbaseWalletExtension;if(e)return null==(r=e.setAppInfo)||r.call(e,i,a,s,t),e}let o=function(){var e,t;try{let r=globalThis;return null!=(e=r.ethereum)?e:null==(t=r.top)?void 0:t.ethereum}catch(e){return}}();if(null==o?void 0:o.isCoinbaseBrowser)return null==(n=o.setAppInfo)||n.call(o,i,a,s,t),o}(r))?t:new g_(r)}(t)),i)}}let gA={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"},gI={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4},gS=e=>void 0!==e?BigInt(e):void 0;function gT(e){let t,{type:r=2,...n}="string"==typeof e?JSON.parse(e):e;n.accessList&&Array.isArray(n.accessList)?t=n.accessList.map(e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e):n.accessList&&(t=Object.entries(n.accessList).map(e=>({address:e[0],storageKeys:e[1]})));let i=Number(n.chainId??1),a=(0,v.q)(n.data)?n.data:n.data?(0,w.nj)(Uint8Array.from(n.data)):void 0,s=n.nonce?Number(n.nonce):void 0,o={chainId:i,data:a,nonce:s,value:gS(n.value),gas:gS(n.gas??n.gasLimit)},l=Number(r);if(0===l)return{...n,type:gA[l],...o,gasPrice:gS(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===l)return{...n,type:gA[l],...o,gasPrice:gS(n.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===l)return{...n,type:gA[l],...o,nonce:s,accessList:t,maxFeePerGas:gS(n.maxFeePerGas),maxPriorityFeePerGas:gS(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}let gP=(0,f.forwardRef)(({as:e="div",...t},r)=>(0,p.jsx)(e,{...t,ref:r})),gj="cf-turnstile-script",gN="onloadTurnstileCallback",gO=e=>!!document.getElementById(e),g$=({render:e="explicit",onLoadCallbackName:t=gN,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:a="",appendTo:s,onError:o,crossOrigin:l=""}={}})=>{let c=a||gj;if(gO(c))return;let d=document.createElement("script");d.id=c,d.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${t}&render=${e}`,document.querySelector(`script[src="${d.src}"]`)||(d.defer=!!n,d.async=!!i,r&&(d.nonce=r),l&&(d.crossOrigin=l),o&&(d.onerror=o),("body"===s?document.body:document.getElementsByTagName("head")[0]).appendChild(d))},gM={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}},gR=(0,f.forwardRef)((e,t)=>{let{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:a,onSuccess:s,onExpire:o,onError:l,onBeforeInteractive:c,onAfterInteractive:d,onUnsupported:u,onLoadScript:h,id:g,style:m,as:y="div",injectScript:w=!0,...v}=e,b=n.size??"normal",[x,E]=(0,f.useState)("execute"===n.execution?gM.invisible:"interaction-only"===n.appearance?gM.interactionOnly:gM[b]),_=(0,f.useRef)(null),C=(0,f.useRef)(!1),[k,A]=(0,f.useState)(),[I,S]=(0,f.useState)(!1),T=g??"cf-turnstile",P=w?r?.id||`${gj}__${T}`:r?.id||gj,j=function(e=gj){let[t,r]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{let t=()=>{gO(e)&&r(!0)},n=new MutationObserver(t);return n.observe(document,{childList:!0,subtree:!0}),t(),()=>{n.disconnect()}},[e]),t}(P),N=r?.onLoadCallbackName?`${r.onLoadCallbackName}__${T}`:`${gN}__${T}`,O=(0,f.useMemo)(()=>({sitekey:i,action:n.action,cData:n.cData,callback:s,"error-callback":l,"expired-callback":o,"before-interactive-callback":c,"after-interactive-callback":d,"unsupported-callback":u,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:function(e){let t;return"invisible"!==e&&(t=e),t}(b),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,s,l,o,b,c,d,u]),$=(0,f.useMemo)(()=>JSON.stringify(O),[O]);return(0,f.useImperativeHandle)(t,()=>{if("undefined"==typeof window||!j)return;let{turnstile:e}=window;return{getResponse:()=>e?.getResponse&&k?e.getResponse(k):void console.warn("Turnstile has not been loaded"),reset(){if(!e?.reset||!k)return void console.warn("Turnstile has not been loaded");"execute"===n.execution&&E(gM.invisible);try{e.reset(k)}catch(e){console.warn(`Failed to reset Turnstile widget ${k}`,e)}},remove(){if(!e?.remove||!k)return void console.warn("Turnstile has not been loaded");A(""),E(gM.invisible),e.remove(k)},render(){if(!e?.render||!_.current||k)return void console.warn("Turnstile has not been loaded or widget already rendered");let t=e.render(_.current,O);return A(t),"execute"!==n.execution&&E(gM[b]),t},execute(){if("execute"===n.execution){if(!e?.execute||!_.current||!k)return void console.warn("Turnstile has not been loaded or widget has not been rendered");e.execute(_.current,O),E(gM[b])}},isExpired:()=>e?.isExpired&&k?e.isExpired(k):void console.warn("Turnstile has not been loaded")}},[j,k,n.execution,b,O,_]),(0,f.useEffect)(()=>(window[N]=()=>S(!0),()=>{delete window[N]}),[N]),(0,f.useEffect)(()=>{w&&!I&&g$({onLoadCallbackName:N,scriptOptions:{...r,id:P}})},[w,I,N,r,P]),(0,f.useEffect)(()=>{j&&!I&&window.turnstile&&S(!0)},[I,j]),(0,f.useEffect)(()=>{if(!i)return void console.warn("sitekey was not provided");j&&_.current&&I&&!C.current&&(A(window.turnstile.render(_.current,O)),C.current=!0)},[j,i,O,C,I]),(0,f.useEffect)(()=>{window.turnstile&&_.current&&k&&(gO(k)&&window.turnstile.remove(k),A(window.turnstile.render(_.current,O)),C.current=!0)},[$,i]),(0,f.useEffect)(()=>{if(window.turnstile&&k&&gO(k))return a?.(k),()=>{window.turnstile.remove(k)}},[k,a]),(0,f.useEffect)(()=>{E("execute"===n.execution?gM.invisible:"interaction-only"===O.appearance?gM.interactionOnly:gM[b])},[n.execution,b,O.appearance]),(0,f.useEffect)(()=>{j&&"function"==typeof h&&h()},[j,h]),(0,p.jsx)(gP,{ref:_,as:y,id:T,style:{...x,...m},...v})});gR.displayName="Turnstile";var gD=function(){return(gD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;function gL(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError;var gU=r(35),gF=r.n(gU),gB="-ms-",gW="-moz-",gz="-webkit-",gq="comm",gH="rule",gV="decl",gG="@keyframes",gK=Math.abs,gJ=String.fromCharCode,gY=Object.assign;function gZ(e,t){return(e=t.exec(e))?e[0]:e}function gQ(e,t,r){return e.replace(t,r)}function gX(e,t,r){return e.indexOf(t,r)}function g0(e,t){return 0|e.charCodeAt(t)}function g1(e,t,r){return e.slice(t,r)}function g2(e){return e.length}function g3(e,t){return t.push(e),e}function g5(e,t){return e.filter(function(e){return!gZ(e,t)})}var g4=1,g6=1,g8=0,g9=0,g7=0,me="";function mt(e,t,r,n,i,a,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:g4,column:g6,length:s,return:"",siblings:o}}function mr(e,t){return gY(mt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function mn(e){for(;e.root;)e=mr(e.root,{children:[e]});g3(e,e.siblings)}function mi(){return g7=g9<g8?g0(me,g9++):0,g6++,10===g7&&(g6=1,g4++),g7}function ma(){return g0(me,g9)}function ms(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mo(e){var t,r;return(t=g9-1,r=function e(t){for(;mi();)switch(g7){case t:return g9;case 34:case 39:34!==t&&39!==t&&e(g7);break;case 40:41===t&&e(t);break;case 92:mi()}return g9}(91===e?e+2:40===e?e+1:e),g1(me,t,r)).trim()}function ml(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function mc(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case gV:return e.return=e.return||e.value;case gq:return"";case gG:return e.return=e.value+"{"+ml(e.children,n)+"}";case gH:if(!g2(e.value=e.props.join(",")))return""}return g2(r=ml(e.children,n))?e.return=e.value+"{"+r+"}":""}function md(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case gV:e.return=function e(t,r,n){var i;switch(i=r,45^g0(t,0)?(((i<<2^g0(t,0))<<2^g0(t,1))<<2^g0(t,2))<<2^g0(t,3):0){case 5103:return gz+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gz+t+t;case 4789:return gW+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gz+t+gW+t+gB+t+t;case 5936:switch(g0(t,r+11)){case 114:return gz+t+gB+gQ(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gz+t+gB+gQ(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gz+t+gB+gQ(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return gz+t+gB+t+t;case 6165:return gz+t+gB+"flex-"+t+t;case 5187:return gz+t+gQ(t,/(\w+).+(:[^]+)/,gz+"box-$1$2"+gB+"flex-$1$2")+t;case 5443:return gz+t+gB+"flex-item-"+gQ(t,/flex-|-self/g,"")+(gZ(t,/flex-|baseline/)?"":gB+"grid-row-"+gQ(t,/flex-|-self/g,""))+t;case 4675:return gz+t+gB+"flex-line-pack"+gQ(t,/align-content|flex-|-self/g,"")+t;case 5548:return gz+t+gB+gQ(t,"shrink","negative")+t;case 5292:return gz+t+gB+gQ(t,"basis","preferred-size")+t;case 6060:return gz+"box-"+gQ(t,"-grow","")+gz+t+gB+gQ(t,"grow","positive")+t;case 4554:return gz+gQ(t,/([^-])(transform)/g,"$1"+gz+"$2")+t;case 6187:return gQ(gQ(gQ(t,/(zoom-|grab)/,gz+"$1"),/(image-set)/,gz+"$1"),t,"")+t;case 5495:case 3959:return gQ(t,/(image-set\([^]*)/,gz+"$1$`$1");case 4968:return gQ(gQ(t,/(.+:)(flex-)?(.*)/,gz+"box-pack:$3"+gB+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gz+t+t;case 4200:if(!gZ(t,/flex-|baseline/))return gB+"grid-column-align"+g1(t,r)+t;break;case 2592:case 3360:return gB+gQ(t,"template-","")+t;case 4384:case 3616:if(n&&n.some(function(e,t){return r=t,gZ(e.props,/grid-\w+-end/)}))return~gX(t+(n=n[r].value),"span",0)?t:gB+gQ(t,"-start","")+t+gB+"grid-row-span:"+(~gX(n,"span",0)?gZ(n,/\d+/):gZ(n,/\d+/)-gZ(t,/\d+/))+";";return gB+gQ(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(e){return gZ(e.props,/grid-\w+-start/)})?t:gB+gQ(gQ(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return gQ(t,/(.+)-inline(.+)/,gz+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g2(t)-1-r>6)switch(g0(t,r+1)){case 109:if(45!==g0(t,r+4))break;case 102:return gQ(t,/(.+:)(.+)-([^]+)/,"$1"+gz+"$2-$3$1"+gW+(108==g0(t,r+3)?"$3":"$2-$3"))+t;case 115:return~gX(t,"stretch",0)?e(gQ(t,"stretch","fill-available"),r,n)+t:t}break;case 5152:case 5920:return gQ(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,r,n,i,a,s,o){return gB+r+":"+n+o+(i?gB+r+"-span:"+(a?s:s-n)+o:"")+t});case 4949:if(121===g0(t,r+6))return gQ(t,":",":"+gz)+t;break;case 6444:switch(g0(t,45===g0(t,14)?18:11)){case 120:return gQ(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+gz+(45===g0(t,14)?"inline-":"")+"box$3$1"+gz+"$2$3$1"+gB+"$2box$3")+t;case 100:return gQ(t,":",":"+gB)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return gQ(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,r);return;case gG:return ml([mr(e,{value:gQ(e.value,"@","@"+gz)})],n);case gH:if(e.length){var i,a;return i=r=e.props,a=function(t){switch(gZ(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":mn(mr(e,{props:[gQ(t,/:(read-\w+)/,":"+gW+"$1")]})),mn(mr(e,{props:[t]})),gY(e,{props:g5(r,n)});break;case"::placeholder":mn(mr(e,{props:[gQ(t,/:(plac\w+)/,":"+gz+"input-$1")]})),mn(mr(e,{props:[gQ(t,/:(plac\w+)/,":"+gW+"$1")]})),mn(mr(e,{props:[gQ(t,/:(plac\w+)/,gB+"input-$1")]})),mn(mr(e,{props:[t]})),gY(e,{props:g5(r,n)})}return""},i.map(a).join("")}}}function mu(e,t,r,n,i,a,s,o,l,c,d,u){for(var h=i-1,p=0===i?a:[""],f=p.length,g=0,m=0,y=0;g<n;++g)for(var w=0,v=g1(e,h+1,h=gK(m=s[g])),b=e;w<f;++w)(b=(m>0?p[w]+" "+v:gQ(v,/&\f/g,p[w])).trim())&&(l[y++]=b);return mt(e,t,r,0===i?gH:o,l,c,d,u)}function mh(e,t,r,n,i){return mt(e,t,r,gV,g1(e,0,n),g1(e,n+1,-1),n,i)}var mp={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mf=r(2272),mg=void 0!==mf&&void 0!==mf.env&&(mf.env.REACT_APP_SC_ATTR||mf.env.SC_ATTR)||"data-styled",mm="active",my="data-styled-version",mw="6.1.18",mv="/*!sc*/\n",mb="undefined"!=typeof window&&"undefined"!=typeof document,mx=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==mf&&void 0!==mf.env&&void 0!==mf.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==mf.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==mf.env.REACT_APP_SC_DISABLE_SPEEDY&&mf.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==mf&&void 0!==mf.env&&void 0!==mf.env.SC_DISABLE_SPEEDY&&""!==mf.env.SC_DISABLE_SPEEDY&&"false"!==mf.env.SC_DISABLE_SPEEDY&&mf.env.SC_DISABLE_SPEEDY),mE={},m_=Object.freeze([]),mC=Object.freeze({});function mk(e,t,r){return void 0===r&&(r=mC),e.theme!==r.theme&&e.theme||t||r.theme}var mA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mS=/(^-|-$)/g;function mT(e){return e.replace(mI,"-").replace(mS,"")}var mP=/(a)(d)/gi,mj=function(e){return String.fromCharCode(e+(e>25?39:97))};function mN(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=mj(t%52)+r;return(mj(t%52)+r).replace(mP,"$1-$2")}var mO,m$=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},mM=function(e){return m$(5381,e)};function mR(e){return mN(mM(e)>>>0)}function mD(e){return"string"==typeof e}var mL="function"==typeof Symbol&&Symbol.for,mU=mL?Symbol.for("react.memo"):60115,mF=mL?Symbol.for("react.forward_ref"):60112,mB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mq=((mO={})[mF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mO[mU]=mz,mO);function mH(e){return("type"in e&&e.type.$$typeof)===mU?mz:"$$typeof"in e?mq[e.$$typeof]:mB}var mV=Object.defineProperty,mG=Object.getOwnPropertyNames,mK=Object.getOwnPropertySymbols,mJ=Object.getOwnPropertyDescriptor,mY=Object.getPrototypeOf,mZ=Object.prototype;function mQ(e){return"function"==typeof e}function mX(e){return"object"==typeof e&&"styledComponentId"in e}function m0(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function m1(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function m2(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function m3(e,t){Object.defineProperty(e,"toString",{value:t})}function m5(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var m4=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw m5(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var a=n;a<i;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(e+1),o=(a=0,t.length);a<o;a++)this.tag.insertRule(s,t[a])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,a=n;a<i;a++)t+="".concat(this.tag.getRule(a)).concat(mv);return t},e}(),m6=new Map,m8=new Map,m9=1,m7=function(e){if(m6.has(e))return m6.get(e);for(;m8.has(m9);)m9++;var t=m9++;return m6.set(e,t),m8.set(t,e),t},ye=function(e,t){m9=t+1,m6.set(e,t),m8.set(t,e)},yt="style[".concat(mg,"][").concat(my,'="').concat(mw,'"]'),yr=new RegExp("^".concat(mg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),yn=function(e,t,r){for(var n,i=r.split(","),a=0,s=i.length;a<s;a++)(n=i[a])&&e.registerName(t,n)},yi=function(e,t){for(var r,n=(null!=(r=t.textContent)?r:"").split(mv),i=[],a=0,s=n.length;a<s;a++){var o=n[a].trim();if(o){var l=o.match(yr);if(l){var c=0|parseInt(l[1],10),d=l[2];0!==c&&(ye(d,c),yn(e,d,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},ya=function(e){for(var t=document.querySelectorAll(yt),r=0,n=t.length;r<n;r++){var i=t[r];i&&i.getAttribute(mg)!==mm&&(yi(e,i),i.parentNode&&i.parentNode.removeChild(i))}},ys=function(e){var t,n=document.head,i=e||n,a=document.createElement("style"),s=(t=Array.from(i.querySelectorAll("style[".concat(mg,"]"))))[t.length-1],o=void 0!==s?s.nextSibling:null;a.setAttribute(mg,mm),a.setAttribute(my,mw);var l=r.nc;return l&&a.setAttribute("nonce",l),i.insertBefore(a,o),a},yo=function(){function e(e){this.element=ys(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}throw m5(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),yl=function(){function e(e){this.element=ys(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),yc=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),yd=mb,yu={isServer:!mb,useCSSOMInjection:!mx},yh=function(){function e(e,t,r){void 0===e&&(e=mC),void 0===t&&(t={});var n=this;this.options=gD(gD({},yu),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&mb&&yd&&(yd=!1,ya(this)),m3(this,function(){for(var e=n.getTag(),t=e.length,r="",i=0;i<t;i++)!function(t){var i=m8.get(t);if(void 0===i)return;var a=n.names.get(i),s=e.getGroup(t);if(void 0!==a&&a.size&&0!==s.length){var o="".concat(mg,".g").concat(t,'[id="').concat(i,'"]'),l="";void 0!==a&&a.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(s).concat(o,'{content:"').concat(l,'"}').concat(mv)}}(i);return r})}return e.registerId=function(e){return m7(e)},e.prototype.rehydrate=function(){!this.server&&mb&&ya(this)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(gD(gD({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,r;return this.tag||(this.tag=(t=(e=this.options).useCSSOMInjection,r=e.target,new m4(e.isServer?new yc(r):t?new yo(r):new yl(r))))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(m7(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(m7(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(m7(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),yp=/&/g,yf=/^\s*\/\/.*$/gm;function yg(e){var t,r,n,i=void 0===e?mC:e,a=i.options,s=void 0===a?mC:a,o=i.plugins,l=void 0===o?m_:o,c=function(e,n,i){return i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(t):e},d=l.slice();d.push(function(e){e.type===gH&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(yp,r).replace(n,c))}),s.prefix&&d.push(md),d.push(mc);var u=function(e,i,a,o){void 0===i&&(i=""),void 0===a&&(a=""),void 0===o&&(o="&"),t=o,r=i,n=RegExp("\\".concat(r,"\\b"),"g");var l,c,u,h,p,f,g=e.replace(yf,""),m=(p=function e(t,r,n,i,a,s,o,l,c){for(var d,u,h,p,f=0,g=0,m=o,y=0,w=0,v=0,b=1,x=1,E=1,_=0,C="",k=a,A=s,I=i,S=C;x;)switch(v=_,_=mi()){case 40:if(108!=v&&58==g0(S,m-1)){-1!=gX(S+=gQ(mo(_),"&","&\f"),"&\f",gK(f?l[f-1]:0))&&(E=-1);break}case 34:case 39:case 91:S+=mo(_);break;case 9:case 10:case 13:case 32:S+=function(e){for(;g7=ma();)if(g7<33)mi();else break;return ms(e)>2||ms(g7)>3?"":" "}(v);break;case 92:S+=function(e,t){for(var r;--t&&mi()&&!(g7<48)&&!(g7>102)&&(!(g7>57)||!(g7<65))&&(!(g7>70)||!(g7<97)););return r=g9+(t<6&&32==ma()&&32==mi()),g1(me,e,r)}(g9-1,7);continue;case 47:switch(ma()){case 42:case 47:g3((d=function(e,t){for(;mi();)if(e+g7===57)break;else if(e+g7===84&&47===ma())break;return"/*"+g1(me,t,g9-1)+"*"+gJ(47===e?e:mi())}(mi(),g9),u=r,h=n,p=c,mt(d,u,h,gq,gJ(g7),g1(d,2,-2),0,p)),c);break;default:S+="/"}break;case 123*b:l[f++]=g2(S)*E;case 125*b:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+g:-1==E&&(S=gQ(S,/\f/g,"")),w>0&&g2(S)-m&&g3(w>32?mh(S+";",i,n,m-1,c):mh(gQ(S," ","")+";",i,n,m-2,c),c);break;case 59:S+=";";default:if(g3(I=mu(S,r,n,f,g,a,l,C,k=[],A=[],m,s),s),123===_)if(0===g)e(S,r,I,I,k,s,m,l,A);else switch(99===y&&110===g0(S,3)?100:y){case 100:case 108:case 109:case 115:e(t,I,I,i&&g3(mu(t,I,I,0,0,a,l,C,a,k=[],m,A),A),a,A,m,l,i?k:A);break;default:e(S,I,I,I,[""],A,0,l,A)}}f=g=w=0,b=E=1,C=S="",m=o;break;case 58:m=1+g2(S),w=v;default:if(b<1){if(123==_)--b;else if(125==_&&0==b++&&125==(g7=g9>0?g0(me,--g9):0,g6--,10===g7&&(g6=1,g4--),g7))continue}switch(S+=gJ(_),_*b){case 38:E=g>0?1:(S+="\f",-1);break;case 44:l[f++]=(g2(S)-1)*E,E=1;break;case 64:45===ma()&&(S+=mo(mi())),y=ma(),g=m=g2(C=S+=function(e){for(;!ms(ma());)mi();return g1(me,e,g9)}(g9)),_++;break;case 45:45===v&&2==g2(S)&&(b=0)}}return s}("",null,null,null,[""],(u=h=a||i?"".concat(a," ").concat(i," { ").concat(g," }"):g,g4=g6=1,g8=g2(me=u),g9=0,h=[]),0,[0],h),me="",p);s.namespace&&(m=function e(t,r){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(r," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(r," ")),t.props=t.props.map(function(e){return"".concat(r," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,r)),t})}(m,s.namespace));var y=[];return ml(m,(c=(l=d.concat((f=function(e){return y.push(e)},function(e){!e.root&&(e=e.return)&&f(e)}))).length,function(e,t,r,n){for(var i="",a=0;a<c;a++)i+=l[a](e,t,r,n)||"";return i})),y};return u.hash=l.length?l.reduce(function(e,t){return t.name||m5(15),m$(e,t.name)},5381).toString():"",u}var ym=new yh,yy=yg(),yw=f.createContext({shouldForwardProp:void 0,styleSheet:ym,stylis:yy}),yv=(yw.Consumer,f.createContext(void 0));function yb(){return(0,f.useContext)(yw)}function yx(e){var t=(0,f.useState)(e.stylisPlugins),r=t[0],n=t[1],i=yb().styleSheet,a=(0,f.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),s=(0,f.useMemo)(function(){return yg({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})},[e.enableVendorPrefixes,e.namespace,r]);(0,f.useEffect)(function(){gF()(r,e.stylisPlugins)||n(e.stylisPlugins)},[e.stylisPlugins]);var o=(0,f.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:s}},[e.shouldForwardProp,a,s]);return f.createElement(yw.Provider,{value:o},f.createElement(yv.Provider,{value:s},e.children))}var yE=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=yy);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,m3(this,function(){throw m5(12,String(r.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=yy),this.name+e.hash},e}();function y_(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;n>="A"&&n<="Z"?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var yC=function(e){return null==e||!1===e||""===e},yk=function(e){var t=[];for(var r in e){var n=e[r];e.hasOwnProperty(r)&&!yC(n)&&(Array.isArray(n)&&n.isCss||mQ(n)?t.push("".concat(y_(r),":"),n,";"):m2(n)?t.push.apply(t,gL(gL(["".concat(r," {")],yk(n),!1),["}"],!1)):t.push("".concat(y_(r),": ").concat(null==n||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||r in mp||r.startsWith("--")?String(n).trim():"".concat(n,"px"),";")))}return t};function yA(e,t,r,n){if(yC(e))return[];if(mX(e))return[".".concat(e.styledComponentId)];if(mQ(e))return!mQ(e)||e.prototype&&e.prototype.isReactComponent||!t?[e]:yA(e(t),t,r,n);return e instanceof yE?r?(e.inject(r,n),[e.getName(n)]):[e]:m2(e)?yk(e):Array.isArray(e)?Array.prototype.concat.apply(m_,e.map(function(e){return yA(e,t,r,n)})):[e.toString()]}function yI(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(mQ(r)&&!mX(r))return!1}return!0}var yS=mM(mw),yT=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&yI(e),this.componentId=t,this.baseHash=m$(yS,t),this.baseStyle=r,yh.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=m0(n,this.staticRulesId);else{var i=m1(yA(this.rules,e,t,r)),a=mN(m$(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var s=r(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,s)}n=m0(n,a),this.staticRulesId=a}else{for(var o=m$(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var d=this.rules[c];if("string"==typeof d)l+=d;else if(d){var u=m1(yA(d,e,t,r));o=m$(o,u+c),l+=u}}if(l){var h=mN(o>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),n=m0(n,h)}}return n},e}(),yP=f.createContext(void 0);yP.Consumer;var yj={};function yN(e,t,r){var n,i,a,s,o,l=mX(e),c=!mD(e),d=t.attrs,u=void 0===d?m_:d,h=t.componentId,p=void 0===h?(i=t.displayName,a=t.parentComponentId,yj[s="string"!=typeof i?"sc":mT(i)]=(yj[s]||0)+1,o="".concat(s,"-").concat(mR(mw+s+yj[s])),a?"".concat(a,"-").concat(o):o):h,g=t.displayName,m=void 0===g?mD(e)?"styled.".concat(e):"Styled(".concat((n=e).displayName||n.name||"Component",")"):g,y=t.displayName&&t.componentId?"".concat(mT(t.displayName),"-").concat(t.componentId):t.componentId||p,w=l&&e.attrs?e.attrs.concat(u).filter(Boolean):u,v=t.shouldForwardProp;if(l&&e.shouldForwardProp){var b=e.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;v=function(e,t){return b(e,t)&&x(e,t)}}else v=b}var E=new yT(r,y,l?e.componentStyle:void 0);function _(e,t){return function(e,t,r){var n,i=e.attrs,a=e.componentStyle,s=e.defaultProps,o=e.foldedComponentIds,l=e.styledComponentId,c=e.target,d=f.useContext(yP),u=yb(),h=e.shouldForwardProp||u.shouldForwardProp,p=mk(t,d,s)||mC,g=function(e,t,r){for(var n,i=gD(gD({},t),{className:void 0,theme:r}),a=0;a<e.length;a+=1){var s=mQ(n=e[a])?n(i):n;for(var o in s)i[o]="className"===o?m0(i[o],s[o]):"style"===o?gD(gD({},i[o]),s[o]):s[o]}return t.className&&(i.className=m0(i.className,t.className)),i}(i,t,p),m=g.as||c,y={};for(var w in g)void 0===g[w]||"$"===w[0]||"as"===w||"theme"===w&&g.theme===p||("forwardedAs"===w?y.as=g.forwardedAs:h&&!h(w,m)||(y[w]=g[w]));var v=(n=yb(),a.generateAndInjectStyles(g,n.styleSheet,n.stylis)),b=m0(o,l);return v&&(b+=" "+v),g.className&&(b+=" "+g.className),y[mD(m)&&!mA.has(m)?"class":"className"]=b,r&&(y.ref=r),(0,f.createElement)(m,y)}(C,e,t)}_.displayName=m;var C=f.forwardRef(_);return C.attrs=w,C.componentStyle=E,C.displayName=m,C.shouldForwardProp=v,C.foldedComponentIds=l?m0(e.foldedComponentIds,e.styledComponentId):"",C.styledComponentId=y,C.target=l?e.target:e,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=l?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)!function e(t,r,n){if(void 0===n&&(n=!1),!n&&!m2(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var i=0;i<r.length;i++)t[i]=e(t[i],r[i]);else if(m2(r))for(var i in r)t[i]=e(t[i],r[i]);return t}(e,t[n],!0);return e}({},e.defaultProps,t):t}}),m3(C,function(){return".".concat(C.styledComponentId)}),c&&function e(t,r,n){if("string"!=typeof r){if(mZ){var i=mY(r);i&&i!==mZ&&e(t,i,n)}var a=mG(r);mK&&(a=a.concat(mK(r)));for(var s=mH(t),o=mH(r),l=0;l<a.length;++l){var c=a[l];if(!(c in mW||n&&n[c]||o&&c in o||s&&c in s)){var d=mJ(r,c);try{mV(t,c,d)}catch(e){}}}}return t}(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function yO(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var y$=function(e){return Object.assign(e,{isCss:!0})};function yM(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return mQ(e)||m2(e)?y$(yA(yO(m_,gL([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?yA(e):y$(yA(yO(e,t)))}var yR=function(e){return function e(t,r,n){if(void 0===n&&(n=mC),!r)throw m5(1,r);var i=function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return t(r,n,yM.apply(void 0,gL([e],i,!1)))};return i.attrs=function(i){return e(t,r,gD(gD({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i.withConfig=function(i){return e(t,r,gD(gD({},n),i))},i}(yN,e)};mA.forEach(function(e){yR[e]=yR(e)});var yD=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=yI(e),yh.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,r,n){var i=n(m1(yA(this.rules,t,r,n)),""),a=this.componentId+e;r.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&yh.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function yL(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=m1(yM.apply(void 0,gL([e],t,!1)));return new yE(mR(n),n)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=r.nc,i=m1([n&&'nonce="'.concat(n,'"'),"".concat(mg,'="true"'),"".concat(my,'="').concat(mw,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw m5(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw m5(2);var t,n=e.instance.toString();if(!n)return[];var i=((t={})[mg]="",t[my]=mw,t.dangerouslySetInnerHTML={__html:n},t),a=r.nc;return a&&(i.nonce=a),[f.createElement("style",gD({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new yh({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw m5(2);return f.createElement(yx,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw m5(3)}}();var yU=r(70273);let yF=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}),yB=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),yW=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}),yz=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}),yq=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}),yH=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}),yV=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),yG=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}),yK=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}),yJ=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});function yY(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function yZ(){let e=[],t={addEventListener:(e,r,n,i)=>(e.addEventListener(r,n,i),t.add(()=>e.removeEventListener(r,n,i))),requestAnimationFrame(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(i))},nextFrame(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i=setTimeout(...r);return t.add(()=>clearTimeout(i))},microTask(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let i={current:!0};return yY(()=>{i.current&&r[0]()}),t.add(()=>{i.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=yZ();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function yQ(){let[e]=(0,f.useState)(yZ);return(0,f.useEffect)(()=>()=>e.dispose(),[e]),e}var yX=Object.defineProperty,y0=(e,t,r)=>t in e?yX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y1=(e,t,r)=>(y0(e,"symbol"!=typeof t?t+"":t,r),r);class y2{set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}constructor(){y1(this,"current",this.detect()),y1(this,"handoffState","pending"),y1(this,"currentId",0)}}let y3=new y2,y5=(e,t)=>{y3.isServer?(0,f.useEffect)(e,t):(0,f.useLayoutEffect)(e,t)};function y4(e){let t=(0,f.useRef)(e);return y5(()=>{t.current=e},[e]),t}let y6=function(e){let t=y4(e);return f.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current(...r)},[t])};function y8(){let e=(0,f.useRef)(!1);return y5(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function y9(){let e,t=(e="undefined"==typeof document,(0,g.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[r,n]=f.useState(y3.isHandoffComplete);return r&&!1===y3.isHandoffComplete&&n(!1),f.useEffect(()=>{!0!==r&&n(!0)},[r]),f.useEffect(()=>y3.handoff(),[]),!t&&r}let y7=Symbol();function we(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=(0,f.useRef)(t);(0,f.useEffect)(()=>{n.current=t},[t]);let i=y6(e=>{for(let t of n.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return t.every(e=>null==e||(null==e?void 0:e[y7]))?void 0:i}var wt=r(2272);void 0!==wt&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(RG=null==wt?void 0:wt.env)?void 0:RG.NODE_ENV)==="test"&&void 0===(null==(RK=null==Element?void 0:Element.prototype)?void 0:RK.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn("Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\nPlease install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\n\nExample usage:\n```js\nimport { mockAnimationsApi } from 'jsdom-testing-mocks'\nmockAnimationsApi()\n```"),[]});var wr=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(wr||{});function wn(e){let t={};for(let r in e)!0===e[r]&&(t["data-".concat(r)]="");return t}function wi(e,t,r,n){let[i,a]=(0,f.useState)(r),{hasFlag:s,addFlag:o,removeFlag:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,r]=(0,f.useState)(e),n=(0,f.useCallback)(e=>r(e),[t]),i=(0,f.useCallback)(e=>r(t=>t|e),[t]),a=(0,f.useCallback)(e=>(t&e)===e,[t]);return{flags:t,setFlag:n,addFlag:i,hasFlag:a,removeFlag:(0,f.useCallback)(e=>r(t=>t&~e),[r]),toggleFlag:(0,f.useCallback)(e=>r(t=>t^e),[r])}}(e&&i?3:0),c=(0,f.useRef)(!1),d=(0,f.useRef)(!1);return y5(()=>{var i;if(e){if(r&&a(!0),!t){r&&o(3);return}return null==(i=null==n?void 0:n.start)||i.call(n,r),function(e,t){let{prepare:r,run:n,done:i,inFlight:a}=t,s=yZ();return function(e,t){let{inFlight:r,prepare:n}=t;if(null!=r&&r.current)return n();let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}(e,{prepare:r,inFlight:a}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(function(e,t){var r,n;let i=yZ();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let s=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===s.length?t():Promise.allSettled(s.map(e=>e.finished)).then(()=>{a||t()}),i.dispose}(e,i))})}),s.dispose}(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,d.current||(r?(o(3),l(4)):(o(4),l(2)))},run(){d.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var e;d.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(c.current=!1,l(7),r||a(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})}},[e,r,t,yQ()]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}let wa=(0,f.createContext)(null);wa.displayName="OpenClosedContext";var ws=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ws||{});function wo(){return(0,f.useContext)(wa)}function wl(e){let{value:t,children:r}=e;return f.createElement(wa.Provider,{value:t},r)}function wc(e){let{children:t}=e;return f.createElement(wa.Provider,{value:null},t)}function wd(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.from(new Set(t.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function wu(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let a=Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map(e=>'"'.concat(e,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,wu),a}var wh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(wh||{}),wp=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wp||{});function wf(){let e,t,r=(e=(0,f.useRef)([]),t=(0,f.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]),function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!n.every(e=>null==e))return e.current=n,t});return(0,f.useCallback)(e=>(function(e){let{ourProps:t,theirProps:r,slot:n,defaultTag:i,features:a,visible:s=!0,name:o,mergeRefs:l}=e;l=null!=l?l:wm;let c=wy(r,t);if(s)return wg(c,n,i,o,l);let d=null!=a?a:0;if(2&d){let{static:e=!1,...t}=c;if(e)return wg(t,n,i,o,l)}if(1&d){let{unmount:e=!0,...t}=c;return wu(+!e,{0:()=>null,1:()=>wg({...t,hidden:!0,style:{display:"none"}},n,i,o,l)})}return wg(c,n,i,o,l)})({mergeRefs:r,...e}),[r])}function wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,{as:a=r,children:s,refName:o="ref",...l}=wx(e,["unmount","static"]),c=void 0!==e.ref?{[o]:e.ref}:{},d="function"==typeof s?s(t):s;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let u={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())));if(e)for(let e of(u["data-headlessui-state"]=r.join(" "),r))u["data-".concat(e)]=""}if(a===f.Fragment&&(Object.keys(wb(l)).length>0||Object.keys(wb(u)).length>0))if(!(0,f.isValidElement)(d)||Array.isArray(d)&&d.length>1){if(Object.keys(wb(l)).length>0)throw Error(['Passing props on "Fragment"!',"","The current component <".concat(n,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(wb(l)).concat(Object.keys(wb(u))).map(e=>"  - ".concat(e)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>"  - ".concat(e)).join("\n")].join("\n"))}else{var h;let e=d.props,t=null==e?void 0:e.className,r="function"==typeof t?function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return wd(t(...r),l.className)}:wd(t,l.className),n=wy(d.props,wb(wx(l,["ref"])));for(let e in u)e in n&&delete u[e];return(0,f.cloneElement)(d,Object.assign({},n,u,c,{ref:i((h=d,f.version.split(".")[0]>="19"?h.props.ref:h.ref),c.ref)},r?{className:r}:{}))}return(0,f.createElement)(a,Object.assign({},wx(l,["ref"]),a!==f.Fragment&&c,a!==f.Fragment&&u),d)}function wm(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>null==e)?void 0:e=>{for(let r of t)null!=r&&("function"==typeof r?r(e):r.current=e)}}function wy(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];let n={},i={};for(let e of t)for(let t in e)t.startsWith("on")&&"function"==typeof e[t]?(null!=i[t]||(i[t]=[]),i[t].push(e[t])):n[t]=e[t];if(n.disabled||n["aria-disabled"])for(let e in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(i[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in i)Object.assign(n,{[e](t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(let r of i[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;r(t,...n)}}});return n}function ww(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];let n={},i={};for(let e of t)for(let t in e)t.startsWith("on")&&"function"==typeof e[t]?(null!=i[t]||(i[t]=[]),i[t].push(e[t])):n[t]=e[t];for(let e in i)Object.assign(n,{[e](){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(let t of i[e])null==t||t(...r)}});return n}function wv(e){var t;return Object.assign((0,f.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function wb(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function wx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}function wE(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:wS)!==f.Fragment||1===f.Children.count(e.children)}let w_=(0,f.createContext)(null);w_.displayName="TransitionContext";var wC=(e=>(e.Visible="visible",e.Hidden="hidden",e))(wC||{});let wk=(0,f.createContext)(null);function wA(e){return"children"in e?wA(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function wI(e,t){let r=y4(e),n=(0,f.useRef)([]),i=y8(),a=yQ(),s=y6(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wp.Hidden,s=n.current.findIndex(t=>{let{el:r}=t;return r===e});-1!==s&&(wu(t,{[wp.Unmount](){n.current.splice(s,1)},[wp.Hidden](){n.current[s].state="hidden"}}),a.microTask(()=>{var e;!wA(n)&&i.current&&(null==(e=r.current)||e.call(r))}))}),o=y6(e=>{let t=n.current.find(t=>{let{el:r}=t;return r===e});return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>s(e,wp.Unmount)}),l=(0,f.useRef)([]),c=(0,f.useRef)(Promise.resolve()),d=(0,f.useRef)({enter:[],leave:[]}),u=y6((e,r,n)=>{l.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(t=>{let[r]=t;return r!==e})),null==t||t.chains.current[r].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(d.current[r].map(e=>{let[t,r]=e;return r})).then(()=>e())})]),"enter"===r?c.current=c.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),h=y6((e,t,r)=>{Promise.all(d.current[t].splice(0).map(e=>{let[t,r]=e;return r})).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>r(t))});return(0,f.useMemo)(()=>({children:n,register:o,unregister:s,onStart:u,onStop:h,wait:c,chains:d}),[o,s,n,u,h,d,c])}wk.displayName="NestingContext";let wS=f.Fragment,wT=wh.RenderStrategy,wP=wv(function(e,t){let{show:r,appear:n=!1,unmount:i=!0,...a}=e,s=(0,f.useRef)(null),o=we(...wE(e)?[s,t]:null===t?[]:[t]);y9();let l=wo();if(void 0===r&&null!==l&&(r=(l&ws.Open)===ws.Open),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=(0,f.useState)(r?"visible":"hidden"),u=wI(()=>{r||d("hidden")}),[h,p]=(0,f.useState)(!0),g=(0,f.useRef)([r]);y5(()=>{!1!==h&&g.current[g.current.length-1]!==r&&(g.current.push(r),p(!1))},[g,r]);let m=(0,f.useMemo)(()=>({show:r,appear:n,initial:h}),[r,n,h]);y5(()=>{r?d("visible"):wA(u)||null===s.current||d("hidden")},[r,u]);let y={unmount:i},w=y6(()=>{var t;h&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),v=y6(()=>{var t;h&&p(!1),null==(t=e.beforeLeave)||t.call(e)}),b=wf();return f.createElement(wk.Provider,{value:u},f.createElement(w_.Provider,{value:m},b({ourProps:{...y,as:f.Fragment,children:f.createElement(wj,{ref:o,...y,...a,beforeEnter:w,beforeLeave:v})},theirProps:{},defaultTag:f.Fragment,features:wT,visible:"visible"===c,name:"Transition"})))}),wj=wv(function(e,t){var r,n;let{transition:i=!0,beforeEnter:a,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:d,enterTo:u,entered:h,leave:p,leaveFrom:g,leaveTo:m,...y}=e,[w,v]=(0,f.useState)(null),b=(0,f.useRef)(null),x=wE(e),E=we(...x?[b,t,v]:null===t?[]:[t]),_=null==(r=y.unmount)||r?wp.Unmount:wp.Hidden,{show:C,appear:k,initial:A}=function(){let e=(0,f.useContext)(w_);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[I,S]=(0,f.useState)(C?"visible":"hidden"),T=function(){let e=(0,f.useContext)(wk);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:P,unregister:j}=T;y5(()=>P(b),[P,b]),y5(()=>{if(_===wp.Hidden&&b.current)return C&&"visible"!==I?void S("visible"):wu(I,{hidden:()=>j(b),visible:()=>P(b)})},[I,b,P,j,C,_]);let N=y9();y5(()=>{if(x&&N&&"visible"===I&&null===b.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,I,N,x]);let O=A&&!k,$=k&&C&&A,M=(0,f.useRef)(!1),R=wI(()=>{M.current||(S("hidden"),j(b))},T),D=y6(e=>{M.current=!0,R.onStart(b,e?"enter":"leave",e=>{"enter"===e?null==a||a():"leave"===e&&(null==o||o())})}),L=y6(e=>{let t=e?"enter":"leave";M.current=!1,R.onStop(b,t,e=>{"enter"===e?null==s||s():"leave"===e&&(null==l||l())}),"leave"!==t||wA(R)||(S("hidden"),j(b))});(0,f.useEffect)(()=>{x&&i||(D(C),L(C))},[C,x,i]);let[,U]=wi(!(!i||!x||!N||O),w,C,{start:D,end:L}),F=wb({ref:E,className:(null==(n=wd(y.className,$&&c,$&&d,U.enter&&c,U.enter&&U.closed&&d,U.enter&&!U.closed&&u,U.leave&&p,U.leave&&!U.closed&&g,U.leave&&U.closed&&m,!U.transition&&C&&h))?void 0:n.trim())||void 0,...wn(U)}),B=0;"visible"===I&&(B|=ws.Open),"hidden"===I&&(B|=ws.Closed),C&&"hidden"===I&&(B|=ws.Opening),C||"visible"!==I||(B|=ws.Closing);let W=wf();return f.createElement(wk.Provider,{value:R},f.createElement(wl,{value:B},W({ourProps:F,theirProps:y,defaultTag:wS,features:wT,visible:"visible"===I,name:"Transition.Child"})))}),wN=wv(function(e,t){let r=null!==(0,f.useContext)(w_),n=null!==wo();return f.createElement(f.Fragment,null,!r&&n?f.createElement(wP,{ref:t,...e}):f.createElement(wj,{ref:t,...e}))}),wO=Object.assign(wP,{Child:wN,Root:wP});var w$=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(w$||{});function wM(e,t,r,n){let i=y4(r);(0,f.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}class wR extends Map{get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}constructor(e){super(),this.factory=e}}var wD=Object.defineProperty,wL=(e,t,r)=>t in e?wD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wU=(e,t,r)=>(wL(e,"symbol"!=typeof t?t+"":t,r),r),wF=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},wB=(e,t,r)=>(wF(e,t,"read from private field"),r?r.call(e):t.get(e)),wW=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},wz=(e,t,r,n)=>(wF(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class wq{dispose(){this.disposables.dispose()}get state(){return wB(this,RJ)}subscribe(e,t){let r={selector:e,callback:t,current:e(wB(this,RJ))};return wB(this,RZ).add(r),this.disposables.add(()=>{wB(this,RZ).delete(r)})}on(e,t){return wB(this,RY).get(e).add(t),this.disposables.add(()=>{wB(this,RY).get(e).delete(t)})}send(e){let t=this.reduce(wB(this,RJ),e);if(t!==wB(this,RJ)){for(let e of(wz(this,RJ,t),wB(this,RZ))){let t=e.selector(wB(this,RJ));wH(e.current,t)||(e.current=t,e.callback(t))}for(let t of wB(this,RY).get(e.type))t(wB(this,RJ),e)}}constructor(e){wW(this,RJ,{}),wW(this,RY,new wR(()=>new Set)),wW(this,RZ,new Set),wU(this,"disposables",yZ()),wz(this,RJ,e)}}function wH(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&wV(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&wV(e.entries(),t.entries()):!!(wG(e)&&wG(t))&&wV(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function wV(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function wG(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function wK(e){let[t,r]=e(),n=yZ();return function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];t(...i),n.dispose(),n.microTask(r)}}RJ=new WeakMap,RY=new WeakMap,RZ=new WeakMap;var wJ=Object.defineProperty,wY=(e,t,r)=>t in e?wJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wZ=(e,t,r)=>(wY(e,"symbol"!=typeof t?t+"":t,r),r),wQ=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(wQ||{});let wX={0(e,t){let r=t.id,n=e.stack,i=e.stack.indexOf(r);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let i=e.stack.slice();return i.splice(n,1),{...e,stack:i}}};class w0 extends wq{static new(){return new w0({stack:[]})}reduce(e,t){return wu(t.type,wX,e,t)}constructor(){super(...arguments),wZ(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),wZ(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}}let w1=new wR(()=>w0.new());var w2=r(45236);function w3(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wH;return(0,w2.useSyncExternalStoreWithSelector)(y6(t=>e.subscribe(w5,t)),y6(()=>e.state),y6(()=>e.state),y6(t),r)}function w5(e){return e}function w4(e,t){let r=(0,f.useId)(),n=w1.get(t),[i,a]=w3(n,(0,f.useCallback)(e=>[n.selectors.isTop(e,r),n.selectors.inStack(e,r)],[n,r]));return y5(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),!!e&&(!a||i)}function w6(e){var t,r;return y3.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?null!=(r=null==(t=e.current)?void 0:t.ownerDocument)?r:document:null:document}let w8=new Map,w9=new Map;function w7(e){var t;let r=null!=(t=w9.get(e))?t:0;return w9.set(e,r+1),0!==r||(w8.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>(function(e){var t;let r=null!=(t=w9.get(e))?t:1;if(1===r?w9.delete(e):w9.set(e,r-1),1!==r)return;let n=w8.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,w8.delete(e))})(e)}function ve(e){let{allowed:t,disallowed:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w4(e,"inert-others");y5(()=>{var e,i;if(!n)return;let a=yZ();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&a.add(w7(t));let s=null!=(i=null==t?void 0:t())?i:[];for(let e of s){if(!e)continue;let t=w6(e);if(!t)continue;let r=e.parentElement;for(;r&&r!==t.body;){for(let e of r.children)s.some(t=>e.contains(t))||a.add(w7(e));r=r.parentElement}}return a.dispose},[n,t,r])}function vt(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function vr(e){return vt(e)&&"tagName"in e}function vn(e){return vr(e)&&"accessKey"in e}function vi(e){return vr(e)&&"tabIndex"in e}function va(e){return vn(e)&&"INPUT"===e.nodeName}function vs(e){return vn(e)&&"LABEL"===e.nodeName}function vo(e){return vn(e)&&"LEGEND"===e.nodeName}function vl(e,t,r){let n=y4(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});(0,f.useEffect)(()=>{if(!e)return;let r=null===t?null:vn(t)?t:t.current;if(!r)return;let i=yZ();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>n.current(r));e.observe(r),i.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>n.current(r));e.observe(r),i.add(()=>e.disconnect())}return()=>i.dispose()},[t,n,e])}let vc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(","),vd=["[data-autofocus]"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(",");var vu=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(vu||{}),vh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(vh||{}),vp=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(vp||{});function vf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(vc)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var vg=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(vg||{});function vm(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(t=w6(e))?void 0:t.body)&&wu(r,{0:()=>e.matches(vc),1(){let t=e;for(;null!==t;){if(t.matches(vc))return!0;t=t.parentElement}return!1}})}function vy(e){let t=w6(e);yZ().nextFrame(()=>{t&&vi(t.activeElement)&&!vm(t.activeElement,0)&&vv(e)})}var vw=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(vw||{});function vv(e){null==e||e.focus({preventScroll:!0})}function vb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let a=n.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function vx(e,t){var r,n,i;let{sorted:a=!0,relativeTo:s=null,skipElements:o=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,c=Array.isArray(e)?a?vb(e):e:64&t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(vd)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):vf(e);o.length>0&&c.length>1&&(c=c.filter(e=>!o.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),s=null!=s?s:l.activeElement;let d=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,c.indexOf(s))-1;if(4&t)return Math.max(0,c.indexOf(s))+1;if(8&t)return c.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=32&t?{preventScroll:!0}:{},p=0,f=c.length,g;do{if(p>=f||p+f<=0)return 0;let e=u+p;if(16&t)e=(e+f)%f;else{if(e<0)return 3;if(e>=f)return 1}null==(g=c[e])||g.focus(h),p+=d}while(g!==l.activeElement);return 6&t&&null!=(i=null==(n=null==(r=g)?void 0:r.matches)?void 0:n.call(r,"textarea,input"))&&i&&g.select(),2}function vE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function v_(){return vE()||/Android/gi.test(window.navigator.userAgent)}function vC(e,t,r,n){let i=y4(r);(0,f.useEffect)(()=>{if(e)return document.addEventListener(t,r,n),()=>document.removeEventListener(t,r,n);function r(e){i.current(e)}},[e,t,n])}function vk(e,t,r,n){let i=y4(r);(0,f.useEffect)(()=>{if(e)return window.addEventListener(t,r,n),()=>window.removeEventListener(t,r,n);function r(e){i.current(e)}},[e,t,n])}function vA(e,t,r){let n=y4(r),i=(0,f.useCallback)(function(e,r){if(e.defaultPrevented)return;let i=r(e);if(null!==i&&i.getRootNode().contains(i)&&i.isConnected){for(let r of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t))if(null!==r&&(r.contains(i)||e.composed&&e.composedPath().includes(r)))return;return vm(i,vg.Loose)||-1===i.tabIndex||e.preventDefault(),n.current(e,i)}},[n,t]),a=(0,f.useRef)(null);vC(e,"pointerdown",e=>{var t,r;v_()||(a.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),vC(e,"pointerup",e=>{if(v_()||!a.current)return;let t=a.current;return a.current=null,i(e,()=>t)},!0);let s=(0,f.useRef)({x:0,y:0});vC(e,"touchstart",e=>{s.current.x=e.touches[0].clientX,s.current.y=e.touches[0].clientY},!0),vC(e,"touchend",e=>{let t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(!(Math.abs(t.x-s.current.x)>=30||Math.abs(t.y-s.current.y)>=30))return i(e,()=>vi(e.target)?e.target:null)},!0),vk(e,"blur",e=>i(e,()=>{var e;return vn(e=window.document.activeElement)&&"IFRAME"===e.nodeName?window.document.activeElement:null}),!0)}function vI(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,f.useMemo)(()=>w6(...t),[...t])}"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));var vS=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(vS||{});let vT=wv(function(e,t){var r;let{features:n=1,...i}=e,a={ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return wf()({ourProps:a,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})}),vP=(0,f.createContext)(null);function vj(e){let{children:t,node:r}=e,[n,i]=(0,f.useState)(null),a=vN(null!=r?r:n);return f.createElement(vP.Provider,{value:a},t,null===a&&f.createElement(vT,{features:vS.Hidden,ref:e=>{var t,r;if(e){for(let n of null!=(r=null==(t=w6(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(n!==document.body&&n!==document.head&&vr(n)&&null!=n&&n.contains(e)){i(n);break}}}}))}function vN(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!=(e=(0,f.useContext)(vP))?e:t}let vO=function(e,t){let r=e(),n=new Set;return{getSnapshot:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),dispatch(e){for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];let o=t[e].call(r,...a);o&&(r=o,n.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:yZ(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT(e){let t,{doc:r,d:n,meta:i}=e,a={doc:r,d:n,meta:function(e){let t={};for(let r of e)Object.assign(t,r(t));return t}(i)},s=[vE()?{before(e){let{doc:t,d:r,meta:n}=e;function i(e){return n.containers.flatMap(e=>e()).some(t=>t.contains(e))}r.microTask(()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=yZ();e.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>e.dispose()))}let n=null!=(e=window.scrollY)?e:window.pageYOffset,a=null;r.addEventListener(t,"click",e=>{if(vi(e.target))try{let r=e.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),s=t.querySelector(n);vi(s)&&!i(s)&&(a=s)}catch(e){}},!0),r.addEventListener(t,"touchstart",e=>{var t;if(vi(e.target)&&vr(t=e.target)&&"style"in t)if(i(e.target)){let t=e.target;for(;t.parentElement&&i(t.parentElement);)t=t.parentElement;r.style(t,"overscrollBehavior","contain")}else r.style(e.target,"touchAction","none")}),r.addEventListener(t,"touchmove",e=>{if(vi(e.target)&&!va(e.target))if(i(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),r.add(()=>{var e;n!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,n),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{},{before(e){var r;let{doc:n}=e,i=n.documentElement;t=Math.max(0,(null!=(r=n.defaultView)?r:window).innerWidth-i.clientWidth)},after(e){let{doc:r,d:n}=e,i=r.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),s=Math.max(0,t-a);n.style(i,"paddingRight","".concat(s,"px"))}},{before(e){let{doc:t,d:r}=e;r.style(t.documentElement,"overflow","hidden")}}];s.forEach(e=>{let{before:t}=e;return null==t?void 0:t(a)}),s.forEach(e=>{let{after:t}=e;return null==t?void 0:t(a)})},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function v$(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>({containers:[]}),n=(0,f.useSyncExternalStore)(vO.subscribe,vO.getSnapshot,vO.getSnapshot),i=t?n.get(t):void 0;i&&i.count,y5(()=>{if(!(!t||!e))return vO.dispatch("PUSH",t,r),()=>vO.dispatch("POP",t,r)},[e,t])}(w4(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}vO.subscribe(()=>{let e=vO.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&vO.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&vO.dispatch("TEARDOWN",r)}});let vM=(0,f.createContext)(()=>{});function vR(e){let{value:t,children:r}=e;return f.createElement(vM.Provider,{value:t},r)}let vD=(0,f.createContext)(!1);function vL(e){return f.createElement(vD.Provider,{value:e.force},e.children)}let vU=(0,f.createContext)(void 0);function vF(){return(0,f.useContext)(vU)}let vB=(0,f.createContext)(null);function vW(){let[e,t]=(0,f.useState)([]);return[e.length>0?e.join(" "):void 0,(0,f.useMemo)(()=>function(e){let r=y6(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,f.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return f.createElement(vB.Provider,{value:n},e.children)},[t])]}vB.displayName="DescriptionContext";let vz=Object.assign(wv(function(e,t){let r=(0,f.useId)(),n=vF(),{id:i="headlessui-description-".concat(r),...a}=e,s=function e(){let t=(0,f.useContext)(vB);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),o=we(t);y5(()=>s.register(i),[i,s.register]);let l=n||!1,c=(0,f.useMemo)(()=>({...s.slot,disabled:l}),[s.slot,l]),d={ref:o,...s.props,id:i};return wf()({ourProps:d,theirProps:a,slot:c,defaultTag:"p",name:s.name||"Description"})}),{});function vq(e){let t=y6(e),r=(0,f.useRef)(!1);(0,f.useEffect)(()=>(r.current=!1,()=>{r.current=!0,yY(()=>{r.current&&t()})}),[t])}var vH=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(vH||{});function vV(e,t){let r=(0,f.useRef)([]),n=y6(e);(0,f.useEffect)(()=>{let e=[...r.current];for(let[i,a]of t.entries())if(r.current[i]!==a){let i=n(t,e);return r.current=t,i}},[n,...t])}let vG=[];function vK(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)vr(r.current)&&t.add(r.current);return t}!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){if(!vi(e.target)||e.target===document.body||vG[0]===e.target)return;let t=e.target;t=t.closest(vc),vG.unshift(null!=t?t:e.target),(vG=vG.filter(e=>null!=e&&e.isConnected)).splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var vJ=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(vJ||{});let vY=Object.assign(wv(function(e,t){let r,n=(0,f.useRef)(null),i=we(n,t),{initialFocus:a,initialFocusFallback:s,containers:o,features:l=15,...c}=e;y9()||(l=0);let d=vI(n);!function(e,t){let{ownerDocument:r}=t,n=!!(8&e),i=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,f.useRef)(vG.slice());return vV((e,r)=>{let[n]=e,[i]=r;!0===i&&!1===n&&yY(()=>{t.current.splice(0)}),!1===i&&!0===n&&(t.current=vG.slice())},[e,vG,t]),y6(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(n);vV(()=>{n||(null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&vv(i())},[n]),vq(()=>{n&&vv(i())})}(l,{ownerDocument:d});let u=function(e,t){let{ownerDocument:r,container:n,initialFocus:i,initialFocusFallback:a}=t,s=(0,f.useRef)(null),o=w4(!!(1&e),"focus-trap#initial-focus"),l=y8();return vV(()=>{if(0===e)return;if(!o){null!=a&&a.current&&vv(a.current);return}let t=n.current;t&&yY(()=>{if(!l.current)return;let n=null==r?void 0:r.activeElement;if(null!=i&&i.current){if((null==i?void 0:i.current)===n){s.current=n;return}}else if(t.contains(n)){s.current=n;return}if(null!=i&&i.current)vv(i.current);else{if(16&e){if(vx(t,vu.First|vu.AutoFocus)!==vh.Error)return}else if(vx(t,vu.First)!==vh.Error)return;if(null!=a&&a.current&&(vv(a.current),(null==r?void 0:r.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=null==r?void 0:r.activeElement})},[a,o,e]),s}(l,{ownerDocument:d,container:n,initialFocus:a,initialFocusFallback:s});!function(e,t){let{ownerDocument:r,container:n,containers:i,previousActiveElement:a}=t,s=y8(),o=!!(4&e);wM(null==r?void 0:r.defaultView,"focus",e=>{if(!o||!s.current)return;let t=vK(i);vn(n.current)&&t.add(n.current);let r=a.current;if(!r)return;let l=e.target;vn(l)?vZ(t,l)?(a.current=l,vv(l)):(e.preventDefault(),e.stopPropagation(),vv(r)):vv(a.current)},!0)}(l,{ownerDocument:d,container:n,containers:o,previousActiveElement:u});let h=(r=(0,f.useRef)(0),vk(!0,"keydown",e=>{"Tab"===e.key&&(r.current=+!!e.shiftKey)},!0),r),p=y6(e=>{if(!vn(n.current))return;let t=n.current;wu(h.current,{[vH.Forwards]:()=>{vx(t,vu.First,{skipElements:[e.relatedTarget,s]})},[vH.Backwards]:()=>{vx(t,vu.Last,{skipElements:[e.relatedTarget,s]})}})}),g=w4(!!(2&l),"focus-trap#tab-lock"),m=yQ(),y=(0,f.useRef)(!1),w=wf();return f.createElement(f.Fragment,null,g&&f.createElement(vT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:vS.Focusable}),w({ourProps:{ref:i,onKeyDown(e){"Tab"==e.key&&(y.current=!0,m.requestAnimationFrame(()=>{y.current=!1}))},onBlur(e){if(!(4&l))return;let t=vK(o);vn(n.current)&&t.add(n.current);let r=e.relatedTarget;vi(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(vZ(t,r)||(y.current?vx(n.current,wu(h.current,{[vH.Forwards]:()=>vu.Next,[vH.Backwards]:()=>vu.Previous})|vu.WrapAround,{relativeTo:e.target}):vi(e.target)&&vv(e.target)))}},theirProps:c,defaultTag:"div",name:"FocusTrap"}),g&&f.createElement(vT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:vS.Focusable}))}),{features:vJ});function vZ(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var vQ=r(98617);let vX=f.Fragment,v0=wv(function(e,t){let{ownerDocument:r=null,...n}=e,i=(0,f.useRef)(null),a=we(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Object.assign(e,{[y7]:t})}(e=>{i.current=e}),t),s=vI(i),o=null!=r?r:s,l=function(e){let t=(0,f.useContext)(vD),r=(0,f.useContext)(v2),[n,i]=(0,f.useState)(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(y3.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return(0,f.useEffect)(()=>{null!==n&&(null!=e&&e.body.contains(n)||null==e||e.body.appendChild(n))},[n,e]),(0,f.useEffect)(()=>{t||null!==r&&i(r.current)},[r,i,t]),n}(o),[c]=(0,f.useState)(()=>{var e;return y3.isServer?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null}),d=(0,f.useContext)(v3),u=y9();y5(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),y5(()=>{if(c&&d)return d.register(c)},[d,c]),vq(()=>{var e;l&&c&&(vt(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&(null==(e=l.parentElement)||e.removeChild(l)))});let h=wf();return u&&l&&c?(0,vQ.createPortal)(h({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:vX,name:"Portal"}),c):null}),v1=f.Fragment,v2=(0,f.createContext)(null),v3=(0,f.createContext)(null),v5=wv(function(e,t){let r=we(t),{enabled:n=!0,ownerDocument:i,...a}=e,s=wf();return n?f.createElement(v0,{...a,ownerDocument:i,ref:r}):s({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:vX,name:"Portal"})}),v4=wv(function(e,t){let{target:r,...n}=e,i={ref:we(t)},a=wf();return f.createElement(v2.Provider,{value:r},a({ourProps:i,theirProps:n,defaultTag:v1,name:"Popover.Group"}))}),v6=Object.assign(v5,{Group:v4});var v8=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(v8||{}),v9=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(v9||{});let v7={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},be=(0,f.createContext)(null);function bt(e){let t=(0,f.useContext)(be);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,bt),t}return t}function br(e,t){return wu(t.type,v7,e,t)}be.displayName="DialogContext";let bn=wv(function(e,t){let r,n,i,a,s,o=(0,f.useId)(),{id:l="headlessui-dialog-".concat(o),open:c,onClose:d,initialFocus:u,role:h="dialog",autoFocus:p=!0,__demoMode:g=!1,unmount:m=!1,...y}=e,w=(0,f.useRef)(!1);h="dialog"===h||"alertdialog"===h?h:(w.current||(w.current=!0,console.warn("Invalid role [".concat(h,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let v=wo();void 0===c&&null!==v&&(c=(v&ws.Open)===ws.Open);let b=(0,f.useRef)(null),x=we(b,t),E=vI(b),_=+!c,[C,k]=(0,f.useReducer)(br,{titleId:null,descriptionId:null,panelRef:(0,f.createRef)()}),A=y6(()=>d(!1)),I=y6(e=>k({type:0,id:e})),S=!!y9()&&0===_,[T,P]=(r=(0,f.useContext)(v3),n=(0,f.useRef)([]),i=y6(e=>(n.current.push(e),r&&r.register(e),()=>a(e))),a=y6(e=>{let t=n.current.indexOf(e);-1!==t&&n.current.splice(t,1),r&&r.unregister(e)}),s=(0,f.useMemo)(()=>({register:i,unregister:a,portals:n}),[i,a,n]),[n,(0,f.useMemo)(()=>function(e){let{children:t}=e;return f.createElement(v3.Provider,{value:s},t)},[s])]),j=vN(),{resolveContainers:N}=function(){let{defaultContainers:e=[],portals:t,mainTreeNode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=vI(r),i=y6(()=>{var i,a;let s=[];for(let t of e)null!==t&&(vr(t)?s.push(t):"current"in t&&vr(t.current)&&s.push(t.current));if(null!=t&&t.current)for(let e of t.current)s.push(e);for(let e of null!=(i=null==n?void 0:n.querySelectorAll("html > *, body > *"))?i:[])e!==document.body&&e!==document.head&&vr(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(a=null==r?void 0:r.getRootNode())?void 0:a.host))||s.some(t=>e.contains(t))||s.push(e));return s});return{resolveContainers:i,contains:y6(e=>i().some(t=>t.contains(e)))}}({mainTreeNode:j,portals:T,defaultContainers:[{get current(){var O;return null!=(O=C.panelRef.current)?O:b.current}}]}),$=null!==v&&(v&ws.Closing)===ws.Closing;ve(!g&&!$&&S,{allowed:y6(()=>{var e,t;return[null!=(t=null==(e=b.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:y6(()=>{var e;return[null!=(e=null==j?void 0:j.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let M=w1.get(null);y5(()=>{if(S)return M.actions.push(l),()=>M.actions.pop(l)},[M,l,S]);let R=w3(M,(0,f.useCallback)(e=>M.selectors.isTop(e,l),[M,l]));vA(R,N,e=>{e.preventDefault(),A()}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof document?document.defaultView:null,r=arguments.length>2?arguments[2]:void 0,n=w4(e,"escape");wM(t,"keydown",e=>{n&&(e.defaultPrevented||e.key===w$.Escape&&r(e))})}(R,null==E?void 0:E.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),A()}),v$(!g&&!$&&S,E,N),vl(S,b,A);let[D,L]=vW(),U=(0,f.useMemo)(()=>[{dialogState:_,close:A,setTitleId:I,unmount:m},C],[_,C,A,I,m]),F=(0,f.useMemo)(()=>({open:0===_}),[_]),B={ref:x,id:l,role:h,tabIndex:-1,"aria-modal":g?void 0:0===_||void 0,"aria-labelledby":C.titleId,"aria-describedby":D,unmount:m},W=!function(){var e;let[t]=(0,f.useState)(()=>"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[r,n]=(0,f.useState)(null!=(e=null==t?void 0:t.matches)&&e);return y5(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){n(e.matches)}},[t]),r}(),z=vJ.None;S&&!g&&(z|=vJ.RestoreFocus,z|=vJ.TabLock,p&&(z|=vJ.AutoFocus),W&&(z|=vJ.InitialFocus));let q=wf();return f.createElement(wc,null,f.createElement(vL,{force:!0},f.createElement(v6,null,f.createElement(be.Provider,{value:U},f.createElement(v4,{target:b},f.createElement(vL,{force:!1},f.createElement(L,{slot:F},f.createElement(P,null,f.createElement(vY,{initialFocus:u,initialFocusFallback:b,containers:N,features:z},f.createElement(vR,{value:A},q({ourProps:B,theirProps:y,slot:F,defaultTag:bi,features:ba,visible:0===_,name:"Dialog"})))))))))))}),bi="div",ba=wh.RenderStrategy|wh.Static,bs=wv(function(e,t){let{transition:r=!1,open:n,...i}=e,a=wo(),s=e.hasOwnProperty("open")||null!==a,o=e.hasOwnProperty("onClose");if(!s&&!o)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&"boolean"!=typeof e.open)throw Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(e.open));if("function"!=typeof e.onClose)throw Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(e.onClose));return(void 0!==n||r)&&!i.static?f.createElement(vj,null,f.createElement(wO,{show:n,transition:r,unmount:i.unmount},f.createElement(bn,{ref:t,...i}))):f.createElement(vj,null,f.createElement(bn,{ref:t,open:n,...i}))}),bo=wv(function(e,t){let r=(0,f.useId)(),{id:n="headlessui-dialog-panel-".concat(r),transition:i=!1,...a}=e,[{dialogState:s,unmount:o},l]=bt("Dialog.Panel"),c=we(t,l.panelRef),d=(0,f.useMemo)(()=>({open:0===s}),[s]),u=y6(e=>{e.stopPropagation()}),h=i?wN:f.Fragment,p=wf();return f.createElement(h,{...i?{unmount:o}:{}},p({ourProps:{ref:c,id:n,onClick:u},theirProps:a,slot:d,defaultTag:"div",name:"Dialog.Panel"}))}),bl=Object.assign(bs,{Panel:bo,Title:(wv(function(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:a}]=bt("Dialog.Backdrop"),s=(0,f.useMemo)(()=>({open:0===i}),[i]),o=r?wN:f.Fragment,l=wf();return f.createElement(o,{...r?{unmount:a}:{}},l({ourProps:{ref:t,"aria-hidden":!0},theirProps:n,slot:s,defaultTag:"div",name:"Dialog.Backdrop"}))}),wv(function(e,t){let r=(0,f.useId)(),{id:n="headlessui-dialog-title-".concat(r),...i}=e,[{dialogState:a,setTitleId:s}]=bt("Dialog.Title"),o=we(t);(0,f.useEffect)(()=>(s(n),()=>s(null)),[n,s]);let l=(0,f.useMemo)(()=>({open:0===a}),[a]);return wf()({ourProps:{ref:o,id:n},theirProps:i,slot:l,defaultTag:"h2",name:"Dialog.Title"})})),Description:vz}),bc="undefined"!=typeof document?f.useLayoutEffect:()=>{};function bd(e){return e.nativeEvent=e,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function bu(e){let t=(0,f.useRef)({isFocused:!1,observer:null});bc(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let r=function(e){let t=(0,f.useRef)(null);return bc(()=>{t.current=e},[e]),(0,f.useCallback)((...e)=>{let r=t.current;return null==r?void 0:r(...e)},[])}(t=>{null==e||e(t)});return(0,f.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=e.target;n.addEventListener("focusout",e=>{t.current.isFocused=!1,n.disabled&&r(bd(e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&n.disabled){var e;null==(e=t.current.observer)||e.disconnect();let r=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function bh(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null==(t=window.navigator.userAgentData)?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function bp(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}function bf(e){let t=null;return()=>(null==t&&(t=e()),t)}let bg=bf(function(){return bp(/^Mac/i)}),bm=bf(function(){return bp(/^iPhone/i)}),by=bf(function(){return bp(/^iPad/i)||bg()&&navigator.maxTouchPoints>1}),bw=bf(function(){return bm()||by()});bf(function(){return bg()||bw()}),bf(function(){return bh(/AppleWebKit/i)&&!bv()});let bv=bf(function(){return bh(/Chrome/i)}),bb=bf(function(){return bh(/Android/i)});bf(function(){return bh(/Firefox/i)});let bx=e=>{var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document},bE=e=>e&&"window"in e&&e.window===e?e:bx(e).defaultView||window,b_=null,bC=new Set,bk=new Map,bA=!1,bI=!1,bS={Tab:!0,Escape:!0};function bT(e,t){for(let r of bC)r(e,t)}function bP(e){bA=!0,e.metaKey||!bg()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(b_="keyboard",bT("keyboard",e))}function bj(e){b_="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(bA=!0,bT("pointer",e))}function bN(e){(0===e.mozInputSource&&e.isTrusted||(bb()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(bA=!0,b_="virtual")}function bO(e){e.target!==window&&e.target!==document&&e.isTrusted&&(bA||bI||(b_="virtual",bT("virtual",e)),bA=!1,bI=!1)}function b$(){bA=!1,bI=!0}function bM(e){if("undefined"==typeof window||"undefined"==typeof document||bk.get(bE(e)))return;let t=bE(e),r=bx(e),n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){bA=!0,n.apply(this,arguments)},r.addEventListener("keydown",bP,!0),r.addEventListener("keyup",bP,!0),r.addEventListener("click",bN,!0),t.addEventListener("focus",bO,!0),t.addEventListener("blur",b$,!1),"undefined"!=typeof PointerEvent&&(r.addEventListener("pointerdown",bj,!0),r.addEventListener("pointermove",bj,!0),r.addEventListener("pointerup",bj,!0)),t.addEventListener("beforeunload",()=>{bR(e)},{once:!0}),bk.set(t,{focus:n})}let bR=(e,t)=>{let r=bE(e),n=bx(e);t&&n.removeEventListener("DOMContentLoaded",t),bk.has(r)&&(r.HTMLElement.prototype.focus=bk.get(r).focus,n.removeEventListener("keydown",bP,!0),n.removeEventListener("keyup",bP,!0),n.removeEventListener("click",bN,!0),r.removeEventListener("focus",bO,!0),r.removeEventListener("blur",b$,!1),"undefined"!=typeof PointerEvent&&(n.removeEventListener("pointerdown",bj,!0),n.removeEventListener("pointermove",bj,!0),n.removeEventListener("pointerup",bj,!0)),bk.delete(r))};function bD(){return"pointer"!==b_}"undefined"!=typeof document&&function(e){let t,r=bx(void 0);"loading"!==r.readyState?bM(void 0):(t=()=>{bM(e)},r.addEventListener("DOMContentLoaded",t)),()=>bR(e,t)}();let bL=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function bU(e,t){1;return!!t&&!!e&&e.contains(t)}let bF=(e=document)=>{var t;1;return e.activeElement};function bB(e){return 0,e.target}function bW(){let e=(0,f.useRef)(new Map),t=(0,f.useCallback)((t,r,n,i)=>{let a=(null==i?void 0:i.once)?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:a,options:i}),t.addEventListener(r,a,i)},[]),r=(0,f.useCallback)((t,r,n,i)=>{var a;let s=(null==(a=e.current.get(n))?void 0:a.fn)||n;t.removeEventListener(r,s,i),e.current.delete(n)},[]),n=(0,f.useCallback)(()=>{e.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]);return(0,f.useEffect)(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}let bz=!1,bq=0;function bH(e){"touch"===e.pointerType&&(bz=!0,setTimeout(()=>{bz=!1},50))}function bV(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",bH),bq++,()=>{--bq>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",bH)}}var bG=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(bG||{});let bK={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},bJ=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bY(e){var t,r;let n=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!vn(i))return n;let a=!1;for(let e of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),a=!0;let s=a?null!=(r=i.innerText)?r:"":n;return bJ.test(s)&&(s=s.replace(bJ,"")),s}function bZ(e){return[e.screenX,e.screenY]}function bQ(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}let bX=Math.min,b0=Math.max,b1=Math.round,b2=Math.floor,b3=e=>({x:e,y:e}),b5={left:"right",right:"left",bottom:"top",top:"bottom"},b4={start:"end",end:"start"};function b6(e,t){return"function"==typeof e?e(t):e}function b8(e){return e.split("-")[0]}function b9(e){return e.split("-")[1]}function b7(e){return"x"===e?"y":"x"}function xe(e){return"y"===e?"height":"width"}function xt(e){return["top","bottom"].includes(b8(e))?"y":"x"}function xr(e){return e.replace(/start|end/g,e=>b4[e])}function xn(e){return e.replace(/left|right|bottom|top/g,e=>b5[e])}function xi(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function xa(){return"undefined"!=typeof window}function xs(e){return xc(e)?(e.nodeName||"").toLowerCase():"#document"}function xo(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function xl(e){var t;return null==(t=(xc(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function xc(e){return!!xa()&&(e instanceof Node||e instanceof xo(e).Node)}function xd(e){return!!xa()&&(e instanceof Element||e instanceof xo(e).Element)}function xu(e){return!!xa()&&(e instanceof HTMLElement||e instanceof xo(e).HTMLElement)}function xh(e){return!!xa()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof xo(e).ShadowRoot)}function xp(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=xw(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function xf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function xg(e){let t=xm(),r=xd(e)?xw(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function xm(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function xy(e){return["html","body","#document"].includes(xs(e))}function xw(e){return xo(e).getComputedStyle(e)}function xv(e){return xd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xb(e){if("html"===xs(e))return e;let t=e.assignedSlot||e.parentNode||xh(e)&&e.host||xl(e);return xh(t)?t.host:t}function xx(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=xb(t);return xy(r)?t.ownerDocument?t.ownerDocument.body:t.body:xu(r)&&xp(r)?r:e(r)}(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),s=xo(i);if(a){let e=xE(s);return t.concat(s,s.visualViewport||[],xp(i)?i:[],e&&r?xx(e):[])}return t.concat(i,xx(i,[],r))}function xE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function x_(e,t,r){let n,{reference:i,floating:a}=e,s=xt(t),o=b7(xt(t)),l=xe(o),c=b8(t),d="y"===s,u=i.x+i.width/2-a.width/2,h=i.y+i.height/2-a.height/2,p=i[l]/2-a[l]/2;switch(c){case"top":n={x:u,y:i.y-a.height};break;case"bottom":n={x:u,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:h};break;case"left":n={x:i.x-a.width,y:h};break;default:n={x:i.x,y:i.y}}switch(b9(t)){case"start":n[o]-=p*(r&&d?-1:1);break;case"end":n[o]+=p*(r&&d?-1:1)}return n}let xC=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await (null==s.isRTL?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=x_(c,n,l),h=n,p={},f=0;for(let r=0;r<o.length;r++){let{name:a,fn:g}=o[r],{x:m,y:y,data:w,reset:v}=await g({x:d,y:u,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=y?y:u,p={...p,[a]:{...p[a],...w}},v&&f<=50&&(f++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):v.rects),{x:d,y:u}=x_(c,h,l)),r=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}};async function xk(e,t){var r,n;void 0===t&&(t={});let{x:i,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=b6(t,e),g="number"!=typeof(n=f)?{top:0,right:0,bottom:0,left:0,...n}:{top:n,right:n,bottom:n,left:n},m=l[p?"floating"===h?"reference":"floating":h],y=xi(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(m)))||r?m:m.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w="floating"===h?{x:i,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),b=await (null==s.isElement?void 0:s.isElement(v))&&await (null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},x=xi(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:v,strategy:c}):w);return{top:(y.top-x.top+g.top)/b.y,bottom:(x.bottom-y.bottom+g.bottom)/b.y,left:(y.left-x.left+g.left)/b.x,right:(x.right-y.right+g.right)/b.x}}async function xA(e,t){let{placement:r,platform:n,elements:i}=e,a=await (null==n.isRTL?void 0:n.isRTL(i.floating)),s=b8(r),o=b9(r),l="y"===xt(r),c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=b6(t,e),{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}function xI(e){let t=xw(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=xu(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=b1(r)!==a||b1(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function xS(e){return xd(e)?e:e.contextElement}function xT(e){let t=xS(e);if(!xu(t))return b3(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:a}=xI(t),s=(a?b1(r.width):r.width)/n,o=(a?b1(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}let xP=b3(0);function xj(e){let t=xo(e);return xm()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xP}function xN(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let a=e.getBoundingClientRect(),s=xS(e),o=b3(1);t&&(n?xd(n)&&(o=xT(n)):o=xT(e));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===xo(s))&&i)?xj(s):b3(0),c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(s){let e=xo(s),t=n&&xd(n)?xo(n):n,r=e,i=xE(r);for(;i&&n&&t!==r;){let e=xT(i),t=i.getBoundingClientRect(),n=xw(i),a=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,h*=e.y,c+=a,d+=s,i=xE(r=xo(i))}}return xi({width:u,height:h,x:c,y:d})}function xO(e,t){let r=xv(e).scrollLeft;return t?t.left+r:xN(xl(e)).left+r}function x$(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:xO(e,n)),y:n.top+t.scrollTop}}function xM(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=xo(e),n=xl(e),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;let e=xm();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,r);else if("document"===t)n=function(e){let t=xl(e),r=xv(e),n=e.ownerDocument.body,i=b0(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=b0(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),s=-r.scrollLeft+xO(e),o=-r.scrollTop;return"rtl"===xw(n).direction&&(s+=b0(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}(xl(e));else if(xd(t))n=function(e,t){let r=xN(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=xu(e)?xT(e):b3(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y;return{width:s,height:o,x:i*a.x,y:n*a.y}}(t,r);else{let r=xj(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return xi(n)}function xR(e){return"static"===xw(e).position}function xD(e,t){if(!xu(e)||"fixed"===xw(e).position)return null;if(t)return t(e);let r=e.offsetParent;return xl(e)===r&&(r=r.ownerDocument.body),r}function xL(e,t){let r=xo(e);if(xf(e))return r;if(!xu(e)){let t=xb(e);for(;t&&!xy(t);){if(xd(t)&&!xR(t))return t;t=xb(t)}return r}let n=xD(e,t);for(;n&&["table","td","th"].includes(xs(n))&&xR(n);)n=xD(n,t);return n&&xy(n)&&xR(n)&&!xg(n)?r:n||function(e){let t=xb(e);for(;xu(t)&&!xy(t);){if(xg(t))return t;if(xf(t))break;t=xb(t)}return null}(e)||r}let xU=async function(e){let t=this.getOffsetParent||xL,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=xu(t),i=xl(t),a="fixed"===r,s=xN(e,!0,a,t),o={scrollLeft:0,scrollTop:0},l=b3(0);if(n||!n&&!a)if(("body"!==xs(t)||xp(i))&&(o=xv(t)),n){let e=xN(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=xO(i));a&&!n&&i&&(l.x=xO(i));let c=!i||n||a?b3(0):x$(i,o);return{x:s.left+o.scrollLeft-l.x-c.x,y:s.top+o.scrollTop-l.y-c.y,width:s.width,height:s.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},xF={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,a="fixed"===i,s=xl(n),o=!!t&&xf(t.floating);if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=b3(1),d=b3(0),u=xu(n);if((u||!u&&!a)&&(("body"!==xs(n)||xp(s))&&(l=xv(n)),xu(n))){let e=xN(n);c=xT(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let h=!s||u||a?b3(0):x$(s,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:xl,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[..."clippingAncestors"===r?xf(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=xx(e,[],!1).filter(e=>xd(e)&&"body"!==xs(e)),i=null,a="fixed"===xw(e).position,s=a?xb(e):e;for(;xd(s)&&!xy(s);){let t=xw(s),r=xg(s);r||"fixed"!==t.position||(i=null),(a?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||xp(s)&&!r&&function e(t,r){let n=xb(t);return!(n===r||!xd(n)||xy(n))&&("fixed"===xw(n).position||e(n,r))}(e,s))?n=n.filter(e=>e!==s):i=t,s=xb(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=a[0],o=a.reduce((e,r)=>{let n=xM(t,r,i);return e.top=b0(n.top,e.top),e.right=bX(n.right,e.right),e.bottom=bX(n.bottom,e.bottom),e.left=b0(n.left,e.left),e},xM(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:xL,getElementRects:xU,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=xI(e);return{width:t,height:r}},getScale:xT,isElement:xd,isRTL:function(e){return"rtl"===xw(e).direction}};function xB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xW(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,d=xS(e),u=a||s?[...d?xx(d):[],...xx(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let h=d&&l?function(e,t){let r,n=null,i=xl(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();let c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;let f=b2(u),g=b2(i.clientWidth-(d+h)),m={rootMargin:-f+"px "+-g+"px "+-b2(i.clientHeight-(u+p))+"px "+-b2(d)+"px",threshold:b0(0,bX(1,l))||1},y=!0;function w(t){let n=t[0].intersectionRatio;if(n!==l){if(!y)return s();n?s(!1,n):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==n||xB(c,e.getBoundingClientRect())||s(),y=!1}try{n=new IntersectionObserver(w,{...m,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(w,m)}n.observe(e)}(!0),a}(d,r):null,p=-1,f=null;o&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let g=c?xN(e):null;return c&&function t(){let n=xN(e);g&&!xB(g,n)&&r(),g=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(i)}}let xz=(e,t,r)=>{let n=new Map,i={platform:xF,...r},a={...i.platform,_c:n};return xC(e,t,{...i,platform:a})};var xq="undefined"!=typeof document?f.useLayoutEffect:function(){};function xH(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!xH(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!xH(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function xV(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xG(e,t){let r=xV(e);return Math.round(t*r)/r}function xK(e){let t=f.useRef(e);return xq(()=>{t.current=e}),t}let xJ=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:a,placement:s,middlewareData:o}=t,l=await xA(t,e);return s===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}}(e),options:[e,t]}),xY=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=b6(e,t),c={x:r,y:n},d=await xk(t,l),u=xt(b8(i)),h=b7(u),p=c[h],f=c[u];if(a){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",r=p+d[e],n=p-d[t];p=b0(r,bX(p,n))}if(s){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=f+d[e],n=f-d[t];f=b0(r,bX(f,n))}let g=o.fn({...t,[h]:p,[u]:f});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[u]:s}}}}}}(e),options:[e,t]}),xZ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,i,a,s;let{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:u,elements:h}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...v}=b6(e,t);if(null!=(r=l.arrow)&&r.alignmentOffset)return{};let b=b8(o),x=xt(d),E=b8(d)===d,_=await (null==u.isRTL?void 0:u.isRTL(h.floating)),C=g||(E||!w?[xn(d)]:function(e){let t=xn(e);return[xr(e),t,xr(t)]}(d)),k="none"!==y;!g&&k&&C.push(...function(e,t,r,n){let i=b9(e),a=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(b8(e),"start"===r,n);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(xr)))),a}(d,w,y,_));let A=[d,...C],I=await xk(t,v),S=[],T=(null==(n=l.flip)?void 0:n.overflows)||[];if(p&&S.push(I[b]),f){let e=function(e,t,r){void 0===r&&(r=!1);let n=b9(e),i=b7(xt(e)),a=xe(i),s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=xn(s)),[s,xn(s)]}(o,c,_);S.push(I[e[0]],I[e[1]])}if(T=[...T,{placement:o,overflows:S}],!S.every(e=>e<=0)){let e=((null==(i=l.flip)?void 0:i.index)||0)+1,t=A[e];if(t&&("alignment"!==f||x===xt(t)||T.every(e=>e.overflows[0]>0&&xt(e.placement)===x)))return{data:{index:e,overflows:T},reset:{placement:t}};let r=null==(a=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(m){case"bestFit":{let e=null==(s=T.filter(e=>{if(k){let t=xt(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=d}if(o!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),xQ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;let i,a,{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...u}=b6(e,t),h=await xk(t,u),p=b8(s),f=b9(s),g="y"===xt(s),{width:m,height:y}=o.floating;"top"===p||"bottom"===p?(i=p,a=f===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(a=p,i="end"===f?"top":"bottom");let w=y-h.top-h.bottom,v=m-h.left-h.right,b=bX(y-h[i],w),x=bX(m-h[a],v),E=!t.middlewareData.shift,_=b,C=x;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=v),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(_=w),E&&!f){let e=b0(h.left,0),t=b0(h.right,0),r=b0(h.top,0),n=b0(h.bottom,0);g?C=m-2*(0!==e||0!==t?e+t:b0(h.left,h.right)):_=y-2*(0!==r||0!==n?r+n:b0(h.top,h.bottom))}await d({...t,availableWidth:C,availableHeight:_});let k=await l.getDimensions(c.floating);return m!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),xX={...g},x0=xX.useInsertionEffect||(e=>e());function x1(e){let t=f.useRef(()=>{});return x0(()=>{t.current=e}),f.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}let x2="ArrowUp",x3="ArrowDown",x5="ArrowLeft",x4="ArrowRight";function x6(e,t){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:i,amount:a=1}=void 0===t?{}:t,s=e.current,o=r;do o+=n?-a:a;while(o>=0&&o<=s.length-1&&function(e,t,r){if(r)return r.includes(t);let n=e[t];return null==n||n.hasAttribute("disabled")||"true"===n.getAttribute("aria-disabled")}(s,o,i));return o}var x8="undefined"!=typeof document?f.useLayoutEffect:f.useEffect;let x9=!1,x7=0,Ee=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+x7++,Et=xX.useId||function(){let[e,t]=f.useState(()=>x9?Ee():void 0);return x8(()=>{null==e&&t(Ee())},[]),f.useEffect(()=>{x9=!0},[]),e},Er=f.createContext(null),En=f.createContext(null),Ei=()=>{var e;return(null==(e=f.useContext(Er))?void 0:e.id)||null},Ea=()=>f.useContext(En),Es=()=>{},Eo=f.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Es,setState:Es,isInstantPhase:!1}),El=0,Ec=new WeakMap,Ed=new WeakSet,Eu={},Eh=0,Ep=e=>e&&(e.host||Ep(e.parentNode)),Ef=(e,t)=>t.map(t=>{if(e.contains(t))return t;let r=Ep(t);return e.contains(r)?r:null}).filter(e=>null!=e),Eg=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Em(e,t){let r=tabbable(e,Eg());"prev"===t&&r.reverse();let n=r.indexOf(activeElement(getDocument(e)));return r.slice(n+1)[0]}let Ey="data-floating-ui-focusable",Ew=null,Ev="active",Eb="selected";function Ex(e,t,r){let n=new Map,i="item"===r,a=e;if(i&&e){let{[Ev]:t,[Eb]:r,...n}=e;a=n}return{..."floating"===r&&{tabIndex:-1,[Ey]:""},...a,...t.map(t=>{let n=t?t[r]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[r,a]=t;if(!(i&&[Ev,Eb].includes(r)))if(0===r.indexOf("on")){if(n.has(r)||n.set(r,[]),"function"==typeof a){var s;null==(s=n.get(r))||s.push(a),e[r]=function(){for(var e,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return null==(e=n.get(r))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)}}}else e[r]=a}),e),{})}}function EE(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function E_(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let EC=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:i,offset:a=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=b6(e,t),{rects:u,elements:{floating:h}}=t,p=r.current[s],f=(null==c?void 0:c.current)||h,g=h.clientTop||f.clientTop,m=0!==h.clientTop,y=0!==f.clientTop,w=h===f;if(!p)return{};let v={...t,...await xJ(-p.offsetTop-h.clientTop-u.reference.height/2-p.offsetHeight/2-a).fn(t)},b=await xk(E_(v,f.scrollHeight+g+h.clientTop),d),x=await xk(v,{...d,elementContext:"reference"}),E=b0(0,b.top),_=v.y+E,C=(f.scrollHeight>f.clientHeight?e=>e:b1)(b0(0,f.scrollHeight+(m&&w||y?2*g:0)-E-b0(0,b.bottom)));if(f.style.maxHeight=C+"px",f.scrollTop=E,i){let e=f.offsetHeight<p.offsetHeight*bX(o,r.current.length)-1||x.top>=-l||x.bottom>=-l;vQ.flushSync(()=>i(e))}return n&&(n.current=await xk(E_({...v,y:_},f.offsetHeight+g+h.clientTop),d)),{y:_}}}),Ek=(0,f.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ek.displayName="FloatingContext";let EA=(0,f.createContext)(null);function EI(e){var t,r,n,i,a,s;let o,l,c,{children:d,enabled:u=!0}=e,[h,p]=(0,f.useState)(null),[g,m]=(0,f.useState)(0),y=(0,f.useRef)(null),[w,v]=(0,f.useState)(null);y5(()=>{if(!t)return;let e=new MutationObserver(()=>{let e=window.getComputedStyle(t).maxHeight,r=parseFloat(e);if(isNaN(r))return;let n=parseInt(e);isNaN(n)||r!==n&&(t.style.maxHeight="".concat(Math.ceil(r),"px"))});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t=w]);let b=u&&null!==h&&null!==w,{to:x="bottom",gap:E=0,offset:_=0,padding:C=0,inner:k}=(r=h,n=w,o=ES(null!=(i=null==r?void 0:r.gap)?i:"var(--anchor-gap, 0)",n),l=ES(null!=(a=null==r?void 0:r.offset)?a:"var(--anchor-offset, 0)",n),c=ES(null!=(s=null==r?void 0:r.padding)?s:"var(--anchor-padding, 0)",n),{...r,gap:o,offset:l,padding:c}),[A,I="center"]=x.split(" ");y5(()=>{b&&m(0)},[b]);let{refs:S,floatingStyles:T,context:P}=function(e){void 0===e&&(e={});let{nodeId:t}=e,r=function(e){let{open:t=!1,onOpenChange:r,elements:n}=e,i=Et(),a=f.useRef({}),[s]=f.useState(()=>(function(){let e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==r))||[])}}})()),o=null!=Ei(),[l,c]=f.useState(n.reference),d=x1((e,t,n)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:n,nested:o}),null==r||r(e,t,n)}),u=f.useMemo(()=>({setPositionReference:c}),[]),h=f.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return f.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:h,events:s,floatingId:i,refs:u}),[t,d,h,s,i,u])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,s]=f.useState(null),[o,l]=f.useState(null),c=(null==i?void 0:i.domReference)||a,d=f.useRef(null),u=Ea();x8(()=>{c&&(d.current=c)},[c]);let h=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=f.useState(n);xH(h,n)||p(n);let[g,m]=f.useState(null),[y,w]=f.useState(null),v=f.useCallback(e=>{e!==_.current&&(_.current=e,m(e))},[]),b=f.useCallback(e=>{e!==C.current&&(C.current=e,w(e))},[]),x=a||g,E=s||y,_=f.useRef(null),C=f.useRef(null),k=f.useRef(d),A=null!=l,I=xK(l),S=xK(i),T=xK(c),P=f.useCallback(()=>{if(!_.current||!C.current)return;let e={placement:t,strategy:r,middleware:h};S.current&&(e.platform=S.current),xz(_.current,C.current,e).then(e=>{let t={...e,isPositioned:!1!==T.current};j.current&&!xH(k.current,t)&&(k.current=t,vQ.flushSync(()=>{u(t)}))})},[h,t,r,S,T]);xq(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let j=f.useRef(!1);xq(()=>(j.current=!0,()=>{j.current=!1}),[]),xq(()=>{if(x&&(_.current=x),E&&(C.current=E),x&&E){if(I.current)return I.current(x,E,P);P()}},[x,E,P,I,A]);let N=f.useMemo(()=>({reference:_,floating:C,setReference:v,setFloating:b}),[v,b]),O=f.useMemo(()=>({reference:x,floating:E}),[x,E]),$=f.useMemo(()=>{let e={position:r,left:0,top:0};if(!O.floating)return e;let t=xG(O.floating,d.x),n=xG(O.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+n+"px)",...xV(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,o,O.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:P,refs:N,elements:O,floatingStyles:$}),[d,P,N,O,$])}({...e,elements:{...i,...o&&{reference:o}}}),p=f.useCallback(e=>{let t=xd(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),g=f.useCallback(e=>{(xd(e)||null===e)&&(d.current=e,s(e)),(xd(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!xd(e))&&h.refs.setReference(e)},[h.refs]),m=f.useMemo(()=>({...h.refs,setReference:g,setPositionReference:p,domReference:d}),[h.refs,g,p]),y=f.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),w=f.useMemo(()=>({...h,...n,refs:m,elements:y,nodeId:t}),[h,m,y,t,n]);return x8(()=>{n.dataRef.current.floatingContext=w;let e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=w)}),f.useMemo(()=>({...h,context:w,refs:m,elements:y}),[h,m,y,w])}({open:b,placement:"selection"===A?"center"===I?"bottom":"bottom-".concat(I):"center"===I?"".concat(A):"".concat(A,"-").concat(I),strategy:"absolute",transform:!1,middleware:[xJ({mainAxis:"selection"===A?0:E,crossAxis:_}),xY({padding:C}),"selection"!==A&&xZ({padding:C}),"selection"===A&&k?EC({...k,padding:C,overflowRef:y,offset:g,minItemsVisible:4,referenceOverflowThreshold:C,onFallbackChange(e){var t,r;if(!e)return;let n=P.elements.floating;if(!n)return;let i=parseFloat(getComputedStyle(n).scrollPaddingBottom)||0,a=Math.min(4,n.childElementCount),s=0,o=0;for(let e of null!=(r=null==(t=P.elements.floating)?void 0:t.childNodes)?r:[])if(vn(e)){let t=e.offsetTop,r=t+e.clientHeight+i,l=n.scrollTop,c=l+n.clientHeight;if(t>=l&&r<=c)a--;else{o=Math.max(0,Math.min(r,c)-Math.max(t,l)),s=e.clientHeight;break}}a>=1&&m(e=>{let t=s*a-o+i;return e>=t?e:t})}}):null,xQ({padding:C,apply(e){let{availableWidth:t,availableHeight:r,elements:n}=e;Object.assign(n.floating.style,{overflow:"auto",maxWidth:"".concat(t,"px"),maxHeight:"min(var(--anchor-max-height, 100vh), ".concat(r,"px)")})}})].filter(Boolean),whileElementsMounted:xW}),[j=A,N=I]=P.placement.split("-");"selection"===A&&(j="selection");let O=(0,f.useMemo)(()=>({anchor:[j,N].filter(Boolean).join(" ")}),[j,N]),{getReferenceProps:$,getFloatingProps:M}=function(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),r=e.map(e=>null==e?void 0:e.floating),n=e.map(e=>null==e?void 0:e.item),i=f.useCallback(t=>Ex(t,e,"reference"),t),a=f.useCallback(t=>Ex(t,e,"floating"),r),s=f.useCallback(t=>Ex(t,e,"item"),n);return f.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}([function(e,t){let{open:r,elements:n}=e,{enabled:i=!0,overflowRef:a,scrollRef:s,onChange:o}=t,l=x1(o),c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null);f.useEffect(()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==a.current)return;let r=e.deltaY,n=a.current.top>=-.5,i=a.current.bottom>=-.5,s=t.scrollHeight-t.clientHeight,o=r<0?-1:1,c=r<0?"max":"min";!(t.scrollHeight<=t.clientHeight)&&(!n&&r>0||!i&&r<0?(e.preventDefault(),vQ.flushSync(()=>{l(e=>e+Math[c](r,s*o))})):/firefox/i.test(bQ())&&(t.scrollTop+=r))}let t=(null==s?void 0:s.current)||n.floating;if(r&&t)return t.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=a.current&&(u.current={...a.current})}),()=>{d.current=null,u.current=null,t.removeEventListener("wheel",e)}},[i,r,n.floating,a,s,l]);let h=f.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){let e=(null==s?void 0:s.current)||n.floating;if(a.current&&e&&c.current){if(null!==d.current){let t=e.scrollTop-d.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&vQ.flushSync(()=>l(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}),[n.floating,l,a,s]);return f.useMemo(()=>i?{floating:h}:{},[i,h])}(P,{overflowRef:y,onChange:m})]),R=y6(e=>{v(e),S.setFloating(e)});return f.createElement(EA.Provider,{value:p},f.createElement(Ek.Provider,{value:{setFloating:R,setReference:S.setReference,styles:T,getReferenceProps:$,getFloatingProps:M,slot:O}},d))}function ES(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=yQ(),i=y6((e,t)=>{if(null==e)return[r,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[r,null];let i=ET(e,t);return[i,r=>{let a=function e(t){let r=/var\((.*)\)/.exec(t);if(r){let t=r[1].indexOf(",");if(-1===t)return[r[1]];let n=r[1].slice(0,t).trim(),i=r[1].slice(t+1).trim();return i?[n,...e(i)]:[n]}return[]}(e);{let s=a.map(e=>window.getComputedStyle(t).getPropertyValue(e));n.requestAnimationFrame(function o(){n.nextFrame(o);let l=!1;for(let[e,r]of a.entries()){let n=window.getComputedStyle(t).getPropertyValue(r);if(s[e]!==n){s[e]=n,l=!0;break}}if(!l)return;let c=ET(e,t);i!==c&&(r(c),i=c)})}return n.dispose}]}return[r,null]}),a=(0,f.useMemo)(()=>i(e,t)[0],[e,t]),[s=a,o]=(0,f.useState)();return y5(()=>{let[r,n]=i(e,t);if(o(r),n)return n(o)},[e,t]),s}function ET(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}EA.displayName="PlacementContext";var EP=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(EP||{});function Ej(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:-1===i&&(i=r.length);for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=i+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:throw Error("Unexpected object: "+e)}}let EN=(0,f.createContext)(void 0),EO=(0,f.createContext)(null);function E$(){let e=(0,f.useContext)(EO);if(null===e){let e=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,E$),e}return e}function EM(){var e,t,r;let n,{inherit:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n=null!=(r=null==(t=(0,f.useContext)(EO))?void 0:t.value)?r:void 0,[s,o]=(0,f.useState)([]),l=i?[a,...s].filter(Boolean):s;return[l.length>0?l.join(" "):void 0,(0,f.useMemo)(()=>function(e){let t=y6(e=>(o(t=>[...t,e]),()=>o(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),r=(0,f.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return f.createElement(EO.Provider,{value:r},e.children)},[o])]}EO.displayName="LabelContext",Object.assign(wv(function(e,t){var r;let n=(0,f.useId)(),i=E$(),a=(0,f.useContext)(EN),s=vF(),{id:o="headlessui-label-".concat(n),htmlFor:l=null!=a?a:null==(r=i.props)?void 0:r.htmlFor,passive:c=!1,...d}=e,u=we(t);y5(()=>i.register(o),[o,i.register]);let h=y6(e=>{var t;let r=e.currentTarget;if(!(e.target!==e.currentTarget&&vr(t=e.target)&&t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'))&&(vs(r)&&e.preventDefault(),i.props&&"onClick"in i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),vs(r))){let e=document.getElementById(r.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(va(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),p=s||!1,g=(0,f.useMemo)(()=>({...i.slot,disabled:p}),[i.slot,p]),m={ref:u,...i.props,id:o,htmlFor:l,onClick:h};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in d&&delete d.onClick),wf()({ourProps:m,theirProps:d,slot:g,defaultTag:l?"label":"div",name:i.name||"Label"})}),{});var ER=Object.defineProperty,ED=(e,t,r)=>t in e?ER(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,EL=(e,t,r)=>(ED(e,"symbol"!=typeof t?t+"":t,r),r),EU=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(EU||{}),EF=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(EF||{}),EB=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(EB||{});function EW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=vb(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return -1===i&&(i=null),{items:n,activeItemIndex:i}}let Ez={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,pendingFocus:{focus:EP.Nothing},menuState:1},0:(e,t)=>0===e.menuState?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0},2:(e,t)=>{var r,n,i,a,s;if(1===e.menuState)return e;let o={...e,searchQuery:"",activationTrigger:null!=(r=t.trigger)?r:1,__demoMode:!1};if(t.focus===EP.Nothing)return{...o,activeItemIndex:null};if(t.focus===EP.Specific)return{...o,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(t.focus===EP.Previous){let r=e.activeItemIndex;if(null!==r){let a=e.items[r].dataRef.current.domRef,s=Ej(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==s){let t=e.items[s].dataRef.current.domRef;if((null==(n=a.current)?void 0:n.previousElementSibling)===t.current||(null==(i=t.current)?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:s}}}}else if(t.focus===EP.Next){let r=e.activeItemIndex;if(null!==r){let n=e.items[r].dataRef.current.domRef,i=Ej(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(a=n.current)?void 0:a.nextElementSibling)===t.current||(null==(s=t.current)?void 0:s.nextElementSibling)===null)return{...o,activeItemIndex:i}}}}let l=EW(e),c=Ej(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(e,t)=>{let r=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return -1===a||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=e.items.concat(t.items.map(e=>e)),n=e.activeItemIndex;return e.pendingFocus.focus!==EP.Nothing&&(n=Ej(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:EP.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],i=new Set(t.items);for(let[e,t]of r.entries())if(i.has(t.id)&&(n.push(e),i.delete(t.id),0===i.size))break;if(n.length>0)for(let e of(r=r.slice(),n.reverse()))r.splice(e,1);return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...EW(e),pendingShouldSort:!1}:e};class Eq extends wq{static new(e){let{id:t,__demoMode:r=!1}=e;return new Eq({id:t,__demoMode:r,menuState:+!r,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:EP.Nothing}})}reduce(e,t){return wu(t.type,Ez,e,t)}constructor(e){super(e),EL(this,"actions",{registerItem:wK(()=>{let e=[],t=new Set;return[(r,n)=>{t.has(n)||(t.add(n),e.push({id:r,dataRef:n}))},()=>(t.clear(),this.send({type:5,items:e.splice(0)}))]}),unregisterItem:wK(()=>{let e=[];return[t=>e.push(t),()=>this.send({type:6,items:e.splice(0)})]})}),EL(this,"selectors",{activeDescendantId(e){var t;let r=e.activeItemIndex,n=e.items;return null===r||null==(t=n[r])?void 0:t.id},isActive(e,t){var r;let n=e.activeItemIndex,i=e.items;return null!==n&&(null==(r=i[n])?void 0:r.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.menuState&&0!==e.activationTrigger&&this.isActive(e,t)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=w1.get(null);this.disposables.add(t.on(wQ.Push,r=>{t.selectors.isTop(r,e)||0!==this.state.menuState||this.send({type:1})})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}}let EH=(0,f.createContext)(null);function EV(e){let t=(0,f.useContext)(EH);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,EG),t}return t}function EG(e){let{id:t,__demoMode:r=!1}=e,n=(0,f.useMemo)(()=>Eq.new({id:t,__demoMode:r}),[]);return vq(()=>n.dispose()),n}let EK=f.Fragment,EJ=wh.RenderStrategy|wh.Static,EY=f.Fragment,EZ=wv(function(e,t){let r=(0,f.useId)(),{__demoMode:n=!1,...i}=e,a=EG({id:r,__demoMode:n}),[s,o,l]=w3(a,e=>[e.menuState,e.itemsElement,e.buttonElement]),c=we(t),d=w1.get(null);vA(w3(d,(0,f.useCallback)(e=>d.selectors.isTop(e,r),[d,r])),[l,o],(e,t)=>{var r;a.send({type:EB.CloseMenu}),vm(t,vg.Loose)||(e.preventDefault(),null==(r=a.state.buttonElement)||r.focus())});let u=y6(()=>{a.send({type:EB.CloseMenu})}),h=(0,f.useMemo)(()=>({open:s===EU.Open,close:u}),[s,u]),p=wf();return f.createElement(EI,null,f.createElement(EH.Provider,{value:a},f.createElement(wl,{value:wu(s,{[EU.Open]:ws.Open,[EU.Closed]:ws.Closed})},p({ourProps:{ref:c},theirProps:i,slot:h,defaultTag:EK,name:"Menu"}))))}),EQ=wv(function(e,t){var r;let n=EV("Menu.Button"),i=(0,f.useId)(),{id:a="headlessui-menu-button-".concat(i),disabled:s=!1,autoFocus:o=!1,...l}=e,c=(0,f.useRef)(null),d=(0,f.useContext)(Ek).getReferenceProps,u=we(t,c,(0,f.useContext)(Ek).setReference,y6(e=>n.send({type:EB.SetButtonElement,element:e}))),h=y6(e=>{switch(e.key){case w$.Space:case w$.Enter:case w$.ArrowDown:e.preventDefault(),e.stopPropagation(),n.send({type:EB.OpenMenu,focus:{focus:EP.First}});break;case w$.ArrowUp:e.preventDefault(),e.stopPropagation(),n.send({type:EB.OpenMenu,focus:{focus:EP.Last}})}}),p=y6(e=>{e.key===w$.Space&&e.preventDefault()}),[g,m,y]=w3(n,e=>[e.menuState,e.buttonElement,e.itemsElement]);!function(e,t){let{trigger:r,action:n,close:i,select:a}=t,s=(0,f.useRef)(null);vC(e&&null!==r,"pointerdown",e=>{vt(null==e?void 0:e.target)&&null!=r&&r.contains(e.target)&&(s.current=new Date)}),vC(e&&null!==r,"pointerup",e=>{if(null===s.current||!vi(e.target))return;let t=n(e),r=new Date().getTime()-s.current.getTime();switch(s.current=null,t.kind){case 0:return;case 1:r>200&&(a(t.target),i());break;case 2:i()}},{capture:!0})}(g===EU.Open,{trigger:m,action:(0,f.useCallback)(e=>{if(null!=m&&m.contains(e.target))return bK.Ignore;let t=e.target.closest('[role="menuitem"]:not([data-disabled])');return vn(t)?bK.Select(t):null!=y&&y.contains(e.target)?bK.Ignore:bK.Close},[m,y]),close:(0,f.useCallback)(()=>n.send({type:EB.CloseMenu}),[]),select:(0,f.useCallback)(e=>e.click(),[])});let w=y6(e=>{var t;if(0===e.button){if(function(e){var t;let r=e.parentElement,n=null;for(;r&&!(vn(t=r)&&"FIELDSET"===t.nodeName);)vo(r)&&(n=r),r=r.parentElement;let i=(null==r?void 0:r.getAttribute("disabled"))==="";return!(i&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(vo(t))return!1;t=t.previousElementSibling}return!0}(n))&&i}(e.currentTarget))return e.preventDefault();s||(g===EU.Open?((0,vQ.flushSync)(()=>n.send({type:EB.CloseMenu})),null==(t=c.current)||t.focus({preventScroll:!0})):(e.preventDefault(),n.send({type:EB.OpenMenu,focus:{focus:EP.Nothing},trigger:EF.Pointer})))}}),{isFocusVisible:v,focusProps:b}=function(e={}){var t,r,n;let{autoFocus:i=!1,isTextInput:a,within:s}=e,o=(0,f.useRef)({isFocused:!1,isFocusVisible:i||bD()}),[l,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(()=>o.current.isFocused&&o.current.isFocusVisible),h=(0,f.useCallback)(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),p=(0,f.useCallback)(e=>{o.current.isFocused=e,c(e),h()},[h]);t=e=>{o.current.isFocusVisible=e,h()},r=[],n={isTextInput:a},bM(),(0,f.useEffect)(()=>{let e=(e,r)=>{(function(e,t,r){let n=bx(null==r?void 0:r.target),i="undefined"!=typeof window?bE(null==r?void 0:r.target).HTMLInputElement:HTMLInputElement,a="undefined"!=typeof window?bE(null==r?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,s="undefined"!=typeof window?bE(null==r?void 0:r.target).HTMLElement:HTMLElement,o="undefined"!=typeof window?bE(null==r?void 0:r.target).KeyboardEvent:KeyboardEvent;return!((e=e||n.activeElement instanceof i&&!bL.has(n.activeElement.type)||n.activeElement instanceof a||n.activeElement instanceof s&&n.activeElement.isContentEditable)&&"keyboard"===t&&r instanceof o&&!bS[r.key])})(!!(null==n?void 0:n.isTextInput),e,r)&&t(bD())};return bC.add(e),()=>{bC.delete(e)}},r);let{focusProps:g}=function(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e,a=(0,f.useCallback)(e=>{if(e.target===e.currentTarget)return n&&n(e),i&&i(!1),!0},[n,i]),s=bu(a),o=(0,f.useCallback)(e=>{let t=bx(e.target),n=t?bF(t):bF();e.target===e.currentTarget&&n===bB(e.nativeEvent)&&(r&&r(e),i&&i(!0),s(e))},[i,r,s]);return{focusProps:{onFocus:!t&&(r||i||n)?o:void 0,onBlur:!t&&(n||i)?a:void 0}}}({isDisabled:s,onFocusChange:p}),{focusWithinProps:m}=function(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,a=(0,f.useRef)({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:o}=bW(),l=(0,f.useCallback)(e=>{e.currentTarget.contains(e.target)&&a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,o(),r&&r(e),i&&i(!1))},[r,i,a,o]),c=bu(l),d=(0,f.useCallback)(e=>{if(!e.currentTarget.contains(e.target))return;let t=bx(e.target),r=bF(t);if(!a.current.isFocusWithin&&r===bB(e.nativeEvent)){n&&n(e),i&&i(!0),a.current.isFocusWithin=!0,c(e);let r=e.currentTarget;s(t,"focus",e=>{if(a.current.isFocusWithin&&!bU(r,e.target)){let n=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});Object.defineProperty(n,"target",{value:r}),Object.defineProperty(n,"currentTarget",{value:r}),l(bd(n))}},{capture:!0})}},[n,i,c,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}({isDisabled:!s,onFocusWithinChange:p});return{isFocused:l,isFocusVisible:d,focusProps:s?m:g}}({autoFocus:o}),{isHovered:x,hoverProps:E}=function(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[a,s]=(0,f.useState)(!1),o=(0,f.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,f.useEffect)(bV,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=bW(),{hoverProps:d,triggerHoverEnd:u}=(0,f.useMemo)(()=>{let e=(e,n)=>{if(o.pointerType=n,i||"touch"===n||o.isHovered||!e.currentTarget.contains(e.target))return;o.isHovered=!0;let c=e.currentTarget;o.target=c,l(bx(e.target),"pointerover",e=>{o.isHovered&&o.target&&!bU(o.target,e.target)&&a(e,e.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:c,pointerType:n}),r&&r(!0),s(!0)},a=(e,t)=>{let i=o.target;o.pointerType="",o.target=null,"touch"!==t&&o.isHovered&&i&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:i,pointerType:t}),r&&r(!1),s(!1))},d={};return"undefined"!=typeof PointerEvent&&(d.onPointerEnter=t=>{bz&&"mouse"===t.pointerType||e(t,t.pointerType)},d.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&a(e,e.pointerType)}),{hoverProps:d,triggerHoverEnd:a}},[t,r,n,i,o,l,c]);return(0,f.useEffect)(()=>{i&&u({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:d,isHovered:a}}({isDisabled:s}),{pressed:_,pressProps:C}=function(){let{disabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,f.useRef)(null),[r,n]=(0,f.useState)(!1),i=yQ(),a=y6(()=>{t.current=null,n(!1),i.dispose()}),s=y6(e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,n(!0);{let r=w6(e.currentTarget);i.addEventListener(r,"pointerup",a,!1),i.addEventListener(r,"pointermove",e=>{if(t.current){var r,i;let a,s;n((a=e.width/2,s=e.height/2,r={top:e.clientY-s,right:e.clientX+a,bottom:e.clientY+s,left:e.clientX-a},i=t.current.getBoundingClientRect(),!(!r||!i||r.right<i.left||r.left>i.right||r.bottom<i.top||r.top>i.bottom)))}},!1),i.addEventListener(r,"pointercancel",a,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}({disabled:s}),k=(0,f.useMemo)(()=>({open:g===EU.Open,active:_||g===EU.Open,disabled:s,hover:x,focus:v,autofocus:o}),[g,x,v,_,s,o]),A=ww(d(),{ref:u,id:a,type:(r=c.current,(0,f.useMemo)(()=>{var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase()||(null==r?void 0:r.tagName)==="BUTTON"&&!r.hasAttribute("type"))return"button"},[e.type,e.as,r])),"aria-haspopup":"menu","aria-controls":null==y?void 0:y.id,"aria-expanded":g===EU.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:p,onPointerDown:w},b,E,C);return wf()({ourProps:A,theirProps:l,slot:k,defaultTag:"button",name:"Menu.Button"})}),EX=wv(function(e,t){let r=(0,f.useId)(),{id:n="headlessui-menu-items-".concat(r),anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=e,c=(0,f.useMemo)(()=>i?"string"==typeof i?{to:i}:i:null,[i]),d=EV("Menu.Items"),[u,h]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,f.useContext)(EA),r=(0,f.useMemo)(()=>e,[JSON.stringify(e,(e,t)=>{var r;return null!=(r=null==t?void 0:t.outerHTML)?r:t})]);y5(()=>{null==t||t(null!=r?r:null)},[t,r]);let n=(0,f.useContext)(Ek);return(0,f.useMemo)(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}(c),p=function(){let{getFloatingProps:e,slot:t}=(0,f.useContext)(Ek);return(0,f.useCallback)(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return Object.assign({},e(...n),{"data-anchor":t.anchor})},[e,t])}(),[g,m]=(0,f.useState)(null),y=we(t,c?u:null,y6(e=>d.send({type:EB.SetItemsElement,element:e})),m),[w,v]=w3(d,e=>[e.menuState,e.buttonElement]),b=vI(v),x=vI(g);c&&(a=!0);let E=wo(),[_,C]=wi(o,g,null!==E?(E&ws.Open)===ws.Open:w===EU.Open);vl(_,v,()=>{d.send({type:EB.CloseMenu})});let k=w3(d,e=>e.__demoMode);v$(!k&&s&&w===EU.Open,x),ve(!k&&s&&w===EU.Open,{allowed:(0,f.useCallback)(()=>[v,g],[v,g])});let A=!function(e,t){let r=(0,f.useRef)({left:0,top:0});if(y5(()=>{if(!t)return;let e=t.getBoundingClientRect();e&&(r.current=e)},[e,t]),null==t||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}(w!==EU.Open,v)&&_;(0,f.useEffect)(()=>{g&&w===EU.Open&&g!==(null==x?void 0:x.activeElement)&&g.focus({preventScroll:!0})},[w,g,x]),function(e,t){let{container:r,accept:n,walk:i}=t,a=(0,f.useRef)(n),s=(0,f.useRef)(i);(0,f.useEffect)(()=>{a.current=n,s.current=i},[n,i]),y5(()=>{if(!r||!e)return;let t=w6(r);if(!t)return;let n=a.current,i=s.current,o=Object.assign(e=>n(e),{acceptNode:n}),l=t.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;l.nextNode();)i(l.currentNode)},[r,e,a,s])}(w===EU.Open,{container:g,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let I=yQ(),S=y6(e=>{var t,r,n,i,a;switch(I.dispose(),e.key){case w$.Space:if(""!==d.state.searchQuery)return e.preventDefault(),e.stopPropagation(),d.send({type:EB.Search,value:e.key});case w$.Enter:if(e.preventDefault(),e.stopPropagation(),null!==d.state.activeItemIndex){let{dataRef:e}=d.state.items[d.state.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}d.send({type:EB.CloseMenu}),vy(d.state.buttonElement);break;case w$.ArrowDown:return e.preventDefault(),e.stopPropagation(),d.send({type:EB.GoToItem,focus:EP.Next});case w$.ArrowUp:return e.preventDefault(),e.stopPropagation(),d.send({type:EB.GoToItem,focus:EP.Previous});case w$.Home:case w$.PageUp:return e.preventDefault(),e.stopPropagation(),d.send({type:EB.GoToItem,focus:EP.First});case w$.End:case w$.PageDown:return e.preventDefault(),e.stopPropagation(),d.send({type:EB.GoToItem,focus:EP.Last});case w$.Escape:e.preventDefault(),e.stopPropagation(),(0,vQ.flushSync)(()=>d.send({type:EB.CloseMenu})),null==(n=d.state.buttonElement)||n.focus({preventScroll:!0});break;case w$.Tab:e.preventDefault(),e.stopPropagation(),(0,vQ.flushSync)(()=>d.send({type:EB.CloseMenu})),i=d.state.buttonElement,a=e.shiftKey?vu.Previous:vu.Next,vx(vf(),a,{relativeTo:i});break;default:1===e.key.length&&(d.send({type:EB.Search,value:e.key}),I.setTimeout(()=>d.send({type:EB.ClearSearch}),350))}}),T=y6(e=>{e.key===w$.Space&&e.preventDefault()}),P=(0,f.useMemo)(()=>({open:w===EU.Open}),[w]),j=ww(c?p():{},{"aria-activedescendant":w3(d,d.selectors.activeDescendantId),"aria-labelledby":w3(d,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),id:n,onKeyDown:S,onKeyUp:T,role:"menu",tabIndex:w===EU.Open?0:void 0,ref:y,style:{...l.style,...h,"--button-width":function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[r,n]=(0,f.useReducer)(()=>({}),{}),i=(0,f.useMemo)(()=>(function(e){if(null===e)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}})(e),[e,r]);return y5(()=>{if(!e)return;let t=new ResizeObserver(n);return t.observe(e),()=>{t.disconnect()}},[e]),t?{width:"".concat(i.width,"px"),height:"".concat(i.height,"px")}:i}(v,!0).width},...wn(C)}),N=wf();return f.createElement(v6,{enabled:!!a&&(e.static||_),ownerDocument:b},N({ourProps:j,theirProps:l,slot:P,defaultTag:"div",features:EJ,visible:A,name:"Menu.Items"}))}),E0=wv(function(e,t){let r,n,i,a=(0,f.useId)(),{id:s="headlessui-menu-item-".concat(a),disabled:o=!1,...l}=e,c=EV("Menu.Item"),d=w3(c,e=>c.selectors.isActive(e,s)),u=(0,f.useRef)(null),h=we(t,u),p=w3(c,e=>c.selectors.shouldScrollIntoView(e,s));y5(()=>{if(p)return yZ().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=u.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[p,u]);let g=(r=(0,f.useRef)(""),n=(0,f.useRef)(""),y6(()=>{let e=u.current;if(!e)return"";let t=e.innerText;if(r.current===t)return n.current;let i=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():bY(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return bY(e).trim()})(e).trim().toLowerCase();return r.current=t,n.current=i,i})),m=(0,f.useRef)({disabled:o,domRef:u,get textValue(){return g()}});y5(()=>{m.current.disabled=o},[m,o]),y5(()=>(c.actions.registerItem(s,m),()=>c.actions.unregisterItem(s)),[m,s]);let y=y6(()=>{c.send({type:EB.CloseMenu})}),w=y6(e=>{if(o)return e.preventDefault();c.send({type:EB.CloseMenu}),vy(c.state.buttonElement)}),v=y6(()=>{if(o)return c.send({type:EB.GoToItem,focus:EP.Nothing});c.send({type:EB.GoToItem,focus:EP.Specific,id:s})}),b=(i=(0,f.useRef)([-1,-1]),{wasMoved(e){let t=bZ(e);return(i.current[0]!==t[0]||i.current[1]!==t[1])&&(i.current=t,!0)},update(e){i.current=bZ(e)}}),x=y6(e=>{b.update(e),!o&&(d||c.send({type:EB.GoToItem,focus:EP.Specific,id:s,trigger:EF.Pointer}))}),E=y6(e=>{b.wasMoved(e)&&(o||d||c.send({type:EB.GoToItem,focus:EP.Specific,id:s,trigger:EF.Pointer}))}),_=y6(e=>{b.wasMoved(e)&&(o||d&&c.send({type:EB.GoToItem,focus:EP.Nothing}))}),[C,k]=EM(),[A,I]=vW(),S=(0,f.useMemo)(()=>({active:d,focus:d,disabled:o,close:y}),[d,o,y]),T=wf();return f.createElement(k,null,f.createElement(I,null,T({ourProps:{id:s,ref:h,role:"menuitem",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,"aria-labelledby":C,"aria-describedby":A,disabled:void 0,onClick:w,onFocus:v,onPointerEnter:x,onMouseEnter:x,onPointerMove:E,onMouseMove:E,onPointerLeave:_,onMouseLeave:_},theirProps:l,slot:S,defaultTag:EY,name:"Menu.Item"})))}),E1=Object.assign(EZ,{Button:EQ,Items:EX,Item:E0,Section:wv(function(e,t){let[r,n]=EM(),i=wf();return f.createElement(n,null,i({ourProps:{ref:t,"aria-labelledby":r,role:"group"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Section"}))}),Heading:wv(function(e,t){let r=(0,f.useId)(),{id:n="headlessui-menu-heading-".concat(r),...i}=e,a=E$();y5(()=>a.register(n),[n,a.register]);let s={id:n,ref:t,role:"presentation",...a.props};return wf()({ourProps:s,theirProps:i,slot:{},defaultTag:"header",name:"Menu.Heading"})}),Separator:wv(function(e,t){return wf()({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Separator"})})});var E2=r(38356),E3=r.n(E2),E5=r(10316),E4=r(40704),E6=r(68741),E8=r(38831),E9=r(66090),E7=r(90921),_e=r(72096),_t=r(38610),_r=r(89279),_n=r(2272),_i=r(72076).Buffer;function _a(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function _s(e){let[t,r,n]=e.split(":");return{namespace:t,reference:r,address:n}}function _o(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function _l(e,t){return e.includes(":")?[e]:t.chains||[]}var _c=Object.defineProperty,_d=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,_h=Object.getOwnPropertySymbols,_p=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable,_g=(e,t,r)=>t in e?_c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_m=(e,t)=>{for(var r in t||(t={}))_p.call(t,r)&&_g(e,r,t[r]);if(_h)for(var r of _h(t))_f.call(t,r)&&_g(e,r,t[r]);return e},_y=(e,t)=>_d(e,_u(t));let _w={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function _v(){return"u">typeof _n&&"u">typeof _n.versions&&"u">typeof _n.versions.node}function _b(){return!(0,E6.getDocument)()&&!!(0,E6.getNavigator)()&&"ReactNative"===navigator.product}function _x(){return!_v()&&!!(0,E6.getNavigator)()&&!!(0,E6.getDocument)()}function _E(){return _b()?_w.reactNative:_v()?_w.node:_x()?_w.browser:_w.unknown}function __(){var e;try{return _b()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function _C(){return(0,E8.g)()||{name:"",description:"",url:"",icons:[""]}}function _k(e,t,n){let i=function(){if(_E()===_w.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e=(0,E5.o0)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),a=function(){var e;let t=_E();return t===_w.browser?[t,(null==(e=(0,E6.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,a].join("/")}function _A(e,t){return e.filter(e=>t.includes(e)).length===e.length}function _I(e){return Object.fromEntries(e.entries())}function _S(e){return new Map(Object.entries(e))}function _T(e=E4.FIVE_MINUTES,t){let r,n,i,a,s=(0,E4.toMiliseconds)(e||E4.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),a=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,o)=>{if(a)return e(a);i=setTimeout(()=>{let e=Error(t);a=Promise.reject(e),o(e)},s),r=e,n=o})}}function _P(e,t,r){return new Promise(async(n,i)=>{let a=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(a)})}function _j(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function _N(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function _O(e,t){return(0,E4.fromMiliseconds)((t||Date.now())+(0,E4.toMiliseconds)(e))}function _$(e){return Date.now()>=(0,E4.toMiliseconds)(e)}function _M(e,t){return`${e}${t?`:${t}`:""}`}function _R(e=[],t=[]){return[...new Set([...e,...t])]}async function _D({id:e,topic:t,wcDeepLink:n}){var i,a;try{if(!n)return;let s="string"==typeof n?JSON.parse(n):n,o=s?.href;if("string"!=typeof o)return;let l=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=_i.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(o,e,t),c=_E();if(c===_w.browser){let e;if(!(null!=(i=(0,E6.getDocument)())&&i.hasFocus()))return void console.warn("Document does not have focus, skipping deeplink.");a=l,e="_self",!function(){try{return window.self!==window.top}catch{return!1}}()?("u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)||a.startsWith("https://")||a.startsWith("http://"))&&(e="_blank"):e="_top",window.open(a,e,"noreferrer noopener")}else c===_w.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(l)}catch(e){console.error(e)}}async function _L(e,t){let r="";try{if(_x()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function _U(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function _F(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function _B(){return"u">typeof _n&&"true"===_n.env.IS_VITEST}function _W(e){return _i.from(e,"base64").toString("utf-8")}function _z(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function _q(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function _H(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");_z(e.outputLen),_z(e.blockLen)}function _V(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function _G(e,t){_q(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}let _K=BigInt(0x100000000-1),_J=BigInt(32),_Y=(e,t,r)=>e<<r|t>>>32-r,_Z=(e,t,r)=>t<<r|e>>>32-r,_Q=(e,t,r)=>t<<r-32|e>>>64-r,_X=(e,t,r)=>e<<r-32|t>>>64-r,_0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function _1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _2(e,t){return e<<32-t|e>>>t}let _3=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function _5(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}}function _4(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),_q(e),e}class _6{clone(){return this._cloneInto()}}function _8(e){let t=t=>e().update(_4(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function _9(e=32){if(_0&&"function"==typeof _0.getRandomValues)return _0.getRandomValues(new Uint8Array(e));if(_0&&"function"==typeof _0.randomBytes)return _0.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}let _7=[],Ce=[],Ct=[],Cr=BigInt(0),Cn=BigInt(1),Ci=BigInt(2),Ca=BigInt(7),Cs=BigInt(256),Co=BigInt(113);for(let e=0,t=Cn,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],_7.push(2*(5*n+r)),Ce.push((e+1)*(e+2)/2%64);let i=Cr;for(let e=0;e<7;e++)(t=(t<<Cn^(t>>Ca)*Co)%Cs)&Ci&&(i^=Cn<<(Cn<<BigInt(e))-Cn);Ct.push(i)}let[Cl,Cc]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&_K),l:Number(e>>_J&_K)}:{h:0|Number(e>>_J&_K),l:0|Number(e&_K)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}(Ct,!0),Cd=(e,t,r)=>r>32?_Q(e,t,r):_Y(e,t,r),Cu=(e,t,r)=>r>32?_X(e,t,r):_Z(e,t,r);class Ch extends _6{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_z(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){_3||_5(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=Cd(a,s,1)^r[n],l=Cu(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=Ce[r],a=Cd(t,i,n),s=Cu(t,i,n),o=_7[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Cl[n],e[1]^=Cc[n]}r.fill(0)}(this.state32,this.rounds),_3||_5(this.state32),this.posOut=0,this.pos=0}update(e){_V(this);let{blockLen:t,state:r}=this,n=(e=_4(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){_V(this,!1),_q(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _z(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_G(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new Ch(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let Cp=_8(()=>new Ch(136,1,32));function Cf(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+_i.from(Cp(r)).toString("hex")}async function Cg(e,t,r,n,i,a){switch(r.t){case"eip191":return await Cm(e,t,r.s);case"eip1271":return await Cy(e,t,r.s,n,i,a);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Cm(e,t,r){return(await (0,E9.x)({hash:Cf(t),signature:r})).toLowerCase()===e.toLowerCase()}async function Cy(e,t,r,n,i,a){let s=_a(n);if(!s.namespace||!s.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let s="0x1626ba7e",o=r.substring(2),l=Cf(t).substring(2),c=s+l+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+o,d=await fetch(`${a||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:c},"latest"]})}),{result:u}=await d.json();return!!u&&u.slice(0,s.length).toLowerCase()===s.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}var Cw=Object.defineProperty,Cv=Object.defineProperties,Cb=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,CE=Object.prototype.hasOwnProperty,C_=Object.prototype.propertyIsEnumerable,CC=(e,t,r)=>t in e?Cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ck=(e,t)=>{for(var r in t||(t={}))CE.call(t,r)&&CC(e,r,t[r]);if(Cx)for(var r of Cx(t))C_.call(t,r)&&CC(e,r,t[r]);return e},CA=(e,t)=>Cv(e,Cb(t));let CI=e=>e?.split(":"),CS=e=>{let t=e&&CI(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]},CT=e=>{let t=e&&CI(e);if(t)return t[2]+":"+t[3]},CP=e=>{let t=e&&CI(e);if(t)return t.pop()};async function Cj(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,a=CN(i,i.iss),s=CP(i.iss);return await Cg(s,a,n,CT(i.iss),r)}let CN=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=CP(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,a=`URI: ${e.aud||e.uri}`,s=`Version: ${e.version}`,o=`Chain ID: ${CS(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,u=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,p=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,f=CL(e.resources);return f&&(i=function(e="",t){CO(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let a={};r.forEach(e=>{a[e.ability]||(a[e.ability]=[]),a[e.ability].push(e.action)});let s=Object.keys(a).map(t=>(i++,`(${i}) '${t}': '${a[t].join("', '")}' for '${e}'.`));n.push(s.join(", ").replace(".,","."))});let a=n.join(" "),s=`${r}${a}`;return`${e?e+" ":""}${s}`}(i,CM(f))),[r,n,"",i,"",a,s,o,l,c,d,u,h,p].filter(e=>null!=e).join(`
`)};function CO(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function C$(e){return CO(e),`urn:recap:${_i.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function CM(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(_i.from(t,"base64").toString("utf-8")));return CO(r),r}function CR(e){var t;let r=CM(e);CO(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function CD(e){let t=CM(e);CO(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function CL(e){var t;if(!e)return;let r=e?.[e.length-1];return(t=r)&&t.includes("urn:recap:")?r:void 0}function CU(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function CF(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function CB(e,...t){if(!CF(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function CW(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function Cz(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}let Cq=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),CH=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function CV(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(CF(e))e=CJ(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function CG(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function CK(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}function CJ(e){return Uint8Array.from(e)}function CY(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let CZ=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),CQ=CZ("expand 16-byte k"),CX=CZ("expand 32-byte k"),C0=Cq(CQ),C1=Cq(CX);function C2(e,t){return e<<t|e>>>32-t}function C3(e){return e.byteOffset%4==0}let C5=0x100000000-1,C4=new Uint32Array,C6=(e,t)=>255&e[t++]|(255&e[t++])<<8;class C8{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,CB(e=CV(e),32);let t=C6(e,0),r=C6(e,2),n=C6(e,4),i=C6(e,6),a=C6(e,8),s=C6(e,10),o=C6(e,12),l=C6(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|s<<2)&8191,this.r[7]=(s>>>11|o<<5)&8065,this.r[8]=(o>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=C6(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],d=i[5],u=i[6],h=i[7],p=i[8],f=i[9],g=C6(e,t+0),m=C6(e,t+2),y=C6(e,t+4),w=C6(e,t+6),v=C6(e,t+8),b=C6(e,t+10),x=C6(e,t+12),E=C6(e,t+14),_=n[0]+(8191&g),C=n[1]+((g>>>13|m<<3)&8191),k=n[2]+((m>>>10|y<<6)&8191),A=n[3]+((y>>>7|w<<9)&8191),I=n[4]+((w>>>4|v<<12)&8191),S=n[5]+(v>>>1&8191),T=n[6]+((v>>>14|b<<2)&8191),P=n[7]+((b>>>11|x<<5)&8191),j=n[8]+((x>>>8|E<<8)&8191),N=n[9]+(E>>>5|2048*!r),O=0,$=0+_*a+5*f*C+5*p*k+5*h*A+5*u*I;O=$>>>13,$&=8191,$+=5*d*S+5*c*T+5*l*P+5*o*j+5*s*N,O+=$>>>13,$&=8191;let M=O+_*s+C*a+5*f*k+5*p*A+5*h*I;O=M>>>13,M&=8191,M+=5*u*S+5*d*T+5*c*P+5*l*j+5*o*N,O+=M>>>13,M&=8191;let R=O+_*o+C*s+k*a+5*f*A+5*p*I;O=R>>>13,R&=8191,R+=5*h*S+5*u*T+5*d*P+5*c*j+5*l*N,O+=R>>>13,R&=8191;let D=O+_*l+C*o+k*s+A*a+5*f*I;O=D>>>13,D&=8191,D+=5*p*S+5*h*T+5*u*P+5*d*j+5*c*N,O+=D>>>13,D&=8191;let L=O+_*c+C*l+k*o+A*s+I*a;O=L>>>13,L&=8191,L+=5*f*S+5*p*T+5*h*P+5*u*j+5*d*N,O+=L>>>13,L&=8191;let U=O+_*d+C*c+k*l+A*o+I*s;O=U>>>13,U&=8191,U+=S*a+5*f*T+5*p*P+5*h*j+5*u*N,O+=U>>>13,U&=8191;let F=O+_*u+C*d+k*c+A*l+I*o;O=F>>>13,F&=8191,F+=S*s+T*a+5*f*P+5*p*j+5*h*N,O+=F>>>13,F&=8191;let B=O+_*h+C*u+k*d+A*c+I*l;O=B>>>13,B&=8191,B+=S*o+T*s+P*a+5*f*j+5*p*N,O+=B>>>13,B&=8191;let W=O+_*p+C*h+k*u+A*d+I*c;O=W>>>13,W&=8191,W+=S*l+T*o+P*s+j*a+5*f*N,O+=W>>>13,W&=8191;let z=O+_*f+C*p+k*h+A*u+I*d;O=z>>>13,z&=8191,z+=S*c+T*l+P*o+j*s+N*a,O+=z>>>13,z&=8191,$=8191&(O=(O=(O<<2)+O|0)+$|0),O>>>=13,M+=O,n[0]=$,n[1]=M,n[2]=R,n[3]=D,n[4]=L,n[5]=U,n[6]=F,n[7]=B,n[8]=W,n[9]=z}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=65535&a;for(let r=1;r<8;r++)a=(e[r]+t[r]|0)+(a>>>16)|0,e[r]=65535&a;CY(r)}update(e){CW(this);let{buffer:t,blockLen:r}=this,n=(e=CV(e)).length;for(let i=0;i<n;){let a=Math.min(r-this.pos,n-i);if(a===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){CY(this.h,this.r,this.buffer,this.pad)}digestInto(e){CW(this),function(e,t){CB(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let C9=function(e){let t=(t,r)=>e(r).update(CV(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new C8(e)),C7=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:a,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return CU(i),CU(s),Cz(a),Cz(r),(t,o,l,c,d=0)=>{CB(t),CB(o),CB(l);let u=l.length;if(void 0===c&&(c=new Uint8Array(u)),CB(c),CU(d),d<0||d>=C5)throw Error("arx: counter overflow");if(c.length<u)throw Error(`arx: output (${c.length}) is shorter than data (${u})`);let h=[],p=t.length,f,g;if(32===p)h.push(f=CJ(t)),g=C1;else if(16===p&&r)(f=new Uint8Array(32)).set(t),f.set(t,16),g=C0,h.push(f);else throw Error(`arx: invalid 32-byte key, got length=${p}`);C3(o)||h.push(o=CJ(o));let m=Cq(f);if(n){if(24!==o.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,Cq(o.subarray(0,16)),m),o=o.subarray(16)}let y=16-i;if(y!==o.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(o,a?0:12-o.length),o=e,h.push(o)}return function(e,t,r,n,i,a,s,o){let l=i.length,c=new Uint8Array(64),d=Cq(c),u=C3(i)&&C3(a),h=u?Cq(i):C4,p=u?Cq(a):C4;for(let f=0;f<l;s++){if(e(t,r,n,d,s,o),s>=C5)throw Error("arx: counter overflow");let g=Math.min(64,l-f);if(u&&64===g){let e=f/4;if(f%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)p[r=e+t]=h[r]^d[t];f+=64;continue}for(let e=0,t;e<g;e++)a[t=f+e]=i[t]^c[e];f+=g}}(e,g,m,Cq(o),l,c,d,s),CY(...h),c}}(function(e,t,r,n,i,a=20){let s=e[0],o=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],p=t[3],f=t[4],g=t[5],m=t[6],y=t[7],w=r[0],v=r[1],b=r[2],x=s,E=o,_=l,C=c,k=d,A=u,I=h,S=p,T=f,P=g,j=m,N=y,O=i,$=w,M=v,R=b;for(let e=0;e<a;e+=2)T=T+(O=C2(O^(x=x+k|0),16))|0,x=x+(k=C2(k^T,12))|0,T=T+(O=C2(O^x,8))|0,k=C2(k^T,7),P=P+($=C2($^(E=E+A|0),16))|0,E=E+(A=C2(A^P,12))|0,P=P+($=C2($^E,8))|0,A=C2(A^P,7),j=j+(M=C2(M^(_=_+I|0),16))|0,_=_+(I=C2(I^j,12))|0,j=j+(M=C2(M^_,8))|0,I=C2(I^j,7),N=N+(R=C2(R^(C=C+S|0),16))|0,C=C+(S=C2(S^N,12))|0,N=N+(R=C2(R^C,8))|0,S=C2(S^N,7),j=j+(R=C2(R^(x=x+A|0),16))|0,x=x+(A=C2(A^j,12))|0,j=j+(R=C2(R^x,8))|0,A=C2(A^j,7),N=N+(O=C2(O^(E=E+I|0),16))|0,E=E+(I=C2(I^N,12))|0,N=N+(O=C2(O^E,8))|0,I=C2(I^N,7),T=T+($=C2($^(_=_+S|0),16))|0,_=_+(S=C2(S^T,12))|0,T=T+($=C2($^_,8))|0,S=C2(S^T,7),P=P+(M=C2(M^(C=C+k|0),16))|0,C=C+(k=C2(k^P,12))|0,P=P+(M=C2(M^C,8))|0,k=C2(k^P,7);let D=0;n[D++]=s+x|0,n[D++]=o+E|0,n[D++]=l+_|0,n[D++]=c+C|0,n[D++]=d+k|0,n[D++]=u+A|0,n[D++]=h+I|0,n[D++]=p+S|0,n[D++]=f+T|0,n[D++]=g+P|0,n[D++]=m+j|0,n[D++]=y+N|0,n[D++]=i+O|0,n[D++]=w+$|0,n[D++]=v+M|0,n[D++]=b+R|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),ke=new Uint8Array(16),kt=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(ke.subarray(r))},kr=new Uint8Array(32);function kn(e,t,r,n,i){let a=e(t,r,kr),s=C9.create(a);i&&kt(s,i),kt(s,n);let o=new Uint8Array(16),l=CH(o);CK(l,0,BigInt(i?i.length:0),!0),CK(l,8,BigInt(n.length),!0),s.update(o);let c=s.digest();return CY(a,o),c}let ki=((e,t)=>{function r(n,...i){if(CB(n),void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?CB(t):CB(t,e.nonceLength)}let a=e.tagLength;a&&void 0!==i[1]&&CB(i[1]);let s=t(n,...i),o=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");CB(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,CB(e),o(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if(CB(e),a&&e.length<a)throw Error("invalid ciphertext length: smaller than tagLength="+a);return o(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,n)=>({encrypt(i,a){let s=i.length;(a=CG(s+16,a,!1)).set(i);let o=a.subarray(0,-16);e(t,r,o,o,1);let l=kn(e,t,r,o,n);return a.set(l,s),CY(l),a},decrypt(i,a){a=CG(i.length-16,a,!1);let s=i.subarray(0,-16),o=i.subarray(-16),l=kn(e,t,r,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(o,l))throw Error("invalid tag");return a.set(i.subarray(0,-16)),e(t,r,a,a,1),CY(l),a}}))(C7));class ka extends _6{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,_H(e);let r=_4(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return _V(this),this.iHash.update(e),this}digestInto(e){_V(this),_q(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ks=(e,t,r)=>new ka(e,t).update(r).digest();ks.create=(e,t)=>new ka(e,t);let ko=new Uint8Array([0]),kl=new Uint8Array,kc=(e,t,r,n,i)=>(function(e,t,r,n=32){if(_H(e),_z(n),n>255*e.outputLen)throw Error("Length should be <= 255*HashLen");let i=Math.ceil(n/e.outputLen);void 0===r&&(r=kl);let a=new Uint8Array(i*e.outputLen),s=ks.create(e,t),o=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)ko[0]=t+1,o.update(0===t?kl:l).update(r).update(ko).digestInto(l),a.set(l,e.outputLen*t),s._cloneInto(o);return s.destroy(),o.destroy(),l.fill(0),ko.fill(0),a.slice(0,n)})(e,function(e,t,r){return _H(e),void 0===r&&(r=new Uint8Array(e.outputLen)),ks(e,_4(r),_4(t))}(e,t,r),n,i);class kd extends _6{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_1(this.buffer)}update(e){_V(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=_4(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=_1(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){_V(this),_G(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=_1(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let ku=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),kh=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),kp=new Uint32Array(64);class kf extends kd{constructor(){super(64,32,8,!1),this.A=0|kh[0],this.B=0|kh[1],this.C=0|kh[2],this.D=0|kh[3],this.E=0|kh[4],this.F=0|kh[5],this.G=0|kh[6],this.H=0|kh[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)kp[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=kp[e-15],r=kp[e-2],n=_2(t,7)^_2(t,18)^t>>>3,i=_2(r,17)^_2(r,19)^r>>>10;kp[e]=i+kp[e-7]+n+kp[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){var d,u,h,p;let t=c+(_2(s,6)^_2(s,11)^_2(s,25))+((d=s)&o^~d&l)+ku[e]+kp[e]|0,f=(_2(r,2)^_2(r,13)^_2(r,22))+((u=r)&(h=n)^u&(p=i)^h&p)|0;c=l,l=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+f|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,s,o,l,c)}roundClean(){kp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let kg=_8(()=>new kf),km=BigInt(0),ky=BigInt(1),kw=BigInt(2);function kv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function kb(e){if(!kv(e))throw Error("Uint8Array expected")}function kx(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let kE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function k_(e){kb(e);let t="";for(let r=0;r<e.length;r++)t+=kE[e[r]];return t}function kC(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function kk(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?km:BigInt("0x"+e)}let kA={_0:48,_9:57,A:65,F:70,a:97,f:102};function kI(e){return e>=kA._0&&e<=kA._9?e-kA._0:e>=kA.A&&e<=kA.F?e-(kA.A-10):e>=kA.a&&e<=kA.f?e-(kA.a-10):void 0}function kS(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=kI(e.charCodeAt(i)),a=kI(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function kT(e){return kk(k_(e))}function kP(e){return kb(e),kk(k_(Uint8Array.from(e).reverse()))}function kj(e,t){return kS(e.toString(16).padStart(2*t,"0"))}function kN(e,t){return kj(e,t).reverse()}function kO(e,t,r){let n;if("string"==typeof t)try{n=kS(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(kv(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function k$(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];kb(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let kM=e=>"bigint"==typeof e&&km<=e;function kR(e,t,r){return kM(e)&&kM(t)&&kM(r)&&t<=e&&e<r}function kD(e,t,r,n){if(!kR(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function kL(e){let t;for(t=0;e>km;e>>=ky,t+=1);return t}let kU=e=>(kw<<BigInt(e-1))-ky,kF=e=>new Uint8Array(e),kB=e=>Uint8Array.from(e);function kW(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=kF(e),i=kF(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=kF())=>{i=o(kB([0]),e),n=o(),0!==e.length&&(i=o(kB([1]),e),n=o())},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return k$(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}}let kz={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||kv(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function kq(e,t,r={}){let n=(t,r,n)=>{let i=kz[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if(!(n&&void 0===a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function kH(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}var kV=Object.freeze({__proto__:null,isBytes:kv,abytes:kb,abool:kx,bytesToHex:k_,numberToHexUnpadded:kC,hexToNumber:kk,hexToBytes:kS,bytesToNumberBE:kT,bytesToNumberLE:kP,numberToBytesBE:kj,numberToBytesLE:kN,numberToVarBytesBE:function(e){return kS(kC(e))},ensureBytes:kO,concatBytes:k$,equalBytes:function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},utf8ToBytes:function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))},inRange:kR,aInRange:kD,bitLen:kL,bitGet:function(e,t){return e>>BigInt(t)&ky},bitSet:function(e,t,r){return e|(r?ky:km)<<BigInt(t)},bitMask:kU,createHmacDrbg:kW,validateObject:kq,notImplemented:()=>{throw Error("not implemented")},memoized:kH});let kG=BigInt(0),kK=BigInt(1),kJ=BigInt(2),kY=BigInt(3),kZ=BigInt(4),kQ=BigInt(5),kX=BigInt(8);function k0(e,t){let r=e%t;return r>=kG?r:t+r}function k1(e,t,r){if(t<kG)throw Error("invalid exponent, negatives unsupported");if(r<=kG)throw Error("invalid modulus");if(r===kK)return kG;let n=kK;for(;t>kG;)t&kK&&(n=n*e%r),e=e*e%r,t>>=kK;return n}function k2(e,t,r){let n=e;for(;t-- >kG;)n*=n,n%=r;return n}function k3(e,t){if(e===kG)throw Error("invert: expected non-zero number");if(t<=kG)throw Error("invert: expected positive modulus, got "+t);let r=k0(e,t),n=t,i=kG,a=kK;for(;r!==kG;){let e=n/r,t=n%r,s=i-a*e;n=r,r=t,i=a,a=s}if(n!==kK)throw Error("invert: does not exist");return k0(i,t)}let k5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k4(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function k6(e,t,r=!1,n={}){let i;if(e<=kG)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:a,nByteLength:s}=k4(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:s,MASK:kU(a),ZERO:kG,ONE:kK,create:t=>k0(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return kG<=t&&t<e},is0:e=>e===kG,isOdd:e=>(e&kK)===kK,neg:t=>k0(-t,e),eql:(e,t)=>e===t,sqr:t=>k0(t*t,e),add:(t,r)=>k0(t+r,e),sub:(t,r)=>k0(t-r,e),mul:(t,r)=>k0(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<kG)throw Error("invalid exponent, negatives unsupported");if(r===kG)return e.ONE;if(r===kK)return t;let n=e.ONE,i=t;for(;r>kG;)r&kK&&(n=e.mul(n,i)),i=e.sqr(i),r>>=kK;return n})(o,e,t),div:(t,r)=>k0(t*k3(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>k3(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%kZ===kY){let t=(e+kK)/kZ;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%kX===kQ){let t=(e-kQ)/kX;return function(e,r){let n=e.mul(r,kJ),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,kJ),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-kK)/kJ;for(t=e-kK,r=0;t%kJ===kG;t/=kJ,r++);for(n=kJ;n<e&&k1(n,i,e)!==e-kK;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+kK)/kZ;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+kK)/kJ;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(s,a),d=e.pow(s,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,kK<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),d=e.mul(d,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?kN(e,s):kj(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?kP(e):kT(e)}});return Object.freeze(o)}function k8(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function k9(e){let t=k8(e);return t+Math.ceil(t/2)}let k7=BigInt(0),Ae=BigInt(1);function At(e,t){let r=t.negate();return e?r:t}function Ar(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function An(e,t){return Ar(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let Ai=new WeakMap,Aa=new WeakMap;function As(e){return Aa.get(e)||1}function Ao(e){return kq(e.Fp,k5.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),kq(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...k4(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let Al=BigInt(0),Ac=BigInt(1),Ad=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);let Au=BigInt(1),Ah=BigInt(2),Ap=BigInt(3),Af=BigInt(5);BigInt(8);let Ag=function(e){let t=(kq(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})),{P:r}=t,n=e=>k0(e,r),i=t.montgomeryBits,a=Math.ceil(i/8),s=t.nByteLength,o=t.adjustScalarBytes||(e=>e),l=t.powPminus2||(e=>k1(e,r-BigInt(2),r));function c(e,t,r){let i=n(e*(t-r));return[t=n(t-i),r=n(r+i)]}let d=(t.a-BigInt(2))/BigInt(4);function u(e,t){let u=function(e,t){kD("u",e,Al,r),kD("scalar",t,Al,r);let a=Ac,s=Al,o=e,u=Ac,h=Al,p;for(let r=BigInt(i-1);r>=Al;r--){let i=t>>r&Ac;h^=i,a=(p=c(h,a,o))[0],o=p[1],s=(p=c(h,s,u))[0],u=p[1],h=i;let l=a+s,f=n(l*l),g=a-s,m=n(g*g),y=f-m,w=o+u,v=n((o-u)*l),b=n(w*g),x=v+b,E=v-b;o=n(x*x),u=n(e*n(E*E)),a=n(f*m),s=n(y*(f+n(d*y)))}return a=(p=c(h,a,o))[0],o=p[1],s=(p=c(h,s,u))[0],u=p[1],n(a*l(s))}(function(e){let t=kO("u coordinate",e,a);return 32===s&&(t[31]&=127),kP(t)}(t),function(e){let t=kO("scalar",e),r=t.length;if(r!==a&&r!==s)throw Error("invalid scalar, expected "+(""+a+" or ")+s+" bytes, got "+r);return kP(o(t))}(e));if(u===Al)throw Error("invalid private or public key received");return kN(n(u),a)}let h=kN(n(t.Gu),a);function p(e){return u(e,h)}return{scalarMult:u,scalarMultBase:p,getSharedSecret:(e,t)=>u(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:h}}({P:Ad,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{let{pow_p_5_8:t,b2:r}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),a=e*e%Ad*e%Ad,s=k2(a,Ah,Ad)*a%Ad,o=k2(s,Au,Ad)*e%Ad,l=k2(o,Af,Ad)*o%Ad,c=k2(l,t,Ad)*l%Ad,d=k2(c,r,Ad)*c%Ad,u=k2(d,n,Ad)*d%Ad,h=k2(u,i,Ad)*u%Ad,p=k2(h,i,Ad)*u%Ad,f=k2(p,t,Ad)*l%Ad;return{pow_p_5_8:k2(f,Ah,Ad)*e%Ad,b2:a}}(e);return k0(k2(t,Ap,Ad)*r,Ad)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},randomBytes:_9});function Am(e){void 0!==e.lowS&&kx("lowS",e.lowS),void 0!==e.prehash&&kx("prehash",e.prehash)}let{bytesToNumberBE:Ay,hexToBytes:Aw}=kV;class Av extends Error{constructor(e=""){super(e)}}let Ab={Err:Av,_tlv:{encode:(e,t)=>{let{Err:r}=Ab;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=kC(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?kC(i.length/2|128):"";return kC(e)+a+i+t},decode(e,t){let{Err:r}=Ab,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=Ab;if(e<Ax)throw new t("integer: negative integers are not allowed");let r=kC(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Ab;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Ay(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Ab,i="string"==typeof e?Aw(e):e;kb(i);let{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,a),{v:c,l:d}=n.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=Ab,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},Ax=BigInt(0),AE=BigInt(1);BigInt(2);let A_=BigInt(3);BigInt(4);let AC=k6(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Ak=function(e,t){let r=t=>(function(e){let t=function(e){let t=Ao(e);return kq(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(e){return k0(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:d}=function(e){var t;let r=function(e){let t=Ao(e);kq(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=r,i=k6(r.n,r.nBitLength),a=r.toBytes||((e,t,r)=>{let i=t.toAffine();return k$(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){let{a:t,b:i}=r,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,t)),i)}if(!n.eql(n.sqr(r.Gy),o(r.Gx)))throw Error("bad generator point: equation left != right");function l(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:s}=r;if(n&&"bigint"!=typeof e){if(kv(e)&&(e=k_(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:kT(kO("private key",e,i))}catch{throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return a&&(t=k0(t,s)),kD("private key",t,AE,s),t}function c(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}let d=kH((e,t)=>{let{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),u=kH(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");let a=n.sqr(i),s=o(t);if(!n.eql(a,s))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(s(kO("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=kL(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/s)*s,d=i;for(let e=c;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<s;e++)d=d.double()}return d}(h,i,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){u(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(a,i)),d=n.eql(n.mul(r,o),n.mul(s,i));return l&&d}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,A_),{px:a,py:s,pz:o}=this,l=n.ZERO,c=n.ZERO,d=n.ZERO,u=n.mul(a,a),p=n.mul(s,s),f=n.mul(o,o),g=n.mul(a,s);return g=n.add(g,g),d=n.mul(a,o),d=n.add(d,d),l=n.mul(e,d),c=n.mul(i,f),c=n.add(l,c),l=n.sub(p,c),c=n.add(p,c),c=n.mul(l,c),l=n.mul(g,l),d=n.mul(i,d),f=n.mul(e,f),g=n.sub(u,f),g=n.mul(e,g),g=n.add(g,d),d=n.add(u,u),u=n.add(d,u),u=n.add(u,f),u=n.mul(u,g),c=n.add(c,u),f=n.mul(s,o),f=n.add(f,f),u=n.mul(f,g),l=n.sub(l,u),d=n.mul(f,p),d=n.add(d,d),new h(l,c,d=n.add(d,d))}add(e){c(e);let{px:t,py:i,pz:a}=this,{px:s,py:o,pz:l}=e,d=n.ZERO,u=n.ZERO,p=n.ZERO,f=r.a,g=n.mul(r.b,A_),m=n.mul(t,s),y=n.mul(i,o),w=n.mul(a,l),v=n.add(t,i),b=n.add(s,o);v=n.mul(v,b),b=n.add(m,y),v=n.sub(v,b),b=n.add(t,a);let x=n.add(s,l);return b=n.mul(b,x),x=n.add(m,w),b=n.sub(b,x),x=n.add(i,a),d=n.add(o,l),x=n.mul(x,d),d=n.add(y,w),x=n.sub(x,d),p=n.mul(f,b),d=n.mul(g,w),p=n.add(d,p),d=n.sub(y,p),p=n.add(y,p),u=n.mul(d,p),y=n.add(m,m),y=n.add(y,m),w=n.mul(f,w),b=n.mul(g,b),y=n.add(y,w),w=n.sub(m,w),w=n.mul(f,w),b=n.add(b,w),m=n.mul(y,b),u=n.add(u,m),m=n.mul(x,b),d=n.mul(v,d),d=n.sub(d,m),m=n.mul(v,y),p=n.mul(x,p),new h(d,u,p=n.add(p,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;kD("scalar",e,Ax,i);let a=h.ZERO;if(e===Ax)return a;if(this.is0()||e===AE)return this;if(!t||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:s,k1:o,k2neg:l,k2:c}=t.splitScalar(e),d=a,u=a,p=this;for(;o>Ax||c>Ax;)o&AE&&(d=d.add(p)),c&AE&&(u=u.add(p)),p=p.double(),o>>=AE,c>>=AE;return s&&(d=d.negate()),l&&(u=u.negate()),u=new h(n.mul(u.px,t.beta),u.py,u.pz),d.add(u)}multiply(e){let t,i,{endo:a,n:s}=r;if(kD("scalar",e,AE,s),a){let{k1neg:r,k1:s,k2neg:o,k2:l}=a.splitScalar(e),{p:c,f:d}=this.wNAF(s),{p:u,f:p}=this.wNAF(l);c=f.constTimeNegate(r,c),u=f.constTimeNegate(o,u),u=new h(n.mul(u.px,a.beta),u.py,u.pz),t=c.add(u),i=d.add(p)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return h.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==Ax&&t!==AE&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){return d(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===AE)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===AE?this:t?t(h,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return kx("isCompressed",e),this.assertValidity(),a(h,this,e)}toHex(e=!0){return kx("isCompressed",e),k_(this.toRawBytes(e))}}h.BASE=new h(r.Gx,r.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);let p=r.nBitLength,f=(t=r.endo?Math.ceil(p/2):p,{constTimeNegate:At,hasPrecomputes:e=>1!==As(e),unsafeLadder(e,t,r=h.ZERO){let n=e;for(;t>k7;)t&Ae&&(r=r.add(n)),n=n.double(),t>>=Ae;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=An(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let{windows:i,windowSize:a}=An(e,t),s=h.ZERO,o=h.BASE,l=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let e=0;e<i;e++){let t=e*a,i=Number(n&l);n>>=d,i>a&&(i-=c,n+=Ae);let u=t+Math.abs(i)-1,h=e%2!=0,p=i<0;0===i?o=o.add(At(h,r[t])):s=s.add(At(p,r[u]))}return{p:s,f:o}},wNAFUnsafe(e,r,n,i=h.ZERO){let{windows:a,windowSize:s}=An(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<a;e++){let t=e*s;if(n===k7)break;let a=Number(n&o);if(n>>=c,a>s&&(a-=l,n+=Ae),0===a)continue;let d=r[t+Math.abs(a)-1];a<0&&(d=d.negate()),i=i.add(d)}return i},getPrecomputes(e,t,r){let n=Ai.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&Ai.set(t,r(n))),n},wNAFCached(e,t,r){let n=As(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=As(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){Ar(r,t),Aa.set(e,r),Ai.delete(e)}});return{CURVE:r,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:function(e){return kR(e,AE,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),a=r.toBytes(i.x);return kx("isCompressed",n),n?k$(Uint8Array.from([t.hasEvenY()?2:3]),a):k$(Uint8Array.from([4]),a,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],s=e.subarray(1);if(t===i&&(2===n||3===n)){let e,t=kT(s);if(!kR(t,AE,r.ORDER))throw Error("Point is not on curve");let i=c(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&AE)===AE)&&(e=r.neg(e)),{x:t,y:e}}if(t===a&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+i+", or uncompressed "+a+", got "+t)}}),u=e=>k_(kj(e,t.nByteLength)),h=(e,t,r)=>kT(e.slice(t,r));class p{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new p(h(e=kO("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=Ab.toSig(kO("DER",e));return new p(t,r)}assertValidity(){kD("r",this.r,AE,n),kD("s",this.s,AE,n)}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:a,recovery:l}=this,c=m(kO("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let d=2===l||3===l?i+t.n:i;if(d>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",p=o.fromHex(h+u(d)),f=k3(d,n),g=s(-c*f),y=s(a*f),w=o.BASE.multiplyAndAddUnsafe(p,g,y);if(!w)throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return this.s>n>>AE}normalizeS(){return this.hasHighS()?new p(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return kS(this.toDERHex())}toDERHex(){return Ab.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kS(this.toCompactHex())}toCompactHex(){return u(this.r)+u(this.s)}}function f(e){let t=kv(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===a:r?n===2*i||n===2*a:e instanceof o}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let r=kT(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return s(g(e))},y=kU(t.nBitLength);function w(e){return kD("num < 2^"+t.nBitLength,e,Ax,y),kj(e,t.nByteLength)}let v={lowS:t.lowS,prehash:!1},b={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(f(e))throw Error("first arg must be private key");if(!f(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,a=v){let{seed:c,k2sig:u}=function(e,i,a=v){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:u}=t,{lowS:h,prehash:f,extraEntropy:y}=a;null==h&&(h=!0),e=kO("msgHash",e),Am(a),f&&(e=kO("prehashed msgHash",c(e)));let b=m(e),x=l(i),E=[w(x),w(b)];if(null!=y&&!1!==y){let e=!0===y?u(r.BYTES):y;E.push(kO("extraEntropy",e))}return{seed:k$(...E),k2sig:function(e){var t;let r=g(e);if(!d(r))return;let i=k3(r,n),a=o.BASE.multiply(r).toAffine(),l=s(a.x);if(l===Ax)return;let c=s(i*s(b+l*x));if(c===Ax)return;let u=2*(a.x!==l)|Number(a.y&AE),f=c;return h&&c>n>>AE&&(f=(t=c)>n>>AE?s(-t):t,u^=1),new p(l,f,u)}}}(e,i,a);return kW(t.hash.outputLen,t.nByteLength,t.hmac)(c,u)},verify:function(e,r,i,a=b){let l,c;r=kO("msgHash",r),i=kO("publicKey",i);let{lowS:d,prehash:u,format:h}=a;if(Am(a),"strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let f="string"==typeof e||kv(e),g=!f&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!f&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(l=new p(e.r,e.s)),f){try{"compact"!==h&&(l=p.fromDER(e))}catch(e){if(!(e instanceof Ab.Err))throw e}l||"der"===h||(l=p.fromCompact(e))}c=o.fromHex(i)}catch{return!1}if(!l||d&&l.hasHighS())return!1;u&&(r=t.hash(r));let{r:y,s:w}=l,v=m(r),x=k3(w,n),E=s(v*x),_=s(y*x),C=o.BASE.multiplyAndAddUnsafe(c,E,_)?.toAffine();return!!C&&s(C.x)===y},ProjectivePoint:o,Signature:p,utils:{isValidPrivateKey(e){try{return l(e),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=k9(t.n);return function(e,t,r=!1){let n=e.length,i=k8(t),a=k9(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let s=k0(r?kP(e):kT(e),t-kK)+kK;return r?kN(s,i):kj(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>ks(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];_q(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:_9});return{...r(t),create:r}}({a:AC.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:AC,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},kg),AA="base10",AI="base16",AS="base64pad",AT="base64url",AP="utf8";function Aj(){let e=_9(32);return(0,_t.dI)(e,AI)}function AN(e){let t=kg((0,_t.sH)(e,AI));return(0,_t.dI)(t,AI)}function AO(e){let t=kg((0,_t.sH)(e,AP));return(0,_t.dI)(t,AI)}function A$(e){return(0,_t.sH)(`${e}`,AA)}function AM(e){return Number((0,_t.dI)(e,AA))}function AR(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function AD(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function AL(e){if(2===AM(e.type))return(0,_t.dI)((0,_t.xW)([e.type,e.sealed]),AS);if(1===AM(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,_t.dI)((0,_t.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),AS)}return(0,_t.dI)((0,_t.xW)([e.type,e.iv,e.sealed]),AS)}function AU(e){let t=(e.encoding||AS)===AT?AD(e.encoded):e.encoded,r=(0,_t.sH)(t,AS),n=r.slice(0,1);if(1===AM(n)){let e=r.slice(1,33),t=r.slice(33,45);return{type:n,sealed:r.slice(45),iv:t,senderPublicKey:e}}if(2===AM(n))return{type:n,sealed:r.slice(1),iv:_9(12)};let i=r.slice(1,13);return{type:n,sealed:r.slice(13),iv:i}}function AF(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function AB(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function AW(e){return e?.relay||{protocol:"irn"}}function Az(e){let t=_r.CG[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}function Aq(e){var t;if(!e.includes("wc:")){let t=_W(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),a=e.substring(r+1,n).split("@"),s=new URLSearchParams("u">typeof n?e.substring(n):""),o={};s.forEach((e,t)=>{o[t]=e});let l="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:i,topic:(t=a[0]).startsWith("//")?t.substring(2):t,version:parseInt(a[1],10),symKey:o.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),a=e[t];r[i]=a}}),r}(o),methods:l,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function AH(e){let t=new URLSearchParams,r=function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay);Object.keys(r).sort().forEach(e=>{t.set(e,r[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));let n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function AV(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var AG=Object.defineProperty,AK=Object.defineProperties,AJ=Object.getOwnPropertyDescriptors,AY=Object.getOwnPropertySymbols,AZ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,AX=(e,t,r)=>t in e?AG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A0=(e,t)=>{for(var r in t||(t={}))AZ.call(t,r)&&AX(e,r,t[r]);if(AY)for(var r of AY(t))AQ.call(t,r)&&AX(e,r,t[r]);return e},A1=(e,t)=>AK(e,AJ(t));function A2(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function A3(e){return e.includes(":")}function A5(e){return A3(e)?e.split(":")[0]:e}function A4(e,t){let r=function(e){let t={};return e?.forEach(e=>{var r;let[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push(`${n}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=_R(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}let A6={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},A8={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function A9(e,t){let{message:r,code:n}=A8[e];return{message:t?`${r} ${t}`:r,code:n}}function A7(e,t){let{message:r,code:n}=A6[e];return{message:t?`${r} ${t}`:r,code:n}}function Ie(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function It(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Ir(e){return typeof e>"u"}function In(e,t){return!!(t&&Ir(e))||"string"==typeof e&&!!e.trim().length}function Ii(e,t){return!!(t&&Ir(e))||"number"==typeof e&&!isNaN(e)}function Ia(e){return!!(In(e,!1)&&e.includes(":"))&&2===e.split(":").length}function Is(e){let t=!0;return Ie(e)?e.length&&(t=e.every(e=>In(e,!1))):t=!1,t}function Io(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let a=(n=`${t}, namespace`,i=null,Is(e?.methods)?Is(e?.events)||(i=A7("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=A7("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);a&&(r=a)}),r}function Il(e,t){let r=null;if(e&&It(e)){let n,i=Io(e,t);i&&(r=i);let a=(n=null,Object.values(e).forEach(e=>{var r,i;let a;if(n)return;let s=(r=e?.accounts,i=`${t} namespace`,a=null,Ie(r)?r.forEach(e=>{a||function(e){if(In(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&Ia(e)}}return!1}(e)||(a=A7("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):a=A7("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),a);s&&(n=s)}),n);a&&(r=a)}else r=A9("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Ic(e){return In(e.protocol,!0)}function Id(e){return"u">typeof e}function Iu(e,t){return!(!Ia(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...A2(e.accounts))}),t})(e).includes(t))}function Ih(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),a=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=A2(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),s=Object.keys(i),o=Object.keys(a),l=Ip(Object.keys(e)),c=Ip(Object.keys(t)),d=l.filter(e=>!c.includes(e));return d.length&&(n=A9("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),_A(s,o)||(n=A9("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${o.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=A2(t[e].accounts);i.includes(e)||(n=A9("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),s.forEach(e=>{n||(_A(i[e].methods,a[e].methods)?_A(i[e].events,a[e].events)||(n=A9("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=A9("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function Ip(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function If(){let e=_E();return new Promise(t=>{switch(e){case _w.browser:t(_x()&&navigator?.onLine);break;case _w.reactNative:t(Ig());break;case _w.node:default:t(!0)}})}async function Ig(){if(_b()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let Im={};class Iy{static get(e){return Im[e]}static set(e,t){Im[e]=t}static delete(e){delete Im[e]}}var Iw=r(51319),Iv=r(10420),Ib=r(42825),Ix=r(28709),IE=Object.defineProperty,I_=(e,t,r)=>t in e?IE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IC=(e,t,r)=>I_(e,"symbol"!=typeof t?t+"":t,r);class Ik extends Ix.H{constructor(e){super(),this.opts=e,IC(this,"protocol","wc"),IC(this,"version",2)}}var IA=Object.defineProperty,II=(e,t,r)=>t in e?IA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IS=(e,t,r)=>II(e,"symbol"!=typeof t?t+"":t,r);class IT extends Ix.H{constructor(e,t){super(),this.core=e,this.logger=t,IS(this,"records",new Map)}}class IP{constructor(e,t){this.logger=e,this.core=t}}class Ij extends Ix.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class IN extends Ix.H{constructor(e){super()}}class IO{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}var I$=Object.defineProperty;class IM extends Ix.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class IR extends Ix.H{constructor(e,t){super(),this.core=e,this.logger=t}}class ID{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class IL{constructor(e,t){this.projectId=e,this.logger=t}}class IU{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var IF=Object.defineProperty,IB=(e,t,r)=>t in e?IF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IW=(e,t,r)=>IB(e,"symbol"!=typeof t?t+"":t,r);E3();class Iz{constructor(e){this.opts=e,IW(this,"protocol","wc"),IW(this,"version",2)}}E2.EventEmitter;class Iq{constructor(e){this.client=e}}var IH=r(43617),IV=r(83116),IG=r(83327),IK=r(71242),IJ=r(72076).Buffer,IY=r(2272);let IZ="core",IQ=`wc@2:${IZ}:`,IX={logger:"error"},I0={database:":memory:"},I1="client_ed25519_seed",I2=E4.ONE_DAY,I3=E4.SIX_HOURS,I5="wss://relay.walletconnect.org",I4={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},I6={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},I8="2.19.2",I9={link_mode:"link_mode",relay:"relay"},I7={inbound:"inbound",outbound:"outbound"},Se="WALLETCONNECT_LINK_MODE_APPS",St={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Sr=(E4.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:E4.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:E4.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:E4.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:0},res:{ttl:E4.ONE_DAY,prompt:!1,tag:0}}}),Sn={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Si={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Sa={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Ss="https://verify.walletconnect.org",So=`${Ss}/v3`,Sl=["https://verify.walletconnect.com",Ss],Sc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},Sd={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},Su={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Sh={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Sp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Sf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var Sg=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),s=a.charCodeAt(0);if(255!==r[s])throw TypeError(a+" is ambiguous");r[s]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var a=(e.length-t)*c+1>>>0,s=new Uint8Array(a);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=a-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=o*s[h]>>>0,s[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===s[p];)p++;for(var f=new Uint8Array(n+(a-p)),g=n;p!==a;)f[g++]=s[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var s=(a-i)*d+1>>>0,c=new Uint8Array(s);i!==a;){for(var u=t[i],h=0,p=s-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*c[p]>>>0,c[p]=u%o>>>0,u=u/o>>>0;if(0!==u)throw Error("Non-zero carry");n=h,i++}for(var f=s-n;f!==s&&0===c[f];)f++;for(var g=l.repeat(r);f<s;++f)g+=e.charAt(c[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw Error(`Non-${t} character`)}}};let Sm=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},Sy=e=>new TextEncoder().encode(e),Sw=e=>new TextDecoder().decode(e);class Sv{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Sb{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return SE(this,e)}}class Sx{constructor(e){this.decoders=e}or(e){return SE(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let SE=(e,t)=>new Sx({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S_{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Sv(e,t,r),this.decoder=new Sb(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let SC=({name:e,prefix:t,encode:r,decode:n})=>new S_(e,t,r,n),Sk=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Sg(r,t);return SC({prefix:e,name:t,encode:n,decode:e=>Sm(i(e))})},SA=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;let s=new Uint8Array(a*r/8|0),o=0,l=0,c=0;for(let t=0;t<a;++t){let a=i[e[t]];if(void 0===a)throw SyntaxError(`Non-${n} character`);l=l<<r|a,(o+=r)>=8&&(o-=8,s[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return s},SI=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,a="",s=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],s+=8;s>r;)s-=r,a+=t[i&o>>s];if(s&&(a+=t[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},SS=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>SC({prefix:t,name:e,encode:e=>SI(e,n,r),decode:t=>SA(t,n,r,e)});var ST=Object.freeze({__proto__:null,identity:SC({prefix:"\0",name:"identity",encode:e=>Sw(e),decode:e=>Sy(e)})}),SP=Object.freeze({__proto__:null,base2:SS({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),Sj=Object.freeze({__proto__:null,base8:SS({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),SN=Object.freeze({__proto__:null,base10:Sk({prefix:"9",name:"base10",alphabet:"0123456789"})}),SO=Object.freeze({__proto__:null,base16:SS({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:SS({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let S$=SS({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SM=SS({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SR=SS({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),SD=SS({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),SL=SS({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),SU=SS({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),SF=SS({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var SB=Object.freeze({__proto__:null,base32:S$,base32upper:SM,base32pad:SR,base32padupper:SD,base32hex:SL,base32hexupper:SU,base32hexpad:SF,base32hexpadupper:SS({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:SS({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),SW=Object.freeze({__proto__:null,base36:Sk({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:Sk({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),Sz=Object.freeze({__proto__:null,base58btc:Sk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:Sk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let Sq=SS({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),SH=SS({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var SV=Object.freeze({__proto__:null,base64:Sq,base64pad:SH,base64url:SS({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:SS({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let SG=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),SK=SG.reduce((e,t,r)=>(e[r]=t,e),[]),SJ=SG.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var SY=Object.freeze({__proto__:null,base256emoji:SC({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=SK[t],"")},decode:function(e){let t=[];for(let r of e){let e=SJ[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function SZ(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,SZ.bytes=r-n+1,t}function SQ(e,t){var r,n=0,t=t||0,i=0,a=t,s=e.length;do{if(a>=s)throw SQ.bytes=0,RangeError("Could not decode varint");r=e[a++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return SQ.bytes=a-t,n}var SX={encode:SZ,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let S0=(e,t,r=0)=>(SX.encode(e,t,r),t),S1=e=>SX.encodingLength(e),S2=(e,t)=>{let r=t.byteLength,n=S1(e),i=n+S1(r),a=new Uint8Array(i+r);return S0(e,a,0),S0(r,a,n),a.set(t,i),new S3(e,r,t,a)};class S3{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let S5=({name:e,code:t,encode:r})=>new S4(e,t,r);class S4{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?S2(this.code,t):t.then(e=>S2(this.code,e))}throw Error("Unknown type, must be binary type")}}let S6=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var S8=Object.freeze({__proto__:null,sha256:S5({name:"sha2-256",code:18,encode:S6("SHA-256")}),sha512:S5({name:"sha2-512",code:19,encode:S6("SHA-512")})}),S9=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Sm,digest:e=>S2(0,Sm(e))}});new TextEncoder,new TextDecoder;let S7={...ST,...SP,...Sj,...SN,...SO,...SB,...SW,...Sz,...SV,...SY};function Te(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...S8,...S9});let Tt=Te("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Tr=Te("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Tn={utf8:Tt,"utf-8":Tt,hex:S7.base16,latin1:Tr,ascii:Tr,binary:Tr,...S7};var Ti=Object.defineProperty,Ta=(e,t,r)=>t in e?Ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ts=(e,t,r)=>Ta(e,"symbol"!=typeof t?t+"":t,r);class To{constructor(e,t){this.core=e,this.logger=t,Ts(this,"keychain",new Map),Ts(this,"name","keychain"),Ts(this,"version","0.3"),Ts(this,"initialized",!1),Ts(this,"storagePrefix",IQ),Ts(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),Ts(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),Ts(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),Ts(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=A9("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),Ts(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,Ib.U5)(t,this.name)}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,_I(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?_S(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var Tl=Object.defineProperty,Tc=(e,t,r)=>t in e?Tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Td=(e,t,r)=>Tc(e,"symbol"!=typeof t?t+"":t,r);class Tu{constructor(e,t,r){this.core=e,this.logger=t,Td(this,"name","crypto"),Td(this,"keychain"),Td(this,"randomSessionIdentifier",Aj()),Td(this,"initialized",!1),Td(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Td(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),Td(this,"getClientId",async()=>{this.isInitialized();let e=await this.getClientSeed(),t=_e.TZ(e);return _e.UF(t.publicKey)}),Td(this,"generateKeyPair",()=>{this.isInitialized();let e=function(){let e=Ag.utils.randomPrivateKey(),t=Ag.getPublicKey(e);return{privateKey:(0,_t.dI)(e,AI),publicKey:(0,_t.dI)(t,AI)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),Td(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=_e.TZ(t),n=this.randomSessionIdentifier;return await _e.FA(n,e,I2,r)}),Td(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=kc(kg,Ag.getSharedSecret((0,_t.sH)(e,AI),(0,_t.sH)(t,AI)),void 0,void 0,32);return(0,_t.dI)(r,AI)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)}),Td(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||AN(e);return await this.keychain.set(r,e),r}),Td(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),Td(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),Td(this,"encode",async(e,t,r)=>{this.isInitialized();let n=AF(r),i=(0,IH.h)(t);if(2===n.type)return function(e,t){let r=A$(2),n=_9(12),i=AL({type:r,sealed:(0,_t.sH)(e,AP),iv:n});return t===AT?AR(i):i}(i,r?.encoding);if(AB(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let a=this.getSymKey(e),{type:s,senderPublicKey:o}=n;return function(e){let t=A$("u">typeof e.type?e.type:0);if(1===AM(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,_t.sH)(e.senderPublicKey,AI):void 0,n="u">typeof e.iv?(0,_t.sH)(e.iv,AI):_9(12),i=AL({type:t,sealed:ki((0,_t.sH)(e.symKey,AI),n).encrypt((0,_t.sH)(e.message,AP)),iv:n,senderPublicKey:r});return e.encoding===AT?AR(i):i}({type:s,symKey:a,message:i,senderPublicKey:o,encoding:r?.encoding})}),Td(this,"decode",async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=AU({encoded:e,encoding:t?.encoding});return AF({type:AM(r.type),senderPublicKey:"u">typeof r.senderPublicKey?(0,_t.dI)(r.senderPublicKey,AI):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===n.type){let e=function(e,t){let{sealed:r}=AU({encoded:e,encoding:t});return(0,_t.dI)(r,AP)}(t,r?.encoding);return(0,IH.j)(e)}if(AB(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=(0,_t.sH)(e.symKey,AI),{sealed:r,iv:n}=AU({encoded:e.encoded,encoding:e.encoding}),i=ki(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return(0,_t.dI)(i,AP)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,IH.j)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),Td(this,"getPayloadType",(e,t=AS)=>AM(AU({encoded:e,encoding:t}).type)),Td(this,"getPayloadSenderPublicKey",(e,t=AS)=>{let r=AU({encoded:e,encoding:t});return r.senderPublicKey?(0,_t.dI)(r.senderPublicKey,AI):void 0}),this.core=e,this.logger=(0,Ib.U5)(t,this.name),this.keychain=r||new To(this.core,this.logger)}get context(){return(0,Ib.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(I1)}catch{e=Aj(),await this.keychain.set(I1,e)}return function(e,t="utf8"){let r=Tn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var Th=Object.defineProperty,Tp=Object.defineProperties,Tf=Object.getOwnPropertyDescriptors,Tg=Object.getOwnPropertySymbols,Tm=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,Tw=(e,t,r)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tv=(e,t)=>{for(var r in t||(t={}))Tm.call(t,r)&&Tw(e,r,t[r]);if(Tg)for(var r of Tg(t))Ty.call(t,r)&&Tw(e,r,t[r]);return e},Tb=(e,t)=>Tp(e,Tf(t)),Tx=(e,t,r)=>Tw(e,"symbol"!=typeof t?t+"":t,r);class TE extends IP{constructor(e,t){super(e,t),this.logger=e,this.core=t,Tx(this,"messages",new Map),Tx(this,"messagesWithoutClientAck",new Map),Tx(this,"name","messages"),Tx(this,"version","0.3"),Tx(this,"initialized",!1),Tx(this,"storagePrefix",IQ),Tx(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),Tx(this,"set",async(e,t,r)=>{this.isInitialized();let n=AO(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===I7.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,Tb(Tv({},r),{[n]:t}))}return await this.persist(),n}),Tx(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),Tx(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),Tx(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[AO(t)])),Tx(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=AO(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),Tx(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,Ib.U5)(e,this.name),this.core=t}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,_I(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,_I(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?_S(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?_S(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var T_=Object.defineProperty,TC=Object.defineProperties,Tk=Object.getOwnPropertyDescriptors,TA=Object.getOwnPropertySymbols,TI=Object.prototype.hasOwnProperty,TS=Object.prototype.propertyIsEnumerable,TT=(e,t,r)=>t in e?T_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,TP=(e,t)=>{for(var r in t||(t={}))TI.call(t,r)&&TT(e,r,t[r]);if(TA)for(var r of TA(t))TS.call(t,r)&&TT(e,r,t[r]);return e},Tj=(e,t)=>TC(e,Tk(t)),TN=(e,t,r)=>TT(e,"symbol"!=typeof t?t+"":t,r);class TO extends Ij{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,TN(this,"events",new E2.EventEmitter),TN(this,"name","publisher"),TN(this,"queue",new Map),TN(this,"publishTimeout",(0,E4.toMiliseconds)(E4.ONE_MINUTE)),TN(this,"initialPublishTimeout",(0,E4.toMiliseconds)(15*E4.ONE_SECOND)),TN(this,"needsTransportRestart",!1),TN(this,"publish",async(e,t,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let i=r?.ttl||I3,a=AW(r),s=r?.prompt||!1,o=r?.tag||0,l=r?.id||(0,IG.getBigIntRpcId)().toString(),c={topic:e,message:t,opts:{ttl:i,relay:a,prompt:s,tag:o,id:l,attestation:r?.attestation,tvf:r?.tvf}},d=`Failed to publish payload, please try again. id:${l} tag:${o}`;try{let n=new Promise(async n=>{let a=({id:e})=>{c.opts.id===e&&(this.removeRequestFromQueue(e),this.relayer.events.removeListener(I4.publish,a),n(c))};this.relayer.events.on(I4.publish,a);let d=_P(new Promise((n,a)=>{this.rpcPublish({topic:e,message:t,ttl:i,prompt:s,tag:o,id:l,attestation:r?.attestation,tvf:r?.tvf}).then(n).catch(e=>{this.logger.warn(e,e?.message),a(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${l} tag:${o}`);try{await d,this.events.removeListener(I4.publish,a)}catch(e){this.queue.set(l,Tj(TP({},c),{attempt:1})),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:l,topic:e,message:t,opts:r}}),await _P(n,this.publishTimeout,d)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw e}finally{this.queue.delete(l)}}),TN(this,"on",(e,t)=>{this.events.on(e,t)}),TN(this,"once",(e,t)=>{this.events.once(e,t)}),TN(this,"off",(e,t)=>{this.events.off(e,t)}),TN(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,Ib.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,Ib.oI)(this.logger)}async rpcPublish(e){var t,r,n,i;let{topic:a,message:s,ttl:o=I3,prompt:l,tag:c,id:d,attestation:u,tvf:h}=e,p={method:Az(AW().protocol).publish,params:TP({topic:a,message:s,ttl:o,prompt:l,tag:c,attestation:u},h),id:d};Ir(null==(t=p.params)?void 0:t.prompt)&&(null==(r=p.params)||delete r.prompt),Ir(null==(n=p.params)?void 0:n.tag)&&(null==(i=p.params)||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});let f=await this.relayer.request(p);return this.relayer.events.emit(I4.publish,e),this.logger.debug("Successfully Published Payload"),f}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{let r=e.attempt+1;this.queue.set(t,Tj(TP({},e),{attempt:r}));let{topic:n,message:i,opts:a,attestation:s}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(Tj(TP({},e),{topic:n,message:i,ttl:a.ttl,prompt:a.prompt,tag:a.tag,id:a.id,attestation:s,tvf:a.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Iw.li.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(I4.connection_stalled);return}this.checkQueue()}),this.relayer.on(I4.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var T$=Object.defineProperty,TM=(e,t,r)=>t in e?T$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,TR=(e,t,r)=>TM(e,"symbol"!=typeof t?t+"":t,r);class TD{constructor(){TR(this,"map",new Map),TR(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),TR(this,"get",e=>this.map.get(e)||[]),TR(this,"exists",(e,t)=>this.get(e).includes(t)),TR(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length)return void this.map.delete(e);this.map.set(e,n)}),TR(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var TL=Object.defineProperty,TU=Object.defineProperties,TF=Object.getOwnPropertyDescriptors,TB=Object.getOwnPropertySymbols,TW=Object.prototype.hasOwnProperty,Tz=Object.prototype.propertyIsEnumerable,Tq=(e,t,r)=>t in e?TL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,TH=(e,t)=>{for(var r in t||(t={}))TW.call(t,r)&&Tq(e,r,t[r]);if(TB)for(var r of TB(t))Tz.call(t,r)&&Tq(e,r,t[r]);return e},TV=(e,t)=>TU(e,TF(t)),TG=(e,t,r)=>Tq(e,"symbol"!=typeof t?t+"":t,r);class TK extends IM{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,TG(this,"subscriptions",new Map),TG(this,"topicMap",new TD),TG(this,"events",new E2.EventEmitter),TG(this,"name","subscription"),TG(this,"version","0.3"),TG(this,"pending",new Map),TG(this,"cached",[]),TG(this,"initialized",!1),TG(this,"storagePrefix",IQ),TG(this,"subscribeTimeout",(0,E4.toMiliseconds)(E4.ONE_MINUTE)),TG(this,"initialSubscribeTimeout",(0,E4.toMiliseconds)(15*E4.ONE_SECOND)),TG(this,"clientId"),TG(this,"batchSubscribeTopicsLimit",500),TG(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),TG(this,"subscribe",async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=AW(t),n={topic:e,relay:r,transportType:t?.transportType};this.pending.set(e,n);let i=await this.rpcSubscribe(e,r,t);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),TG(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),TG(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),TG(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),TG(this,"on",(e,t)=>{this.events.on(e,t)}),TG(this,"once",(e,t)=>{this.events.once(e,t)}),TG(this,"off",(e,t)=>{this.events.off(e,t)}),TG(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),TG(this,"start",async()=>{await this.onConnect()}),TG(this,"stop",async()=>{await this.onDisconnect()}),TG(this,"restart",async()=>{await this.restore(),await this.onRestart()}),TG(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),TG(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Iw.li.pulse,async()=>{await this.checkPending()}),this.events.on(St.created,async e=>{let t=St.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(St.deleted,async e=>{let t=St.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,Ib.U5)(t,this.name),this.clientId=""}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=AW(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=A7("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n;r&&r?.transportType!==I9.relay||await this.restartToComplete({topic:e,id:e,relay:t});let i={method:Az(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let a=null==(n=r?.internal)?void 0:n.throwOnFailedPublish;try{let t=await this.getSubscriptionId(e);if(r?.transportType===I9.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(e=>this.logger.warn(e))},(0,E4.toMiliseconds)(E4.ONE_SECOND)),t;let n=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(St.created,r),t(n.id))};this.events.on(St.created,r);try{let n=await _P(new Promise((e,t)=>{this.relayer.request(i).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(St.created,r),t(n)}catch{}}),s=await _P(n,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!s&&a)throw Error(`Subscribing to ${e} failed, please try again`);return s?t:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(I4.connection_stalled),a)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:Az(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await _P(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(I4.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:Az(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await _P(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(I4.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:Az(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,TV(TH({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,TH({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,TH({},t)),this.topicMap.set(t.topic,e),this.events.emit(St.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=A9("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(St.deleted,TV(TH({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(St.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(St.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=A9("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>TV(TH({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,E4.toMiliseconds)(E4.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return AO(e+await this.getClientId())}}var TJ=Object.defineProperty,TY=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,TX=(e,t,r)=>t in e?TJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T0=(e,t)=>{for(var r in t||(t={}))TZ.call(t,r)&&TX(e,r,t[r]);if(TY)for(var r of TY(t))TQ.call(t,r)&&TX(e,r,t[r]);return e},T1=(e,t,r)=>TX(e,"symbol"!=typeof t?t+"":t,r);class T2 extends IN{constructor(e){super(e),T1(this,"protocol","wc"),T1(this,"version",2),T1(this,"core"),T1(this,"logger"),T1(this,"events",new E2.EventEmitter),T1(this,"provider"),T1(this,"messages"),T1(this,"subscriber"),T1(this,"publisher"),T1(this,"name","relayer"),T1(this,"transportExplicitlyClosed",!1),T1(this,"initialized",!1),T1(this,"connectionAttemptInProgress",!1),T1(this,"relayUrl"),T1(this,"projectId"),T1(this,"packageName"),T1(this,"bundleId"),T1(this,"hasExperiencedNetworkDisruption",!1),T1(this,"pingTimeout"),T1(this,"heartBeatTimeout",(0,E4.toMiliseconds)(E4.THIRTY_SECONDS+E4.FIVE_SECONDS)),T1(this,"reconnectTimeout"),T1(this,"connectPromise"),T1(this,"reconnectInProgress",!1),T1(this,"requestsInFlight",[]),T1(this,"connectTimeout",(0,E4.toMiliseconds)(15*E4.ONE_SECOND)),T1(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,IG.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let a=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),a}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),T1(this,"resetPingTimeout",()=>{_v()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),T1(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),T1(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(I4.connect)}),T1(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),T1(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(I4.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),T1(this,"registerProviderListeners",()=>{this.provider.on(I6.payload,this.onPayloadHandler),this.provider.on(I6.connect,this.onConnectHandler),this.provider.on(I6.disconnect,this.onDisconnectHandler),this.provider.on(I6.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,Ib.U5)(e.logger,this.name):(0,Ib.h6)((0,Ib.iP)({level:e.logger||"error"})),this.messages=new TE(this.logger,e.core),this.subscriber=new TK(this,this.logger),this.publisher=new TO(this,this.logger),this.relayUrl=e?.relayUrl||I5,this.projectId=e.projectId,_b()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="android"?this.packageName=__():_b()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="ios"&&(this.bundleId=__()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return(0,Ib.oI)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:I9.relay},I7.outbound)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let a=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),s=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",o,l=t=>{t.topic===e&&(this.subscriber.off(St.created,l),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(St.created,l)}),new Promise(async(r,n)=>{s=await this.subscriber.subscribe(e,T0({internal:{throwOnFailedPublish:a}},t)).catch(e=>{a&&n(e)})||s,r()})]),s}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await _P(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics)return void this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await If())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0)return void this.logger.trace("Batch message events is empty. Ignoring...");let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=_O(E4.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(I4.message,e),await this.recordMessageEvent(e,I7.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(I6.disconnect,r),await _P(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(I6.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(I6.disconnect,r),await this.subscriber.start().then(e).catch(t).finally(()=>{this.provider.off(I6.disconnect,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,E4.toMiliseconds)(+t))),t++}}startPingTimeout(){var e,t,r,n,i;if(_v())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new IV.F(new IK.A(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:s,bundleId:o,packageName:l}){let c=r.split("?"),d=_k(e,t,n),u=function(e,t){let r=new URLSearchParams(e);for(let e of Object.keys(t).sort())if(t.hasOwnProperty(e)){let n=t[e];void 0!==n&&r.set(e,n)}return r.toString()}(c[1]||"",{auth:i,ua:d,projectId:a,useOnCloseEvent:s||void 0,packageName:l||void 0,bundleId:o||void 0});return c[0]+"?"+u}({sdkVersion:I8,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,IG.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:a}=t.data,s={topic:r,message:n,publishedAt:i,transportType:I9.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(T0({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else(0,IG.isJsonRpcResponse)(e)&&this.events.emit(I4.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,I7.inbound),this.events.emit(I4.message,e))}async acknowledgePayload(e){let t=(0,IG.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(I6.payload,this.onPayloadHandler),this.provider.off(I6.connect,this.onConnectHandler),this.provider.off(I6.disconnect,this.onDisconnectHandler),this.provider.off(I6.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await If();var t,n,i=async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))};switch(_E()){case _w.browser:t=i,!_b()&&_x()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)));break;case _w.reactNative:n=i,_b()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(e=>n(e?.isConnected));case _w.node:}}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(I4.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,E4.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),this.connected||await this.connect()}}function T3(){}function T5(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function T4(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function T6(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let T8="[object Arguments]",T9="[object Object]";var T7=Object.defineProperty,Pe=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Pn=(e,t,r)=>t in e?T7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pi=(e,t)=>{for(var r in t||(t={}))Pt.call(t,r)&&Pn(e,r,t[r]);if(Pe)for(var r of Pe(t))Pr.call(t,r)&&Pn(e,r,t[r]);return e},Pa=(e,t,r)=>Pn(e,"symbol"!=typeof t?t+"":t,r);class Ps extends IO{constructor(e,t,r,n=IQ,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,Pa(this,"map",new Map),Pa(this,"version","0.3"),Pa(this,"cached",[]),Pa(this,"initialized",!1),Pa(this,"getKey"),Pa(this,"storagePrefix",IQ),Pa(this,"recentlyDeleted",[]),Pa(this,"recentlyDeletedLimit",200),Pa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!Ir(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),Pa(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),Pa(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),Pa(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>{var n;return n=t[r],function e(t,r,n,i,a,s,o){let l=o(t,r,n,i,a,s);if(void 0!==l)return l;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,a){if(Object.is(r,n))return!0;let s=T6(r),o=T6(n);if(s===T8&&(s=T9),o===T8&&(o=T9),s!==o)return!1;switch(s){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let l=(i=i??new Map).get(r),c=i.get(n);if(null!=l&&null!=c)return l===n;i.set(r,n),i.set(n,r);try{switch(s){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,s]of r.entries())if(!n.has(t)||!e(s,n.get(t),t,r,n,i,a))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),s=Array.from(n.values());for(let o=0;o<t.length;o++){let l=t[o],c=s.findIndex(t=>e(l,t,void 0,r,n,i,a));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof IJ&&IJ.isBuffer(r)!==IJ.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,a))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,a);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,a);case"[object Error]":return r.name===n.name&&r.message===n.message;case T9:{if(!(t(r.constructor,n.constructor,i,a)||T5(r)&&T5(n)))return!1;let s=[...Object.keys(r),...T4(r)],o=[...Object.keys(n),...T4(n)];if(s.length!==o.length)return!1;for(let t=0;t<s.length;t++){let o=s[t],l=r[o];if(!Object.hasOwn(n,o))return!1;let c=n[o];if(!e(l,c,o,r,n,i,a))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,s,o)}(n,e[r],void 0,void 0,void 0,void 0,T3)})):this.values)),Pa(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=Pi(Pi({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),Pa(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,Ib.U5)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=A9("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=A9("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=A9("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var Po=Object.defineProperty,Pl=(e,t,r)=>t in e?Po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pc=(e,t,r)=>Pl(e,"symbol"!=typeof t?t+"":t,r);class Pd{constructor(e,t){this.core=e,this.logger=t,Pc(this,"name","pairing"),Pc(this,"version","0.3"),Pc(this,"events",new(E3())),Pc(this,"pairings"),Pc(this,"initialized",!1),Pc(this,"storagePrefix",IQ),Pc(this,"ignoredPayloadTypes",[1]),Pc(this,"registeredMethods",[]),Pc(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Pc(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),Pc(this,"create",async e=>{this.isInitialized();let t=Aj(),r=await this.core.crypto.setSymKey(t),n=_O(E4.FIVE_MINUTES),i={protocol:"irn"},a={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},s=AH({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(Sn.create,a),this.core.expirer.set(r,n),await this.pairings.set(r,a),await this.core.relayer.subscribe(r,{transportType:e?.transportType}),{topic:r,uri:s}}),Pc(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[Sc.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:a,expiryTimestamp:s,methods:o}=Aq(e.uri);if(r.props.properties.topic=n,r.addTrace(Sc.pairing_uri_validation_success),r.addTrace(Sc.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(Sc.existing_pairing),t.active)throw r.setError(Sd.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(Sc.pairing_not_expired)}let l=s||_O(E4.FIVE_MINUTES),c={topic:n,relay:a,expiry:l,active:!1,methods:o};this.core.expirer.set(n,l),await this.pairings.set(n,c),r.addTrace(Sc.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(Sn.create,c),r.addTrace(Sc.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(Sc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(Sd.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(e){throw r.setError(Sd.subscribe_pairing_topic_failure),e}return r.addTrace(Sc.subscribe_pairing_topic_success),c}),Pc(this,"activate",async({topic:e})=>{this.isInitialized();let t=_O(E4.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),Pc(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=_T();this.events.once(_M("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),Pc(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),Pc(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),Pc(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Pc(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",A7("USER_DISCONNECTED")),await this.deletePairing(t))}),Pc(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,a=this.core.crypto.keychain.get(t);return AH({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:a,relay:r,expiryTimestamp:n,methods:i})}),Pc(this,"sendRequest",async(e,t,r)=>{let n=(0,IG.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),a=Sr[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,a),n.id}),Pc(this,"sendResult",async(e,t,r)=>{let n=(0,IG.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),a=Sr[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)}),Pc(this,"sendError",async(e,t,r)=>{let n=(0,IG.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),a=(await this.core.history.get(t,e)).request.method,s=Sr[a]?Sr[a].res:Sr.unregistered_method.res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)}),Pc(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,A7("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),Pc(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>_$(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),Pc(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),Pc(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),Pc(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(Sn.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),Pc(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("pairing_ping",r),{}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("pairing_ping",r),{error:t.error})},500)}),Pc(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Sn.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),Pc(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=A7("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),Pc(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(A7("WC_METHOD_UNSUPPORTED",e))}),Pc(this,"isValidPair",(e,t)=>{var r;if(!Id(e)){let{message:r}=A9("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(Sd.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(In(e,!1)){if(t(e))return!0;let r=_W(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=A9("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(Sd.malformed_pairing_uri),Error(r)}let n=Aq(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=A9("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Sd.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=A9("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Sd.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,E4.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(Sd.pairing_expired);let{message:e}=A9("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),Pc(this,"isValidPing",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),Pc(this,"isValidDisconnect",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),Pc(this,"isValidPairingTopic",async e=>{if(!In(e,!1)){let{message:t}=A9("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=A9("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(_$(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=A9("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,Ib.U5)(t,this.name),this.pairings=new Ps(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,Ib.oI)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(I4.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==I9.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,IG.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,IG.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(Sa.expired,async e=>{let{topic:t}=_N(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Sn.expire,{topic:t}))})}}var Pu=Object.defineProperty,Ph=(e,t,r)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pp=(e,t,r)=>Ph(e,"symbol"!=typeof t?t+"":t,r);class Pf extends IT{constructor(e,t){super(e,t),this.core=e,this.logger=t,Pp(this,"records",new Map),Pp(this,"events",new E2.EventEmitter),Pp(this,"name","history"),Pp(this,"version","0.3"),Pp(this,"cached",[]),Pp(this,"initialized",!1),Pp(this,"storagePrefix",IQ),Pp(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Pp(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:_O(E4.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(Si.created,n)}),Pp(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,IG.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(Si.updated,t))}),Pp(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),Pp(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(Si.deleted,r)))}),this.persist()}),Pp(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),Pp(this,"on",(e,t)=>{this.events.on(e,t)}),Pp(this,"once",(e,t)=>{this.events.once(e,t)}),Pp(this,"off",(e,t)=>{this.events.off(e,t)}),Pp(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Ib.U5)(t,this.name)}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,IG.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=A9("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Si.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=A9("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Si.created,e=>{let t=Si.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Si.updated,e=>{let t=Si.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Si.deleted,e=>{let t=Si.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Iw.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,E4.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Si.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var Pg=Object.defineProperty,Pm=(e,t,r)=>t in e?Pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Py=(e,t,r)=>Pm(e,"symbol"!=typeof t?t+"":t,r);class Pw extends IR{constructor(e,t){super(e,t),this.core=e,this.logger=t,Py(this,"expirations",new Map),Py(this,"events",new E2.EventEmitter),Py(this,"name","expirer"),Py(this,"version","0.3"),Py(this,"cached",[]),Py(this,"initialized",!1),Py(this,"storagePrefix",IQ),Py(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Py(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),Py(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(Sa.created,{target:r,expiration:n})}),Py(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),Py(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Sa.deleted,{target:t,expiration:r})}}),Py(this,"on",(e,t)=>{this.events.on(e,t)}),Py(this,"once",(e,t)=>{this.events.once(e,t)}),Py(this,"off",(e,t)=>{this.events.off(e,t)}),Py(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Ib.U5)(t,this.name)}get context(){return(0,Ib.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return _j("topic",e);if("number"==typeof e)return _j("id",e);let{message:t}=A9("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Sa.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=A9("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=A9("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,E4.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Sa.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Iw.li.pulse,()=>this.checkExpirations()),this.events.on(Sa.created,e=>{let t=Sa.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Sa.expired,e=>{let t=Sa.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Sa.deleted,e=>{let t=Sa.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}}var Pv=Object.defineProperty,Pb=(e,t,r)=>t in e?Pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Px=(e,t,r)=>Pb(e,"symbol"!=typeof t?t+"":t,r);class PE extends ID{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,Px(this,"name","verify-api"),Px(this,"abortController"),Px(this,"isDevEnv"),Px(this,"verifyUrlV3",So),Px(this,"storagePrefix",IQ),Px(this,"version",2),Px(this,"publicKey"),Px(this,"fetchPromise"),Px(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,E4.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Px(this,"register",async e=>{if(!_x()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,E6.getDocument)(),t=this.startAbortTimer(5*E4.ONE_SECOND),n=await new Promise((n,a)=>{let s=()=>{window.removeEventListener("message",l),e.body.removeChild(o),a("attestation aborted")};this.abortController.signal.addEventListener("abort",s);let o=e.createElement("iframe");o.src=i,o.style.display="none",o.addEventListener("error",s,{signal:this.abortController.signal});let l=i=>{if(i.data&&"string"==typeof i.data)try{let a=JSON.parse(i.data);if("verify_attestation"===a.type){if((0,_e.Cq)(a.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(o),this.abortController.signal.removeEventListener("abort",s),window.removeEventListener("message",l),n(null===a.attestation?"":a.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(o),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""}),Px(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,_e.Cq)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),Px(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*E4.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),Px(this,"getVerifyUrl",e=>{let t=e||Ss;return Sl.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${Ss}`),t=Ss),t}),Px(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(E4.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),Px(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),Px(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Px(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),Px(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Px(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),Px(this,"validateAttestation",(e,t)=>{let r=function(e,t){let[r,n,i]=e.split("."),a=_i.from(AD(i),"base64");if(64!==a.length)throw Error("Invalid signature length");let s=a.slice(0,32),o=a.slice(32,64),l=kg(`${r}.${n}`),c=function(e){let t=_i.from(e.x,"base64"),r=_i.from(e.y,"base64");return(0,_t.xW)([new Uint8Array([4]),t,r])}(t);if(!Ak.verify((0,_t.xW)([s,o]),l,c))throw Error("Invalid signature");return(0,_e.Cq)(e).payload}(e,t.publicKey),n={hasExpired:(0,E4.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=(0,Ib.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=_B(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,Ib.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,E4.toMiliseconds)(e))}}var P_=Object.defineProperty,PC=(e,t,r)=>t in e?P_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pk=(e,t,r)=>PC(e,"symbol"!=typeof t?t+"":t,r);class PA extends IL{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Pk(this,"context","echo"),Pk(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,a=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=(0,Ib.U5)(t,this.context)}}var PI=Object.defineProperty,PS=Object.getOwnPropertySymbols,PT=Object.prototype.hasOwnProperty,PP=Object.prototype.propertyIsEnumerable,Pj=(e,t,r)=>t in e?PI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PN=(e,t)=>{for(var r in t||(t={}))PT.call(t,r)&&Pj(e,r,t[r]);if(PS)for(var r of PS(t))PP.call(t,r)&&Pj(e,r,t[r]);return e},PO=(e,t,r)=>Pj(e,"symbol"!=typeof t?t+"":t,r);class P$ extends IU{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,PO(this,"context","event-client"),PO(this,"storagePrefix",IQ),PO(this,"storageVersion",.1),PO(this,"events",new Map),PO(this,"shouldPersist",!1),PO(this,"init",async()=>{if(!_B())try{let e={eventId:_F(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:_k(this.core.relayer.protocol,this.core.relayer.version,I8)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),PO(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,a=_F(),s=this.core.projectId||"",o=PN({eventId:a,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:s,domain:this.getAppDomain()},this.setMethods(a));return this.telemetryEnabled&&(this.events.set(a,o),this.shouldPersist=!0),o}),PO(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return PN(PN({},n),this.setMethods(n.eventId))}),PO(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),PO(this,"setEventListeners",()=>{this.core.heartbeat.on(Iw.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,E4.fromMiliseconds)(Date.now())-(0,E4.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),PO(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),PO(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),PO(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),PO(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),PO(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,PN(PN({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),PO(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),PO(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${I8}${t}`,{method:"POST",body:JSON.stringify(e)})}),PO(this,"getAppDomain",()=>_C().url),this.logger=(0,Ib.U5)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var PM=Object.defineProperty,PR=Object.getOwnPropertySymbols,PD=Object.prototype.hasOwnProperty,PL=Object.prototype.propertyIsEnumerable,PU=(e,t,r)=>t in e?PM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PF=(e,t)=>{for(var r in t||(t={}))PD.call(t,r)&&PU(e,r,t[r]);if(PR)for(var r of PR(t))PL.call(t,r)&&PU(e,r,t[r]);return e},PB=(e,t,r)=>PU(e,"symbol"!=typeof t?t+"":t,r);class PW extends Ik{constructor(e){var t;super(e),PB(this,"protocol","wc"),PB(this,"version",2),PB(this,"name",IZ),PB(this,"relayUrl"),PB(this,"projectId"),PB(this,"customStoragePrefix"),PB(this,"events",new E2.EventEmitter),PB(this,"logger"),PB(this,"heartbeat"),PB(this,"relayer"),PB(this,"crypto"),PB(this,"storage"),PB(this,"history"),PB(this,"expirer"),PB(this,"pairing"),PB(this,"verify"),PB(this,"echoClient"),PB(this,"linkModeSupportedApps"),PB(this,"eventClient"),PB(this,"initialized",!1),PB(this,"logChunkController"),PB(this,"on",(e,t)=>this.events.on(e,t)),PB(this,"once",(e,t)=>this.events.once(e,t)),PB(this,"off",(e,t)=>this.events.off(e,t)),PB(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),PB(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:I9.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||I5,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=(0,Ib.iP)({level:"string"==typeof e?.logger&&e.logger?e.logger:IX.logger,name:IZ}),{logger:i,chunkLoggerController:a}=(0,Ib.D5)({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,Ib.U5)(i,this.name),this.heartbeat=new Iw.VH,this.crypto=new Tu(this,this.logger,e?.keychain),this.history=new Pf(this,this.logger),this.expirer=new Pw(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new Iv.A(PF(PF({},I0),e?.storageOptions)),this.relayer=new T2({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Pd(this,this.logger),this.verify=new PE(this,this.logger,this.storage),this.echoClient=new PA(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new P$(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new PW(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,Ib.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Se,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Se)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof IY&&"true"===IY.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let Pz="client",Pq=`wc@2:${Pz}:`,PH={name:Pz,logger:"error"},PV="WALLETCONNECT_DEEPLINK_CHOICE",PG="Proposal expired",PK=E4.SEVEN_DAYS,PJ={wc_sessionPropose:{req:{ttl:E4.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:1104},res:{ttl:E4.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:1106},res:{ttl:E4.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:E4.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:E4.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:1112},res:{ttl:E4.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:E4.ONE_DAY,prompt:!1,tag:1114},res:{ttl:E4.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:E4.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:E4.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:E4.FIVE_MINUTES,prompt:!1,tag:1119}}},PY={min:E4.FIVE_MINUTES,max:E4.SEVEN_DAYS},PZ={idle:"IDLE",active:"ACTIVE"},PQ={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},PX=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],P0="wc@1.5:auth:",P1=`${P0}:PUB_KEY`;var P2=Object.defineProperty,P3=Object.defineProperties,P5=Object.getOwnPropertyDescriptors,P4=Object.getOwnPropertySymbols,P6=Object.prototype.hasOwnProperty,P8=Object.prototype.propertyIsEnumerable,P9=(e,t,r)=>t in e?P2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P7=(e,t)=>{for(var r in t||(t={}))P6.call(t,r)&&P9(e,r,t[r]);if(P4)for(var r of P4(t))P8.call(t,r)&&P9(e,r,t[r]);return e},je=(e,t)=>P3(e,P5(t)),jt=(e,t,r)=>P9(e,"symbol"!=typeof t?t+"":t,r);class jr extends Iq{constructor(e){super(e),jt(this,"name","engine"),jt(this,"events",new(E3())),jt(this,"initialized",!1),jt(this,"requestQueue",{state:PZ.idle,queue:[]}),jt(this,"sessionRequestQueue",{state:PZ.idle,queue:[]}),jt(this,"requestQueueDelay",E4.ONE_SECOND),jt(this,"expectedPairingMethodMap",new Map),jt(this,"recentlyDeletedMap",new Map),jt(this,"recentlyDeletedLimit",200),jt(this,"relayMessageCache",[]),jt(this,"pendingSessions",new Map),jt(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(PJ)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,E4.toMiliseconds)(this.requestQueueDelay)))}),jt(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=je(P7({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:a,scopedProperties:s,relays:o}=t,l=r,c,d=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!d){let{topic:e,uri:t}=await this.client.core.pairing.create();l=e,c=t}if(!l){let{message:e}=A9("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw Error(e)}let u=await this.client.core.crypto.generateKeyPair(),h=PJ.wc_sessionPropose.req.ttl||E4.FIVE_MINUTES,p=_O(h),f=je(P7(P7({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},a&&{sessionProperties:a}),s&&{scopedProperties:s}),{id:(0,IG.payloadId)()}),g=_M("session_connect",f.id),{reject:m,resolve:y,done:w}=_T(h,PG),v=({id:e})=>{e===f.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(f.id),this.events.emit(g,{error:{message:PG,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",v),e?m(e):t&&y(t)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0,clientRpcId:f.id}),await this.setProposal(f.id,f),{uri:c,approval:w}}),jt(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),jt(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[Su.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(Sh.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(Sh.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(Sh.session_approve_namespace_validation_failure),e}let{id:a,relayProtocol:s,namespaces:o,sessionProperties:l,scopedProperties:c,sessionConfig:d}=e,u=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:p,requiredNamespaces:f,optionalNamespaces:g}=u,m=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});m||(m=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:Su.session_approve_started,properties:{topic:h,trace:[Su.session_approve_started,Su.session_namespaces_validation_success]}}));let y=await this.client.core.crypto.generateKeyPair(),w=p.publicKey,v=await this.client.core.crypto.generateSharedKey(y,w),b=P7(P7(P7({relay:{protocol:s??"irn"},namespaces:o,controller:{publicKey:y,metadata:this.client.metadata},expiry:_O(PK)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),d&&{sessionConfig:d}),x=I9.relay;m.addTrace(Su.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:x})}catch(e){throw m.setError(Sh.subscribe_session_topic_failure),e}m.addTrace(Su.subscribe_session_topic_success);let E=je(P7({},b),{topic:v,requiredNamespaces:f,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:b.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:y,transportType:I9.relay});await this.client.session.set(v,E),m.addTrace(Su.store_session);try{m.addTrace(Su.publishing_session_settle),await this.sendRequest({topic:v,method:"wc_sessionSettle",params:b,throwOnFailedPublish:!0}).catch(e=>{throw m?.setError(Sh.session_settle_publish_failure),e}),m.addTrace(Su.session_settle_publish_success),m.addTrace(Su.publishing_session_approve),await this.sendResult({id:a,topic:h,result:{relay:{protocol:s??"irn"},responderPublicKey:y},throwOnFailedPublish:!0}).catch(e=>{throw m?.setError(Sh.session_approve_publish_failure),e}),m.addTrace(Su.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,A7("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:p.metadata}),await this.client.proposal.delete(a,A7("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(v,_O(PK)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),jt(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&(await this.sendError({id:r,topic:t,error:n,rpcOpts:PJ.wc_sessionPropose.reject}),await this.client.proposal.delete(r,A7("USER_DISCONNECTED")))}),jt(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:a}=_T(),s=(0,IG.payloadId)(),o=(0,IG.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once(_M("session_update",s),({error:e})=>{e?a(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:o}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),a(e)}),{acknowledged:n}}),jt(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,IG.payloadId)(),{done:n,resolve:i,reject:a}=_T();return this.events.once(_M("session_extend",r),({error:e})=>{e?a(e):i()}),await this.setExpiry(t,_O(PK)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{a(e)}),{acknowledged:n}}),jt(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=PJ.wc_sessionRequest.req.ttl}=e,a=this.client.session.get(n);a?.transportType===I9.relay&&await this.confirmOnlineStateOrThrow();let s=(0,IG.payloadId)(),o=(0,IG.getBigIntRpcId)().toString(),{done:l,resolve:c,reject:d}=_T(i,"Request expired. Please try again.");this.events.once(_M("session_request",s),({error:e,result:t})=>{e?d(e):c(t)});let u="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:s,relayRpcId:o,topic:n,method:u,params:{request:je(P7({},r),{expiryTimestamp:_O(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),await l();let p={request:je(P7({},r),{expiryTimestamp:_O(i)}),chainId:t},f=this.shouldSetTVF(u,p);return await Promise.all([new Promise(async e=>{await this.sendRequest(P7({clientRpcId:s,relayRpcId:o,topic:n,method:u,params:p,expiry:i,throwOnFailedPublish:!0},f&&{tvf:this.getTVFParams(s,p)})).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),e()}),new Promise(async e=>{var t;if(!(null!=(t=a.sessionConfig)&&t.disableDeepLink)){let e=await _L(this.client.core.storage,PV);await _D({id:s,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),jt(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===I9.relay&&await this.confirmOnlineStateOrThrow();let a=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,IG.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:a}):(0,IG.isJsonRpcError)(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:a}),this.cleanupAfterResponse(e)}),jt(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,IG.payloadId)(),r=(0,IG.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:a}=_T();this.events.once(_M("session_ping",e),({error:e})=>{e?a(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),jt(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,IG.getBigIntRpcId)().toString(),a=(0,IG.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:a})}),jt(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:A7("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=A9("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),jt(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),a=!0;return!!_A(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:s}=e.namespaces[t],o=A2(n),l=r[t];_A(_l(t,l),o)&&_A(l.methods,i)&&_A(l.events,s)||(a=!1)}),a)})(t,e)))),jt(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),jt(this,"authenticate",async(e,t)=>{var r,n,i;let a;this.isInitialized(),this.isValidAuthenticate(e);let s=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),o=s?I9.link_mode:I9.relay;o===I9.relay&&await this.confirmOnlineStateOrThrow();let{chains:l,statement:c="",uri:d,domain:u,nonce:h,type:p,exp:f,nbf:g,methods:m=[],expiry:y}=e,w=[...e.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});let x=await this.client.core.crypto.generateKeyPair(),E=AN(x);if(await Promise.all([this.client.auth.authKeys.set(P1,{responseTopic:E,publicKey:x}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),m.length>0){let{namespace:e}=_a(l[0]),t=C$(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(e,"request",m));CL(w)&&(n=t,i=w.pop(),t=C$(function(e,t){CO(e),CO(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,a;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(a=t.att)?void 0:a[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var a,s;n.att[r]=CA(Ck({},n.att[r]),{[i]:(null==(a=e.att[r])?void 0:a[i])||(null==(s=t.att[r])?void 0:s[i])})})}),n}(CM(n),CM(i)))),w.push(t)}let _=y&&y>PJ.wc_sessionAuthenticate.req.ttl?y:PJ.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:p??"caip122",chains:l,statement:c,aud:d,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:f,nbf:g,resources:w},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:_O(_)},k={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:l,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:_O(PJ.wc_sessionPropose.req.ttl),id:(0,IG.payloadId)()},{done:A,resolve:I,reject:S}=_T(_,"Request expired"),T=(0,IG.payloadId)(),P=_M("session_connect",k.id),j=_M("session_request",T),N=async({error:e,session:t})=>{this.events.off(j,O),e?S(e):t&&I({session:t})},O=async e=>{var r,n,i;let a;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),e.error){let t=A7("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(P,N),S(e.error.message))}await this.deleteProposal(k.id),this.events.off(P,N);let{cacaos:s,responder:l}=e.result,c=[],d=[];for(let e of s){await Cj({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),S(A7("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=CL(t.resources),n=[CT(t.iss)],i=CP(t.iss);if(r){let e=CR(r),t=CD(r);c.push(...e),n.push(...t)}for(let e of n)d.push(`${e}:${i}`)}let u=await this.client.core.crypto.generateSharedKey(x,l.publicKey);c.length>0&&(a={topic:u,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:l,controller:l.publicKey,expiry:_O(PK),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:A4([...new Set(c)],[...new Set(d)]),transportType:o},await this.client.core.relayer.subscribe(u,{transportType:o}),await this.client.session.set(u,a),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:l.metadata}),a=this.client.session.get(u)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=l.metadata.redirect)&&n.linkMode&&null!=(i=l.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.session.update(u,{transportType:I9.link_mode})),I({auths:s,session:a})};this.events.once(P,N),this.events.once(j,O);try{if(s){let e=(0,IG.formatJsonRpcRequest)("wc_sessionAuthenticate",C,T);this.client.core.history.set(v,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:AT});a=AV(t,v,r)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:C,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:k,expiry:PJ.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(e){throw this.events.off(P,N),this.events.off(j,O),e}return await this.setProposal(k.id,k),await this.setAuthRequest(T,{request:je(P7({},C),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:a??b,response:A}}),jt(this,"approveSessionAuthenticate",async e=>{let t,{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Sp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(Sf.no_internet_connection),e}let a=this.getPendingAuthRequest(r);if(!a)throw i.setError(Sf.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let s=a.transportType||I9.relay;s===I9.relay&&await this.confirmOnlineStateOrThrow();let o=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),c=AN(o),d={type:1,receiverPublicKey:o,senderPublicKey:l},u=[],h=[];for(let e of n){if(!await Cj({cacao:e,projectId:this.client.core.projectId})){i.setError(Sf.invalid_cacao);let e=A7("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:c,error:e,encodeOpts:d}),Error(e.message)}i.addTrace(Sp.cacaos_verified);let{p:t}=e,n=CL(t.resources),a=[CT(t.iss)],s=CP(t.iss);if(n){let e=CR(n),t=CD(n);u.push(...e),a.push(...t)}for(let e of a)h.push(`${e}:${s}`)}let p=await this.client.core.crypto.generateSharedKey(l,o);if(i.addTrace(Sp.create_authenticated_session_topic),u?.length>0){t={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:o,metadata:a.requester.metadata},controller:o,expiry:_O(PK),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:A4([...new Set(u)],[...new Set(h)]),transportType:s},i.addTrace(Sp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:s})}catch(e){throw i.setError(Sf.subscribe_authenticated_session_topic_failure),e}i.addTrace(Sp.subscribe_authenticated_session_topic_success),await this.client.session.set(p,t),i.addTrace(Sp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace(Sp.publishing_authenticated_session_approve);try{await this.sendResult({topic:c,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,s)})}catch(e){throw i.setError(Sf.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),jt(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===I9.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),s=AN(i);await this.sendError({id:t,topic:s,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:a},rpcOpts:PJ.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,A7("USER_DISCONNECTED"))}),jt(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return CN(t,r)}),jt(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),jt(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),jt(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:a=0}=e,{self:s}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,A7("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(PV).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,A7("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=PZ.idle),i&&this.client.events.emit("session_delete",{id:a,topic:r})}),jt(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(Sh.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,A7("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),jt(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=PZ.idle,this.client.events.emit("session_request_expire",{id:e}))}),jt(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),jt(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),jt(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,_O(PJ.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),jt(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=I9.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),jt(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,a=n.request.expiryTimestamp||_O(PJ.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,a),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),jt(this,"sendRequest",async e=>{let t,n,{topic:i,method:a,params:s,expiry:o,relayRpcId:l,clientRpcId:c,throwOnFailedPublish:d,appLink:u,tvf:h}=e,p=(0,IG.formatJsonRpcRequest)(a,s,c),f=!!u;try{let e=f?AT:AS;t=await this.client.core.crypto.encode(i,p,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),e}if(PX.includes(a)){let e=AO(JSON.stringify(p)),r=AO(t);n=await this.client.core.verify.register({id:r,decryptedId:e})}let g=PJ[a].req;if(g.attestation=n,o&&(g.ttl=o),l&&(g.id=l),this.client.core.history.set(i,p),f){let e=AV(u,i,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=PJ[a].req;o&&(e.ttl=o),l&&(e.id=l),e.tvf=je(P7({},h),{correlationId:p.id}),d?(e.internal=je(P7({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,t,e)):this.client.core.relayer.publish(i,t,e).catch(e=>this.client.logger.error(e))}return p.id}),jt(this,"sendResult",async e=>{let t,n,i,{id:a,topic:s,result:o,throwOnFailedPublish:l,encodeOpts:c,appLink:d}=e,u=(0,IG.formatJsonRpcResult)(a,o),h=d&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=h?AT:AS;t=await this.client.core.crypto.encode(s,u,je(P7({},c||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),e}try{let e=(n=await this.client.core.history.get(s,a)).request;try{this.shouldSetTVF(e.method,e.params)&&(i=this.getTVFParams(a,e.params,o))}catch(e){this.client.logger.warn("sendResult() -> getTVFParams() failed",e)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${a}) failed`),e}if(h){let e=AV(d,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=PJ[n.request.method].res;e.tvf=je(P7({},i),{correlationId:a}),l?(e.internal=je(P7({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,t,e)):this.client.core.relayer.publish(s,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)}),jt(this,"sendError",async e=>{let t,n,{id:i,topic:a,error:s,encodeOpts:o,rpcOpts:l,appLink:c}=e,d=(0,IG.formatJsonRpcError)(i,s),u=c&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=u?AT:AS;t=await this.client.core.crypto.encode(a,d,je(P7({},o||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${a} failed`),e}try{n=await this.client.core.history.get(a,i)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${a}, ${i}) failed`),e}if(u){let e=AV(c,a,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=n.request.method,r=l||PJ[e].res;this.client.core.relayer.publish(a,t,r)}await this.client.core.history.resolve(d)}),jt(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;_$(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{_$(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),jt(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),jt(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),jt(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===PZ.active)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=PZ.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=PZ.idle}),jt(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:a}=e,s=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:s}))switch(s){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:a,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:a,transportType:i});default:return this.client.logger.info(`Unsupported request method ${s}`)}}),jt(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),jt(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=A9("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),jt(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),jt(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:a,id:s}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(Sd.proposal_listener_not_found)),this.isValidConnect(P7({},r.params));let o=a.expiryTimestamp||_O(PJ.wc_sessionPropose.req.ttl),l=P7({id:s,pairingTopic:t,expiryTimestamp:o},a);await this.setProposal(s,l);let c=await this.getVerifyContext({attestationId:n,hash:AO(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});e?.addTrace(Sc.emit_session_proposal),this.client.events.emit("session_proposal",{id:s,params:l,verifyContext:c})}catch(e){await this.sendError({id:s,topic:t,error:e,rpcOpts:PJ.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),jt(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if((0,IG.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let a=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let s=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});let o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});let l=await this.client.core.crypto.generateSharedKey(s,o);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:e,proposalId:n,publicKey:s});let c=await this.client.core.relayer.subscribe(l,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if((0,IG.isJsonRpcError)(t)){await this.client.proposal.delete(n,A7("USER_DISCONNECTED"));let e=_M("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),jt(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:a,namespaces:s,sessionProperties:o,scopedProperties:l,sessionConfig:c}=t.params,d=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);let u=this.client.proposal.get(d.proposalId),h=je(P7(P7(P7({topic:e,relay:r,expiry:a,namespaces:s,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:u.requiredNamespaces,optionalNamespaces:u.optionalNamespaces,controller:i.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},o&&{sessionProperties:o}),l&&{scopedProperties:l}),c&&{sessionConfig:c}),{transportType:I9.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(_M("session_connect",d.proposalId),{session:h}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jt(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,IG.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(_M("session_approve",r),{})):(0,IG.isJsonRpcError)(t)&&(await this.client.session.delete(e,A7("USER_DISCONNECTED")),this.events.emit(_M("session_approve",r),{error:t.error}))}),jt(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=Iy.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:A7("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(P7({topic:e},r));try{Iy.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0})}catch(e){throw Iy.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),jt(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),jt(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=_M("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("session_update",r),{}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("session_update",r),{error:t.error})}),jt(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,_O(PK)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jt(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=_M("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("session_extend",r),{}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("session_extend",r),{error:t.error})}),jt(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jt(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=_M("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("session_ping",r),{}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("session_ping",r),{error:t.error})},500)}),jt(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(t=>{this.client.core.relayer.once(I4.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:A7("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),jt(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:a,attestation:s,encryptedId:o,transportType:l}=e,{id:c,params:d}=a;try{await this.isValidRequest(P7({topic:i},d));let e=this.client.session.get(i),a=await this.getVerifyContext({attestationId:s,hash:AO(JSON.stringify((0,IG.formatJsonRpcRequest)("wc_sessionRequest",d,c))),encryptedId:o,metadata:e.peer.metadata,transportType:l}),u={id:c,topic:i,params:d,verifyContext:a};await this.setPendingSessionRequest(u),l===I9.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(u):(this.addSessionRequestToSessionRequestQueue(u),this.processSessionRequestQueue())}catch(e){await this.sendError({id:c,topic:i,error:e}),this.client.logger.error(e)}}),jt(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=_M("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("session_request",r),{result:t.result}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("session_request",r),{error:t.error})}),jt(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=Iy.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(P7({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),Iy.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jt(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,IG.isJsonRpcResult)(t)?this.events.emit(_M("session_request",r),{result:t.result}):(0,IG.isJsonRpcError)(t)&&this.events.emit(_M("session_request",r),{error:t.error})}),jt(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:a,transportType:s}=e;try{let{requester:e,authPayload:o,expiryTimestamp:l}=n.params,c=await this.getVerifyContext({attestationId:i,hash:AO(JSON.stringify(n)),encryptedId:a,metadata:e.metadata,transportType:s}),d={requester:e,pairingTopic:r,id:n.id,authPayload:o,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:d,pairingTopic:r,transportType:s}),s===I9.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:c})}catch(a){this.client.logger.error(a);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,s);await this.sendError({id:n.id,topic:r,error:a,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:PJ.wc_sessionAuthenticate.autoReject,appLink:i})}}),jt(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),jt(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=PZ.idle,this.processSessionRequestQueue()},(0,E4.toMiliseconds)(this.requestQueueDelay))}),jt(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=_M("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(_M("session_request",e.request.id),{error:t})})}),jt(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===PZ.active)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.sessionRequestQueue.state=PZ.active,this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),jt(this,"emitSessionRequest",e=>{this.client.events.emit("session_request",e)}),jt(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,IG.formatJsonRpcRequest)("wc_sessionPropose",je(P7({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id)})}),jt(this,"isValidConnect",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:a,relays:s}=e;if(Ir(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&Ie(e)&&e.length&&e.forEach(e=>{r=Ic(e)}),r}(s,!0)){let{message:e}=A9("MISSING_OR_INVALID",`connect() relays: ${s}`);throw Error(e)}if(Ir(r)||0===It(r)||this.validateNamespaces(r,"requiredNamespaces"),Ir(n)||0===It(n)||this.validateNamespaces(n,"optionalNamespaces"),Ir(i)||this.validateSessionProps(i,"sessionProperties"),!Ir(a)){this.validateSessionProps(a,"scopedProperties");let e=Object.keys(r||{}).concat(Object.keys(n||{}));if(!Object.keys(a).every(t=>e.includes(t)))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),jt(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&It(e)){let i,a=Io(e,t);a&&(n=a);let s=(i=null,Object.entries(e).forEach(([e,n])=>{var a,s;let o;if(i)return;let l=(a=_l(e,n),s=`${t} ${r}`,o=null,Ie(a)&&a.length?a.forEach(e=>{o||Ia(e)||(o=A7("UNSUPPORTED_CHAINS",`${s}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):Ia(e)||(o=A7("UNSUPPORTED_CHAINS",`${s}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o);l&&(i=l)}),i);s&&(n=s)}else n=A9("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)}),jt(this,"isValidApprove",async e=>{if(!Id(e))throw Error(A9("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:a}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let s=this.client.proposal.get(t),o=Il(r,"approve()");if(o)throw Error(o.message);let l=Ih(s.requiredNamespaces,r,"approve()");if(l)throw Error(l.message);if(!In(n,!0)){let{message:e}=A9("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(Ir(i)||this.validateSessionProps(i,"sessionProperties"),!Ir(a)){this.validateSessionProps(a,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(a).every(t=>e.has(t)))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),jt(this,"isValidReject",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!Ii(e.code,!1)||!e.message||!In(e.message,!1))}(r)){let{message:e}=A9("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),jt(this,"isValidSessionSettleRequest",e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!Ic(t)){let{message:e}=A9("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let a=function(e,t){let r=null;return In(e?.publicKey,!1)||(r=A9("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(a)throw Error(a.message);let s=Il(n,"onSessionSettleRequest()");if(s)throw Error(s.message);if(_$(i)){let{message:e}=A9("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),jt(this,"isValidUpdate",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=Il(r,"update()");if(i)throw Error(i.message);let a=Ih(n.requiredNamespaces,r,"update()");if(a)throw Error(a.message)}),jt(this,"isValidExtend",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),jt(this,"isValidRequest",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:a}=this.client.session.get(t);if(!Iu(a,n)){let{message:e}=A9("MISSING_OR_INVALID",`request() chainId: ${n}`);throw Error(e)}if(!function(e){return!(Ir(e)||!In(e.method,!1))}(r)){let{message:e}=A9("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!function(e,t,r){return!!In(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{A2(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}(a,n,r.method)){let{message:e}=A9("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(i&&!function(e,t){return Ii(e,!1)&&e<=t.max&&e>=t.min}(i,PY)){let{message:e}=A9("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${PY.min} and ${PY.max}`);throw Error(e)}}),jt(this,"isValidRespond",async e=>{var t;if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(Ir(e)||Ir(e.result)&&Ir(e.error)||!Ii(e.id,!1)||!In(e.jsonrpc,!1))}(n)){let{message:e}=A9("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}}),jt(this,"isValidPing",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),jt(this,"isValidEmit",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);let{namespaces:i}=this.client.session.get(t);if(!Iu(i,n)){let{message:e}=A9("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw Error(e)}if(!function(e){return!(Ir(e)||!In(e.name,!1))}(r)||!function(e,t,r){return!!In(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{A2(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}(i,n,r.name)){let{message:e}=A9("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}}),jt(this,"isValidDisconnect",async e=>{if(!Id(e)){let{message:t}=A9("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),jt(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!In(r,!1))throw Error("uri is required parameter");if(!In(n,!1))throw Error("domain is required parameter");if(!In(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>_a(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=_a(t[0]);if("eip155"!==a)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),jt(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:a}=e,s={verified:{verifyUrl:i.verifyUrl||Ss,validation:"UNKNOWN",origin:i.url||""}};try{if(a===I9.link_mode){let e=this.getAppLinkIfEnabled(i,a);return s.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",s}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(s.verified.origin=e.origin,s.verified.isScam=e.isScam,s.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(s)}`),s}),jt(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=A9("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),jt(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),jt(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),jt(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=A9("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),jt(this,"isLinkModeEnabled",(e,t)=>{var n,i,a,s,o,l,c,d,u;return!!e&&t===I9.link_mode&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(s=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:s.universal)!==void 0&&(null==(l=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:l.universal)!==""&&(null==(c=e?.redirect)?void 0:c.universal)!==void 0&&(null==(d=e?.redirect)?void 0:d.universal)!==""&&(null==(u=e?.redirect)?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)}),jt(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),jt(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=_U(e,"topic")||"",r=decodeURIComponent(_U(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:I9.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),jt(this,"registerLinkModeListeners",async()=>{var e;if(_B()||_b()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),jt(this,"shouldSetTVF",(e,t)=>{if(!t||"wc_sessionRequest"!==e)return!1;let{request:r}=t;return Object.keys(PQ).includes(r.method)}),jt(this,"getTVFParams",(e,t,r)=>{var n,i;try{let a=t.request.method,s=this.extractTxHashesFromResult(a,r);return je(P7({correlationId:e,rpcMethods:[a],chainId:t.chainId},this.isValidContractData(t.request.params)&&{contractAddresses:[null==(i=null==(n=t.request.params)?void 0:n[0])?void 0:i.to]}),{txHashes:s})}catch(e){this.client.logger.warn("Error getting TVF params",e)}return{}}),jt(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),jt(this,"extractTxHashesFromResult",(e,t)=>{try{let r=PQ[e];if("string"==typeof t)return[t];let n=t[r.key];if(Ie(n))return"solana_signAllTransactions"===e?n.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=_i.from(e,"base64").slice(1,65);return E7.A.encode(i)})(e)):n;if("string"==typeof n)return[n]}catch(e){this.client.logger.warn("Error extracting tx hashes from result",e)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=A9("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(I4.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(P1)?this.client.auth.authKeys.get(P1):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:a,encoding:i===I9.link_mode?AT:AS});(0,IG.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:AO(r)})):(0,IG.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(Sa.expired,async e=>{let{topic:t,id:r}=_N(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,A9("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,A9("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(Sn.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Sn.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!In(e,!1)){let{message:t}=A9("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=A9("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(_$(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=A9("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!In(e,!1)){let{message:t}=A9("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=A9("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(_$(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=A9("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=A9("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(In(e,!1)){let{message:t}=A9("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=A9("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=A9("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=A9("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(_$(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=A9("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class jn extends Ps{constructor(e,t){super(e,t,"proposal",Pq),this.core=e,this.logger=t}}class ji extends Ps{constructor(e,t){super(e,t,"session",Pq),this.core=e,this.logger=t}}class ja extends Ps{constructor(e,t){super(e,t,"request",Pq,e=>e.id),this.core=e,this.logger=t}}class js extends Ps{constructor(e,t){super(e,t,"authKeys",P0,()=>P1),this.core=e,this.logger=t}}class jo extends Ps{constructor(e,t){super(e,t,"pairingTopics",P0),this.core=e,this.logger=t}}class jl extends Ps{constructor(e,t){super(e,t,"requests",P0,e=>e.id),this.core=e,this.logger=t}}var jc=Object.defineProperty,jd=(e,t,r)=>t in e?jc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ju=(e,t,r)=>jd(e,"symbol"!=typeof t?t+"":t,r);class jh{constructor(e,t){this.core=e,this.logger=t,ju(this,"authKeys"),ju(this,"pairingTopics"),ju(this,"requests"),this.authKeys=new js(this.core,this.logger),this.pairingTopics=new jo(this.core,this.logger),this.requests=new jl(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var jp=Object.defineProperty,jf=(e,t,r)=>t in e?jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jg=(e,t,r)=>jf(e,"symbol"!=typeof t?t+"":t,r);class jm extends Iz{constructor(e){super(e),jg(this,"protocol","wc"),jg(this,"version",2),jg(this,"name",PH.name),jg(this,"metadata"),jg(this,"core"),jg(this,"logger"),jg(this,"events",new E2.EventEmitter),jg(this,"engine"),jg(this,"session"),jg(this,"proposal"),jg(this,"pendingRequest"),jg(this,"auth"),jg(this,"signConfig"),jg(this,"on",(e,t)=>this.events.on(e,t)),jg(this,"once",(e,t)=>this.events.once(e,t)),jg(this,"off",(e,t)=>this.events.off(e,t)),jg(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),jg(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),jg(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),jg(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),jg(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||PH.name,this.metadata=function(e){var t,r;let n=_C();try{return null!=e&&e.url&&n.url&&e.url!==n.url&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),_y(_m(_m({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(t){return console.warn("Error populating app metadata",t),e||n}}(e?.metadata),this.signConfig=e?.signConfig;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,Ib.h6)((0,Ib.iP)({level:e?.logger||PH.logger}));this.core=e?.core||new PW(e),this.logger=(0,Ib.U5)(t,this.name),this.session=new ji(this.core,this.logger),this.proposal=new jn(this.core,this.logger),this.pendingRequest=new ja(this.core,this.logger),this.engine=new jr(this),this.auth=new jh(this.core,this.logger)}static async init(e){let t=new jm(e);return await t.initialize(),t}get context(){return(0,Ib.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,E4.toMiliseconds)(E4.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var jy=r(86906),jw=r(72076).Buffer;let jv="error",jb="wc@2:universal_provider:",jx="https://rpc.walletconnect.org/v1/",jE="generic",j_=`${jx}bundler`,jC={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function jk(){}function jA(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function jI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jS(e){return"object"==typeof e&&null!==e}function jT(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function jP(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let jj="[object String]",jN="[object Number]",jO="[object Boolean]",j$="[object Arguments]";function jM(e,t,r,n=new Map,i){let a=i?.(e,t,r,n);if(null!=a)return a;if(jA(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=jM(e[a],a,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[a,s]of(n.set(e,t),e))t.set(a,jM(s,a,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let a of(n.set(e,t),e))t.add(jM(a,void 0,r,n,i));return t}if("u">typeof jw&&jw.isBuffer(e))return e.subarray();if(jI(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=jM(e[a],a,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),jR(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),jR(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),jR(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,jR(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(jP(e)){case j$:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case jO:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case jN:case"[object Object]":case"[object RegExp]":case"[object Set]":case jj:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),jR(t,e,r,n,i),t}return e}function jR(e,t,r=e,n,i){let a=[...Object.keys(t),...jT(t)];for(let s=0;s<a.length;s++){let o=a[s],l=Object.getOwnPropertyDescriptor(e,o);(null==l||l.writable)&&(e[o]=jM(t[o],o,r,n,i))}}function jD(e){var t;return t=(t,r,n,i)=>{let a=void 0;if(null!=a)return a;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case jN:case jj:case jO:{let t=new e.constructor(e?.valueOf());return jR(t,e),t}case j$:{let t={};return jR(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},jM(e,void 0,e,new Map,t)}function jL(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===jP(e)}var jU=Object.defineProperty,jF=Object.defineProperties,jB=Object.getOwnPropertyDescriptors,jW=Object.getOwnPropertySymbols,jz=Object.prototype.hasOwnProperty,jq=Object.prototype.propertyIsEnumerable,jH=(e,t,r)=>t in e?jU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jV=(e,t)=>{for(var r in t||(t={}))jz.call(t,r)&&jH(e,r,t[r]);if(jW)for(var r of jW(t))jq.call(t,r)&&jH(e,r,t[r]);return e},jG=(e,t)=>jF(e,jB(t));function jK(e,t,r){var n;let i=_a(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${jx}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function jJ(e){return e.includes(":")?e.split(":")[1]:e}function jY(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function jZ(e={},t={}){return function(e,...t){return function(e,...t){let r=t.slice(0,-1),n=t[t.length-1],i=e;for(let e=0;e<r.length;e++)i=function e(t,r,n,i){if(jA(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(jA(e))return e;if(Array.isArray(e)||jI(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]=r[e]??void 0}let a=[...Object.keys(r),...jT(r)];for(let s=0;s<a.length;s++){let o=a[s],l=r[o],c=t[o];if(jL(l)&&(l={...l}),jL(c)&&(c={...c}),"u">typeof jw&&jw.isBuffer(l)&&(l=jD(l)),Array.isArray(l))if("object"==typeof c&&null!=c){let e=[],t=Reflect.ownKeys(c);for(let r=0;r<t.length;r++){let n=t[r];e[n]=c[n]}c=e}else c=[];let d=n(c,l,o,t,r,i);null!=d?t[o]=d:Array.isArray(l)||jS(c)&&jS(l)?t[o]=e(c,l,n,i):null==c&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(l)?t[o]=e({},l,n,i):null==c&&jI(l)?t[o]=jD(l):(void 0===c||void 0!==l)&&(t[o]=l)}return t}(i,r[e],n,new Map);return i}(e,...t,jk)}(jQ(e),jQ(t))}function jQ(e){var t,r,n,i;let a={};if(!It(e))return a;for(let[s,o]of Object.entries(e)){let e=A3(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],d=o.rpcMap||{},u=A5(s);a[u]=jG(jV(jV({},a[u]),o),{chains:_R(e,null==(t=a[u])?void 0:t.chains),methods:_R(l,null==(r=a[u])?void 0:r.methods),events:_R(c,null==(n=a[u])?void 0:n.events),rpcMap:jV(jV({},d),null==(i=a[u])?void 0:i.rpcMap)})}return a}function jX(e){return e.includes(":")?e.split(":")[2]:e}function j0(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],a=n.accounts||[],s=A3(r)?[r]:n.chains?n.chains:jY(n.accounts);t[r]={chains:s,methods:e,events:i,accounts:a}}return t}function j1(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let j2={},j3=e=>j2[e],j5=(e,t)=>{j2[e]=t};var j4=Object.defineProperty,j6=(e,t,r)=>t in e?j4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,j8=(e,t,r)=>j6(e,"symbol"!=typeof t?t+"":t,r);class j9{constructor(e){j8(this,"name","polkadot"),j8(this,"client"),j8(this,"httpProviders"),j8(this,"events"),j8(this,"namespace"),j8(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=jJ(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var j7=Object.defineProperty,Ne=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Nr=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable,Na=(e,t,r)=>t in e?j7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ns=(e,t)=>{for(var r in t||(t={}))Nn.call(t,r)&&Na(e,r,t[r]);if(Nr)for(var r of Nr(t))Ni.call(t,r)&&Na(e,r,t[r]);return e},No=(e,t)=>Ne(e,Nt(t)),Nl=(e,t,r)=>Na(e,"symbol"!=typeof t?t+"":t,r);class Nc{constructor(e){Nl(this,"name","eip155"),Nl(this,"client"),Nl(this,"chainId"),Nl(this,"namespace"),Nl(this,"httpProviders"),Nl(this,"events"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||jK(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.V(r,j3("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(jJ(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n;let i=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0];if(!i)throw Error("Missing address parameter in `wallet_getCapabilities` request");let a=this.client.session.get(e.topic),s=(null==(n=a?.sessionProperties)?void 0:n.capabilities)||{};if(null!=s&&s[i])return s?.[i];let o=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:No(Ns({},a.sessionProperties||{}),{capabilities:No(Ns({},s||{}),{[i]:o})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return o}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let a=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,IG.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${j_}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var Nd=Object.defineProperty,Nu=(e,t,r)=>t in e?Nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nh=(e,t,r)=>Nu(e,"symbol"!=typeof t?t+"":t,r);class Np{constructor(e){Nh(this,"name","solana"),Nh(this,"client"),Nh(this,"httpProviders"),Nh(this,"events"),Nh(this,"namespace"),Nh(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=jJ(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var Nf=Object.defineProperty,Ng=(e,t,r)=>t in e?Nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nm=(e,t,r)=>Ng(e,"symbol"!=typeof t?t+"":t,r);class Ny{constructor(e){Nm(this,"name","cosmos"),Nm(this,"client"),Nm(this,"httpProviders"),Nm(this,"events"),Nm(this,"namespace"),Nm(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=jJ(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var Nw=Object.defineProperty,Nv=(e,t,r)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nb=(e,t,r)=>Nv(e,"symbol"!=typeof t?t+"":t,r);class Nx{constructor(e){Nb(this,"name","algorand"),Nb(this,"client"),Nb(this,"httpProviders"),Nb(this,"events"),Nb(this,"namespace"),Nb(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||jK(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new IV.F(new jy.A(r,j3("disableProviderPing")))}}var NE=Object.defineProperty,N_=(e,t,r)=>t in e?NE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NC=(e,t,r)=>N_(e,"symbol"!=typeof t?t+"":t,r);class Nk{constructor(e){NC(this,"name","cip34"),NC(this,"client"),NC(this,"httpProviders"),NC(this,"events"),NC(this,"namespace"),NC(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=jJ(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var NA=Object.defineProperty,NI=(e,t,r)=>t in e?NA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NS=(e,t,r)=>NI(e,"symbol"!=typeof t?t+"":t,r);class NT{constructor(e){NS(this,"name","elrond"),NS(this,"client"),NS(this,"httpProviders"),NS(this,"events"),NS(this,"namespace"),NS(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=jJ(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var NP=Object.defineProperty,Nj=(e,t,r)=>t in e?NP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NN=(e,t,r)=>Nj(e,"symbol"!=typeof t?t+"":t,r);class NO{constructor(e){NN(this,"name","multiversx"),NN(this,"client"),NN(this,"httpProviders"),NN(this,"events"),NN(this,"namespace"),NN(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=jJ(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var N$=Object.defineProperty,NM=(e,t,r)=>t in e?N$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NR=(e,t,r)=>NM(e,"symbol"!=typeof t?t+"":t,r);class ND{constructor(e){NR(this,"name","near"),NR(this,"client"),NR(this,"httpProviders"),NR(this,"events"),NR(this,"namespace"),NR(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||jK(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace);return typeof r>"u"?void 0:new IV.F(new jy.A(r,j3("disableProviderPing")))}}var NL=Object.defineProperty,NU=(e,t,r)=>t in e?NL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NF=(e,t,r)=>NU(e,"symbol"!=typeof t?t+"":t,r);class NB{constructor(e){NF(this,"name","tezos"),NF(this,"client"),NF(this,"httpProviders"),NF(this,"events"),NF(this,"namespace"),NF(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||jK(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace);return typeof r>"u"?void 0:new IV.F(new jy.A(r))}}var NW=Object.defineProperty,Nz=(e,t,r)=>t in e?NW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nq=(e,t,r)=>Nz(e,"symbol"!=typeof t?t+"":t,r);class NH{constructor(e){Nq(this,"name",jE),Nq(this,"client"),Nq(this,"httpProviders"),Nq(this,"events"),Nq(this,"namespace"),Nq(this,"chainId"),this.namespace=e.namespace,this.events=j3("events"),this.client=j3("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(jC.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{let t=_a(e);r[`${t.namespace}:${t.reference}`]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||jK(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new IV.F(new jy.A(r,j3("disableProviderPing")))}}var NV=Object.defineProperty,NG=Object.defineProperties,NK=Object.getOwnPropertyDescriptors,NJ=Object.getOwnPropertySymbols,NY=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,NQ=(e,t,r)=>t in e?NV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NX=(e,t)=>{for(var r in t||(t={}))NY.call(t,r)&&NQ(e,r,t[r]);if(NJ)for(var r of NJ(t))NZ.call(t,r)&&NQ(e,r,t[r]);return e},N0=(e,t)=>NG(e,NK(t)),N1=(e,t,r)=>NQ(e,"symbol"!=typeof t?t+"":t,r);class N2{constructor(e){N1(this,"client"),N1(this,"namespaces"),N1(this,"optionalNamespaces"),N1(this,"sessionProperties"),N1(this,"scopedProperties"),N1(this,"events",new(E3())),N1(this,"rpcProviders",{}),N1(this,"session"),N1(this,"providerOpts"),N1(this,"logger"),N1(this,"uri"),N1(this,"disableProviderPing",!1),this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,Ib.h6)((0,Ib.iP)({level:e?.logger||jv})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new N2(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:NX({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,IG.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:A7("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=j0(this.session.namespaces);this.namespaces=jZ(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=j0(n.namespaces);return this.namespaces=jZ(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e),i=this.getProvider(r);i.name===jE?i.setDefaultChain(`${r}:${n}`,t):i.setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(Ie(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await jm.init({core:this.providerOpts.core,logger:this.providerOpts.logger||jv,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>A5(e)))];j5("client",this.client),j5("events",this.events),j5("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session),r=jY(t),n=N0(NX({},jZ(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new Nc({namespace:n});break;case"algorand":this.rpcProviders[e]=new Nx({namespace:n});break;case"solana":this.rpcProviders[e]=new Np({namespace:n});break;case"cosmos":this.rpcProviders[e]=new Ny({namespace:n});break;case"polkadot":this.rpcProviders[e]=new j9({namespace:n});break;case"cip34":this.rpcProviders[e]=new Nk({namespace:n});break;case"elrond":this.rpcProviders[e]=new NT({namespace:n});break;case"multiversx":this.rpcProviders[e]=new NO({namespace:n});break;case"near":this.rpcProviders[e]=new ND({namespace:n});break;case"tezos":this.rpcProviders[e]=new NB({namespace:n});break;default:this.rpcProviders[jE]?this.rpcProviders[jE].updateNamespace(n):this.rpcProviders[jE]=new NH({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&Ie(e)&&this.events.emit("accountsChanged",e.map(jX))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=A5(e),i=j1(e)!==j1(t)?`${n}:${j1(t)}`:e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;let{namespaces:i}=t,a=null==(n=this.client)?void 0:n.session.get(e);this.session=N0(NX({},a),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",N0(NX({},A7("USER_DISCONNECTED")),{data:e.topic})))}),this.on(jC.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[jE]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:n,scopedProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>A5(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=A5(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(r,n),this.events.emit("chainChanged",n);let i=this.getProvider(r).getDefaultChain();t||this.getProvider(r).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:r}){var n,i;try{if(t===r)return;let a=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!a)return;let s=a.filter(e=>e.includes(`${r}:`)).map(jX);if(!Ie(s))return;this.events.emit("accountsChanged",s)}catch(e){this.logger.warn("Failed to emit accountsChanged on chain change",e)}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:`${e}:${t}`;this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${jb}/${e}${n}`,t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${jb}/${e}${r}`)}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${jb}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(jb)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn("Failed to cleanup storage",e)}}}let N3=["eth_sendTransaction","personal_sign"],N5=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],N4=["chainChanged","accountsChanged"],N6=["chainChanged","accountsChanged","message","disconnect","connect"];var N8=Object.defineProperty,N9=Object.defineProperties,N7=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,On=(e,t,r)=>t in e?N8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oi=(e,t)=>{for(var r in t||(t={}))Ot.call(t,r)&&On(e,r,t[r]);if(Oe)for(var r of Oe(t))Or.call(t,r)&&On(e,r,t[r]);return e},Oa=(e,t)=>N9(e,N7(t)),Os=(e,t,r)=>On(e,"symbol"!=typeof t?t+"":t,r);function Oo(e){return Number(e[0].split(":")[1])}function Ol(e){return`0x${e.toString(16)}`}class Oc{constructor(){Os(this,"events",new E2.EventEmitter),Os(this,"namespace","eip155"),Os(this,"accounts",[]),Os(this,"signer"),Os(this,"chainId",1),Os(this,"modal"),Os(this,"rpc"),Os(this,"STORAGE_KEY","wc@2:ethereum_provider:"),Os(this,"on",(e,t)=>(this.events.on(e,t),this)),Os(this,"once",(e,t)=>(this.events.once(e,t),this)),Os(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),Os(this,"off",(e,t)=>(this.events.off(e,t),this)),Os(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){let t=new Oc;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:r}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:a,optionalEvents:s,rpcMap:o}=e;if(!Ie(t))throw Error("Invalid chains");let l={chains:t,methods:n||N3,events:a||N4,rpcMap:Oi({},t.length?{[Oo(t)]:o[Oo(t)]}:{})},c=a?.filter(e=>!N4.includes(e)),d=n?.filter(e=>!N3.includes(e));if(!r&&!s&&!i&&!(null!=c&&c.length)&&!(null!=d&&d.length))return{required:t.length?l:void 0};let u={chains:[...new Set(c?.length&&d?.length||!r?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(null!=i&&i.length?i:N5))],events:[...new Set(l.events.concat(null!=s&&s.length?s:N6))],rpcMap:o};return{required:t.length?l:void 0,optional:r.length?u:void 0}}(this.rpc);try{let n=await new Promise(async(n,i)=>{var a;this.rpc.showQrModal&&(null==(a=this.modal)||a.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))}));let s=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Oa(Oi({namespaces:Oi({},t&&{[this.namespace]:t})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic,scopedProperties:s})).then(e=>{n(e)}).catch(e=>{i(Error(e.message))})});if(!n)return;let i=_o(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:Ol(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async authenticate(e,t){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{let r=await new Promise(async(r,n)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Oa(Oi({},e),{chains:this.rpc.chains}),t).then(e=>{r(e)}).catch(e=>{n(Error(e.message))})}),n=r.session;if(n){let e=_o(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:Ol(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Ol(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Oa(Oi({},A7("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,r;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(r=this.modal)||r.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Ol(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],a=n.concat(i);if(!a.length)throw Error("No chains specified in either `chains` or `optionalChains`");let s=n.length?e?.methods||N3:[],o=n.length?e?.events||N4:[],l=e?.optionalMethods||[],c=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(a,e.projectId),u=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:s,events:o,optionalMethods:l,optionalEvents:c,rpcMap:d,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:u,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Oo(this.rpc.chains):Oo(this.rpc.optionalChains),this.signer=await N2.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let{WalletConnectModal:t}=await r.e(491).then(r.bind(r,20491));e=t}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(Oi({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&Ie(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&Ie(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var Od=r(3951),Ou=r(32214);function Oh(e){return crypto.getRandomValues(new Uint8Array(e))}function Op(){let[e]=Oh(1);return e}function Of(){let[e,t]=Oh(2);return(e<<8)+t}var Og=r(15139);let Om=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),Oy=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}),Ow=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}),Ov=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}),Ob=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}),Ox=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}),OE=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}),O_=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}),OC=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}),f.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}),Ok=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),OA=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});var OI=r(63739);let OS=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}),OT=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),OP=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}),Oj=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}),ON=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}),OO=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),O$=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}),OM=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}),OR=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}),OD=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}),OL=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}),OU=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}),OF=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),OB=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}),OW=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}),Oz=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}),Oq=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))});var OH=r(22066);let OV=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}(),OG=OV.fetch?(...e)=>OV.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),OK=OV.Headers,OJ=OV.AbortController,OY=(0,OH.c)({fetch:OG,Headers:OK,AbortController:OJ}),OZ=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}),OQ=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}),OX=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}),O0=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}),O1=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),O2=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}),O3=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),O5=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}),O4=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),O6=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}),O8=f.forwardRef(function(e,t){let{title:r,titleId:n,...i}=e;return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},i),r?f.createElement("title",{id:n},r):null,f.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});var O9=r(72076).Buffer;function O7(e){return e?{"privy-ui":"t"}:void 0}class $e{async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new l1.P("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(l1.p,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new l1.P("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(l1.c,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw(0,l1.f)(e)}}async sendCodeEmail({email:e,captchaToken:t,withPrivyUi:r}){if(!this.api)throw new l1.P("Auth flow has no API instance");if(e&&(this.meta.email=e),t&&(this.meta.captchaToken=t),!this.meta.email)throw new l1.P("Email must be set when initialzing authentication.");let n=O7(r);try{return await this.api.post(l1.d,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...n}})}catch(e){throw(0,l1.f)(e)}}constructor({email:e,captchaToken:t,disableSignup:r}){this.meta={email:e,captchaToken:t,disableSignup:r??!1}}}class $t extends $e{async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new l1.P("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(l1.e,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw(0,l1.f)(e)}}constructor(e,t,r){super({email:t,captchaToken:r}),this.meta={email:t,captchaToken:r,oldAddress:e,disableSignup:!1}}}class $r{get(e){let t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}put(e,t){void 0!==t?localStorage.setItem(e,JSON.stringify(t)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function $n(){try{let e="privy:__session_storage__test",t=new $r;return t.put(e,"blobby"),t.del(e),!0}catch(e){return!1}}var $i="undefined"!=typeof window&&window.localStorage?new $r:new class{get(e){return this._cache[e]}put(e,t){void 0!==t?this._cache[e]=t:this.del(e)}del(e){delete this._cache[e]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let $a=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isClover?"Clover":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom||"isPhantom"in e?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally||e.isTaho?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0,$s=(e,t)=>{if(!e.isMetaMask)return!1;if(e.isMetaMask&&!t)return!0;if(e.isBraveWallet&&!e._events&&!e._state||"MetaMask"!==$a(e))return!1;if(e.providers){for(let t of e.providers)if(!$s(t))return!1}return!0},$o=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(t&&t.isCoinbaseWallet)return!0}return!1},$l=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new l1.g(`Unsupported chainId ${e}`,4901);return hx({transport:(0,hE.L)($c(a,r,n.appId)),chain:a})},$c=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new l1.g(`No RPC url found for ${i}`);return n},$d=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),$u=(e,t=3,r=4,n="ethereum")=>{if(!e)return"";let i=2*("ethereum"===n);return t+r+i+3>=e.length?e:`${e.slice(0,i+t)}...${e.slice(e.length-r,e.length)}`},$h=(e,t=3,r=4)=>$u(e,t,r,"solana"),$p=e=>new Promise(t=>setTimeout(t,e)),$f=(e,t={})=>{let r=t.delayMs||150,n=t.maxAttempts||270;return new Promise(async(i,a)=>{let s=!1,o=0;for(;!s&&o<n;){if(t.abortSignal?.aborted)return;e().then(e=>{s=!0,i(e)},(...e)=>{s=!0,a(...e)}),o+=1,await $p(r)}s||a(Error("Exceeded max attempts before resolving function"))})},$g=(e,t,r={},n={})=>{let i=new URL(t,e);for(let[e,t]of Object.entries(r))void 0!==t&&i.searchParams.set(e,t);let a=Object.entries(n);if(a.length>0){let e=new URLSearchParams;for(let[t,r]of a)e.append(t,r);i.hash=e.toString()}return i.href},$m=e=>e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),$y=e=>"string"==typeof e?e:"0x"+e.toString(16);async function $w({store:e,walletList:t,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let a=!1,s=window;return new Promise(o=>{function l(){if(a)return;a=!0,window.removeEventListener("ethereum#initialized",l);let i=e.getProviders();console.debug("Detected injected providers:",i.map(e=>e.info));let s=[];for(let e of i)t.includes("coinbase_wallet")&&"com.coinbase.wallet"===e.info.rdns||"solana-only"===n&&"app.phantom"===e.info.rdns||s.push({type:e.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:e});if("solana-only"!==n)for(let e of function(){let e=window,t=e.ethereum;if(!t)return[];let r=[];if(t.providers?.length)for(let e of t.providers)e&&r.push(e);return r.push(e.ethereum),r}()){let t=$a(e);if(!i.some(e=>e.info.name===t)){if($s(e,!0)&&!s.find(e=>"metamask"===e.type)){s.push({type:"metamask",legacyInjectedProvider:e});continue}if("Phantom"===t&&!s.find(e=>"phantom"===e.type)){s.push({type:"phantom",legacyInjectedProvider:e});continue}if("Coinbase Wallet"===t&&!s.find(e=>"coinbase_wallet"===e.type&&"smartWalletOnly"!==r.coinbaseWallet?.config?.preference?.options)){s.push({type:"coinbase_wallet",legacyInjectedProvider:e});continue}s.find(e=>"unknown_browser_extension"===e.type)||s.push({type:"unknown_browser_extension",legacyInjectedProvider:e})}}o(s)}s.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function $v(e){return`eip155:${String(Number(e))}`}let $b=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new l1.g(`Unsupported chainId ${e}`,4901);return $c(a,r,n)},$x=e=>{let t={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=e.types.EIP712Domain??Object.entries(e.domain).map(([e,r])=>{if(null!=r&&"string"==typeof e&&e in t)return{name:e,type:t[e]}}).filter(e=>void 0!==e);return{...e,types:{...e.types,EIP712Domain:r}}},$E=e=>e?.map(e=>({signer_id:e.signerId,override_policy_ids:e.policyIds})),$_=["c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96","4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0","225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f","1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369","c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a","ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18","bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6","74f8092562bd79675e276d8b2062a83601a4106d30202f2d509195e30e19673d","afbd95522f4041c71dd4f1a065f971fd32372865b416f95a0b1db759ae33f2a7","f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d","84b43e8ddfcd18e5fcb5d21e7277733f9cccef76f7d92c836d0e481db0c70c04","0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150","38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662","9414d5a85c8f4eabc1b5b15ebe0cd399e1a2a9d35643ab0ad22a6e4a32f596f0","c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576","8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4","e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4","f5b4eeb6015d66be3f5940a895cbaa49ef3439e518cd771270e6b553b48f31d2","138f51c8d00ac7b9ac9d8dc75344d096a7dfe370a568aa167eabc0a21830ed98","47bb07617af518642f3413a201ec5859faa63acb1dd175ca95085d35d38afb83","7674bb4e353bf52886768a3ddc2a4562ce2f4191c80831291218ebd90f5f5e26","8308656f4548bb81b3508afe355cfbb7f0cb6253d1cc7f998080601f838ecee3","031f0187049b7f96c6f039d1c9c8138ff7a17fd75d38b34350c7182232cc29aa","2c81da3add65899baeac53758a07e652eea46dbb5195b8074772c62a77bbf568","dd43441a6368ec9046540c46c5fdc58f79926d17ce61a176444568ca7c970dcd","2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01","b956da9052132e3dabdcd78feb596d5194c99b7345d8c4bd7a47cabdcb69a25f","0e4915107da5b3408b38e248f7a710f4529d54cd30e9d12ff0eb886d45c18e92","719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3","942d0e22a7e6b520b0a03abcafc4dbe156a1fc151876e3c4a842f914277278ef","8ff6eccefefa7506339201bc33346f92a43118d6ff7d6e71d499d8187a1c56a2","07f99a5d9849bb049d74830012b286f8b238e72b0337933ef22b84947409db80","8821748c25de9dbc4f72a691b25a6ddad9d7df12fa23333fd9c8b5fdc14cc819","bdc9433ffdaee55d31737d83b931caa1f17e30666f5b8e03eea794bac960eb4a","cbe13eb482c76f1fa401ff4c84d9acd0b8bc9af311ca0620a0b192fb28359b4e","94f785c0c8fb8c4f38cd9cd704416430bcaa2137f27e1468782d624bcd155a43","2cca8c1b0bea04ba37dee4017991d348cdb7b826804ab2bd31073254f345b715","14e5d957c6eb62d3ee8fc6239703ac2d537d7e3552154836ca0beef775f630bc","576c90ceaea34f29ff0104837cf2b2e23d201be43be1433feeb18d375430e1fd","49bb9d698dbdf2c3d4627d66f99dd9fe90bba1eec84b143f56c64a51473c60bd","19418ecfd44963883e4d6abca1adeb2036f3b5ffb9bee0ec61f267a9641f878b","5b8e33346dfb2a532748c247876db8d596734da8977905a27b947ba1e2cf465b","d23de318f0f56038c5edb730a083216ff0cce00c1514e619ab32231cc9ec484b","50df7da345f84e5a79aaf617df5167335a4b6751626df2e8a38f07029b3dde7b","9751385960bca290c13b443155288f892f62ee920337eda8c5a8874135daaea8","6464873279d46030c0b6b005b33da6be5ed57a752be3ef1f857dc10eaf8028aa","41f20106359ff63cf732adf1f7dc1a157176c9b02fd266b50da6dcc1e9b86071","14e7176536cb3706e221daaa3cfd7b88b7da8c7dfb64d1d241044164802c6bdd","a0e04f1086aac204d4ebdd5f985c12ed226cd0006323fd8143715f9324da58d1","971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709","18388be9ac2d02726dbac9777c96efaac06d744b2f6d580fccdd4127a6d01fd1","15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f","541d5dcd4ede02f3afaf75bf8e3e4c4f1fb09edb5fa6c4377ebf31c2785d9adf"];function $C(e){return{name:e.metadata?.shortName||e.name||"",universalLink:e.mobile.universal,deepLink:e.mobile.native}}let $k="WALLETCONNECT_DEEPLINK_CHOICE";function $A(e){return e.startsWith("http://")||e.startsWith("https://")}function $I(e,t){if($A(e))return $S(e,t);let r=e;return r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(t)}`,href:r}}function $S(e,t){if(!$A(e))return $I(e,t);let r=e;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(t)}`,href:r}}function $T(e,t){window.open(e,t,"noreferrer noopener")}class $P{execute(e){return null===this.promise&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class $j{get meta(){return this._meta}async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.channelToken)throw new l1.P("Auth flow must be initialized first");try{let e=await this.api.post(l1.h,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new l1.P("No response from authentication");return e}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.i,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw(0,l1.f)(e)}}async _startChannelOnce(){if(!this.api)throw new l1.P("Auth flow has no API instance");let e=await this.api.post(l1.j,{token:this.captchaToken});m.Fr&&!m.un&&e.connect_uri&&$T(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new l1.P("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.channelToken)throw new l1.P("Auth flow must be initialized first");let e=await this.api.get(l1.k,{headers:{"farcaster-channel-token":this.meta.channelToken}});return"completed"===e.state&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,t=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new $P(this._startChannelOnce.bind(this)),this.pollForReady=new $P(this._pollForReady.bind(this)),this._meta.disableSignup=t}}let $N="https://auth.privy.io",$O="privy:token",$$="privy-token",$M="privy:refresh_token",$R="privy:pat",$D="privy:id_token",$L="privy-id-token",$U="privy-session",$F="privy:caid",$B=e=>`privy:guest:${e}`,$W=e=>`privy:cross-app:${e}`,$z="privy:state_code",$q="privy:code_verifier",$H="privy:headless_oauth",$V="privy:oauth_disable_signup",$G=e=>`privy:wallet:${e}`,$K="privy:connectors",$J="privy:connections";function $Y(e){return crypto.getRandomValues(new Uint8Array(e))}function $Z(){return rT($Y(36))}async function $Q(e,t="S256"){return"S256"!=t?e:rT(await async function(e){let t=(new TextEncoder).encode(e);return new Uint8Array(await crypto.subtle.digest("SHA-256",t))}(e))}class $X{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new l1.P("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if("undefined"===this.meta.authorizationCode)throw new l1.P("User denied confirmation during OAuth flow");let e=function(){let e=$i.get($q);if(!e)throw new l1.P("Authentication error.");return e}();try{let t=await this.api.post(l1.o,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return $i.del($q),$i.del($H),$i.del($V),t}catch(t){let e=(0,l1.f)(t);if(e.privyErrorCode)throw new l1.P(e.message||"Invalid code during OAuth flow.",void 0,e.privyErrorCode);if("User denied confirmation during OAuth flow"===e.message)throw new l1.P("Invalid code during oauth flow.",void 0,l1.a.OAUTH_USER_DENIED);throw new l1.P("Invalid code during OAuth flow.",void 0,l1.a.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new l1.P("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if("undefined"===this.meta.authorizationCode)throw new l1.P("User denied confirmation during OAuth flow");let e=$i.get($q);if(!e)throw new l1.P("Authentication error.");try{let t=await this.api.post(l1.l,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return $i.del($q),t}catch(e){throw(0,l1.f)(e)}}async getAuthorizationUrl(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.provider)throw new l1.P("Provider must be set when initializing OAuth authentication.");let e=$Z();$i.put($q,e);let t=$Z();$i.put($z,t);let r=await $Q(e);this.meta.withPrivyUi||$i.put($H,!0),this.meta.disableSignup?$i.put($V,!0):$i.del($V);let n=O7(this.meta.withPrivyUi);try{return await this.api.post(l1.m,{provider:this.meta.provider,redirect_to:window.location.href,token:this.meta.captchaToken,code_challenge:r,state_code:t},{headers:{...n}})}catch(e){throw(0,l1.f)(e)}}constructor(e){this.meta=e}}function $0(e){return e.charAt(0).toUpperCase()+e.slice(1)}let $1=({style:e,...t})=>(0,p.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{height:"24px",...e},...t,children:[(0,p.jsx)("path",{d:"M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z",fill:"currentColor"})]}),$2=({style:e,...t})=>(0,p.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 71 55",style:{height:"24px",...e},...t,children:[(0,p.jsx)("g",{clipPath:"url(#clip0)",children:(0,p.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#5865F2"})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0",children:(0,p.jsx)("rect",{width:"71",height:"55",fill:"white"})})})]}),$3=({style:e,...t})=>(0,p.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"24",y:"24",viewBox:"0 0 98 96",style:{height:"24px",...e},...t,children:(0,p.jsx)("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})}),$5=({style:e})=>(0,p.jsx)(Oq,{style:{color:"var(--privy-color-error)",...e}}),$4=({style:e,...t})=>(0,p.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,p.jsx)("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.255H17.92C17.665 15.63 16.89 16.795 15.725 17.575V20.335H19.28C21.36 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),(0,p.jsx)("path",{d:"M12 23C14.97 23 17.46 22.015 19.28 20.335L15.725 17.575C14.74 18.235 13.48 18.625 12 18.625C9.13504 18.625 6.71004 16.69 5.84504 14.09H2.17004V16.94C3.98004 20.535 7.70004 23 12 23Z",fill:"#34A853"}),(0,p.jsx)("path",{d:"M5.845 14.09C5.625 13.43 5.5 12.725 5.5 12C5.5 11.275 5.625 10.57 5.845 9.91V7.06H2.17C1.4 8.59286 0.999321 10.2846 1 12C1 13.775 1.425 15.455 2.17 16.94L5.845 14.09Z",fill:"#FBBC05"}),(0,p.jsx)("path",{d:"M12 5.375C13.615 5.375 15.065 5.93 16.205 7.02L19.36 3.865C17.455 2.09 14.965 1 12 1C7.70004 1 3.98004 3.465 2.17004 7.06L5.84504 9.91C6.71004 7.31 9.13504 5.375 12 5.375Z",fill:"#EA4335"})]});function $6(e){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...e,children:[(0,p.jsxs)("defs",{children:[(0,p.jsxs)("linearGradient",{id:"b",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#3771c8"}),(0,p.jsx)("stop",{stopColor:"#3771c8",offset:".128"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),(0,p.jsxs)("linearGradient",{id:"a",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#fd5"}),(0,p.jsx)("stop",{offset:".1",stopColor:"#fd5"}),(0,p.jsx)("stop",{offset:".5",stopColor:"#ff543e"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#c837ab"})]}),(0,p.jsx)("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),(0,p.jsx)("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),(0,p.jsx)("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,p.jsx)("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,p.jsx)("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function $8({style:e,...t}){return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0,0,256,256",style:{height:"26px",width:"26px",...e},...t,children:(0,p.jsx)("g",{fill:"#0077b5",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",style:{mixBlendMode:"normal"},children:(0,p.jsx)("g",{transform:"scale(5.12,5.12)",children:(0,p.jsx)("path",{d:"M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z"})})})})}function $9(e){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...e,children:[(0,p.jsx)("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),(0,p.jsx)("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function $7(e){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 293768 333327",width:24,height:24,...e,children:[(0,p.jsx)("path",{fill:"#26f4ee",d:"M204958 0c5369 45832 32829 78170 77253 81022v43471l-287 27V87593c-44424-2850-69965-30183-75333-76015l-47060-1v192819c6791 86790-60835 89368-86703 56462 30342 18977 79608 6642 73766-68039V0h58365zM78515 319644c-26591-5471-50770-21358-64969-44588-34496-56437-3401-148418 96651-157884v54345l-164 27v-40773C17274 145544 7961 245185 33650 286633c9906 15984 26169 27227 44864 33011z"}),(0,p.jsx)("path",{fill:"#fb2c53",d:"M218434 11587c3505 29920 15609 55386 35948 70259-27522-10602-43651-34934-47791-70262l11843 3zm63489 82463c3786 804 7734 1348 11844 1611v51530c-25770 2537-48321-5946-74600-21749l4034 88251c0 28460 106 41467-15166 67648-34260 58734-95927 63376-137628 35401 54529 22502 137077-4810 136916-103049v-96320c26279 15803 48830 24286 74600 21748V94050zm-171890 37247c5390-1122 11048-1985 16998-2548v54345c-21666 3569-35427 10222-41862 22528-20267 38754 5827 69491 35017 74111-33931 5638-73721-28750-49999-74111 6434-12304 18180-18959 39846-22528v-51797zm64479-119719h1808-1808z"}),(0,p.jsx)("path",{d:"M206590 11578c5369 45832 30910 73164 75333 76015v51528c-25770 2539-48321-5945-74600-21748v96320c206 125717-135035 135283-173673 72939-25688-41449-16376-141089 76383-155862v52323c-21666 3569-33412 10224-39846 22528-39762 76035 98926 121273 89342-1225V11577l47060 1z",fill:"#000000"})]})}let Me=({style:e,...t})=>(0,p.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",...e},...t,children:(0,p.jsx)("path",{d:"M 14.285156 10.171875 L 23.222656 0 L 21.105469 0 L 13.34375 8.832031 L 7.148438 0 L 0 0 L 9.371094 13.355469 L 0 24.019531 L 2.117188 24.019531 L 10.308594 14.691406 L 16.851562 24.019531 L 24 24.019531 M 2.878906 1.5625 L 6.132812 1.5625 L 21.101562 22.535156 L 17.851562 22.535156",fill:"currentColor"})}),Mt={google:{name:"Google",component:$4},discord:{name:"Discord",component:$2},github:{name:"Github",component:$3},linkedin:{name:"LinkedIn",component:$8},twitter:{name:"Twitter",component:Me},spotify:{name:"Spotify",component:$9},instagram:{name:"Instagram",component:$6},tiktok:{name:"Tiktok",component:$7},apple:{name:"Apple",component:$1}},Mr=e=>e in Mt?Mt[e]:{name:"Unknown",component:$5};function Mn(){let e=new URL(window.location.href);e.searchParams.delete("privy_oauth_code"),e.searchParams.delete("privy_oauth_provider"),e.searchParams.delete("privy_oauth_state"),$i.del($z),window.history.replaceState({},"",e)}class Mi{async initRegisterFlow(e){if(!this.api)throw new l1.P("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new l1.P("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new l1.P("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await r.e(5665).then(r.bind(r,5665));if(!this.api)throw new l1.P("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new l1.P("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let t=this.meta.initRegisterResponse.options,r=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(t));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(l1.q,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(e){if("NotAllowedError"===e.name)throw new l1.P("Passkey request timed out or rejected by user.",void 0,l1.a.PASSKEY_NOT_ALLOWED);throw(0,l1.f)(e)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await r.e(5665).then(r.bind(r,5665));if(!this.api)throw new l1.P("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new l1.P("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let t=this.meta.allowedCredentialsIds?.map(e=>({type:"public-key",id:e}))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:t}));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(l1.r,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(e){if("NotAllowedError"===e.name)throw new l1.P("Passkey request timed out or rejected by user.",void 0,l1.a.PASSKEY_NOT_ALLOWED);throw(0,l1.f)(e)}}async link(){let e=await r.e(5665).then(r.bind(r,5665));if(!this.api)throw new l1.P("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new l1.P("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let t=this.meta.initLinkResponse.options,r=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(t));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(l1.s,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(e){if("NotAllowedError"===e.name)throw new l1.P("Passkey request timed out or rejected by user.",void 0,l1.a.PASSKEY_NOT_ALLOWED);throw(0,l1.f)(e)}}async _initRegisterOnce(e){if(!this.api)throw new l1.P("Auth flow has no API instance");let t=O7(e);return await this.api.post(l1.t,{token:this.meta.captchaToken},{headers:{...t}})}async _initAuthenticateOnce(e){if(!this.api)throw new l1.P("Auth flow has no API instance");let t=O7(e);return await this.api.post(l1.v,{token:this.meta.captchaToken},{headers:{...t}})}async _initLinkOnce(){if(!this.api)throw new l1.P("Auth flow has no API instance");return await this.api.post(l1.w,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(e=>({type:e.type,alg:e.alg})),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports})),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:t}){this.authenticateForRegistration=!1,this.initRegisterOnce=new $P(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new $P(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new $P(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:t}}}let Ma=({address:e,chainId:t,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${e}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${t}
Nonce: ${r}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`;class Ms{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new l1.P("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new l1.P("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.client)throw new l1.P("SiweFlow has no client instance");try{if(!this.wallet)throw new l1.P("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw(0,l1.f)(e)}}async sign(){if(!this.client)throw new l1.P("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new l1.P("Could not prepare SIWE message");if(!this.wallet)throw new l1.P("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new l1.P("SiweFlow has no client instance");if(!this.wallet)throw new l1.P("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new l1.P("SiweFlow has no client instance");if(!this.wallet)throw new l1.P("SiweFlow has no wallet instance");let e=this.wallet.address,t=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=Ma({address:e,chainId:t,nonce:this.nonce}),this.preparedMessage}constructor(e,t,r,n=!1,i){this._meta={disableSignup:!1},this.getNonceOnce=new $P(this._getNonceOnce.bind(this)),this.wallet=t,this.captchaToken=r,this.client=e,this._meta.disableSignup=n,this.preparedMessage=i?.message,this.signature=i?.signature}}let Mo=(...e)=>{if(void 0===O9)throw new l1.P("Buffer is not defined.",void 0,l1.a.BUFFER_NOT_DEFINED);return O9.from(...e)},Ml=({address:e,nonce:t})=>`${window.location.host} wants you to sign in with your Solana account:
${e}

You are proving you own ${e}.

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${t}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`;class Mc{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new l1.P("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.client)throw new l1.P("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw(0,l1.f)(e)}}async sign(){let e,t;if(!this.client)throw new l1.P("SiwsFlow has no client instance");await this.buildMessage();let r="transaction"===this.meta.messageType;if(!this.preparedMessage)throw new l1.P("Could not prepare SIWS message");if(!r&&!this.wallet.signMessage||r&&!this.wallet.signTransaction)throw new l1.P("Wallet does not support the necessary signing methods");if(r&&this._siwsTransactionMethods){let r=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=r.serialize().toString("base64"),t=Mo(r.signatures[0]?.signature??O9.from("missing signature")).toString("base64")}else e=this.preparedMessage,t=Mo(await this.wallet.signMessage(Mo(this.preparedMessage))).toString("base64");return{message:e,signature:t}}async _getNonceOnce(){if(!this.client)throw new l1.P("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new l1.P("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),"transaction"===this.meta.messageType&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=Ml({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,t,r,n=!1,i="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new $P(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=t,this._meta.disableSignup=n,this._meta.messageType=i,this._siwsTransactionMethods=a}}class Md{async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new l1.P("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(l1.x,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new l1.P("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(l1.y,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw(0,l1.f)(e)}}async sendSmsCode({phoneNumber:e,captchaToken:t,withPrivyUi:r}){if(!this.api)throw new l1.P("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),t&&(this.meta.captchaToken=t),!this.meta.phoneNumber)throw new l1.P("phone nNumber must be set when initialzing authentication.");let n=O7(r);try{return await this.api.post(l1.z,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...n}})}catch(e){throw(0,l1.f)(e)}}constructor({phoneNumber:e,captchaToken:t,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:t,disableSignup:r??!1}}}class Mu extends Md{async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new l1.P("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(l1.A,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw(0,l1.f)(e)}}constructor(e,t,r){super({phoneNumber:t,captchaToken:r}),this.meta={phoneNumber:t,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}let Mh=(0,f.createContext)({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:l1.b,setError:l1.b,setExecuting:l1.b,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:l1.b,reset:l1.b,execute:l1.b});class Mp extends l1.B{constructor(e,t,r){super(e||"Captcha failed"),this.type="Captcha",t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}let Mf=({children:e,id:t,captchaSiteKey:r,captchaEnabled:n})=>{let i=(0,f.useRef)(null),[a,s]=(0,f.useState)(),[o,l]=(0,f.useState)(),[c,d]=(0,f.useState)(!1),u=(0,f.useMemo)(()=>n?c||a||o?!c||a||o?a&&!o?{status:"success",token:a}:o?{status:"error",error:o}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,a,o,c]);return(0,p.jsx)(Mh.Provider,{value:{...u,ref:i,enabled:n,siteKey:r,appId:t,setToken:s,setError:l,setExecuting:d,remove(){n&&(i.current?.remove(),d(!1),l(void 0),s(void 0))},reset(){n&&(i.current?.reset(),d(!1),l(void 0),s(void 0))},execute(){n&&(d(!0),i.current?.execute())},async waitForResult(){if(!n)return"";try{return await function(e,{interval:t=100,timeout:r=5e3}={}){return new Promise((n,i)=>{let a,s=0,o=()=>{s>=r?i("Max attempts reached without result"):(a=e(),s+=t,null==a?setTimeout(o,t):n(a))};o()})}(()=>i.current?.getResponse(),{interval:200,timeout:2e4})}catch(e){throw new Mp("Captcha failed",null,l1.a.CAPTCHA_TIMEOUT)}}},children:e})},Mg=()=>(0,f.useContext)(Mh);class Mm{async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.C,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.D,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw(0,l1.f)(e)}}constructor(e,t=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=t}}function My(e){let t={detail:"",retryable:!1};return e?.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER&&(t.detail="This account has already been linked to another user."),e?.privyErrorCode===l1.a.DISALLOWED_LOGIN_METHOD&&(t.detail="Login with Telegram not allowed."),e?.privyErrorCode===l1.a.INVALID_DATA&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===l1.a.INVALID_CREDENTIALS&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===l1.a.TOO_MANY_REQUESTS&&(t.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===l1.a.TOO_MANY_REQUESTS&&e.message.includes("rate limit")&&(t.detail="Request limit reached for Telegram. Please wait a moment and try again."),e instanceof Mp&&(t.retryable=!0,t.detail="Something went wrong. Try again."),t}function Mw(e){return Object.fromEntries(decodeURIComponent(e).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Mv(){let e=new URL(window.location.href);e.searchParams.delete("id"),e.searchParams.delete("hash"),e.searchParams.delete("auth_date"),e.searchParams.delete("first_name"),e.searchParams.delete("last_name"),e.searchParams.delete("username"),e.searchParams.delete("photo_url"),e.hash="",window.history.replaceState({},"",e)}class Mb{static parse(e){try{return new Mb(e)}catch(e){return null}}static throwIfNotWellFormedJwt(e){return rO(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=rO(e)}}class Mx extends Mb{static parse(e){try{return new Mx(e)}catch(e){return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}function ME(e){return e?new Date(1e3*e):null}function M_(e,t){return e.slice().sort((e,t)=>(e.firstVerifiedAt??e.verifiedAt).getTime()-(t.firstVerifiedAt??t.verifiedAt).getTime()).find(e=>e.type===t)}let MC=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"ethereum"===e.chainType&&0===e.walletIndex)||null,Mk=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"solana"===e.chainType),MA=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"solana"===e.chainType&&0===e.walletIndex)||null,MI=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.imported&&"ethereum"===e.chainType)||null,MS=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&e.imported&&"privy"===e.walletClientType&&"solana"===e.chainType)||null,MT=(e,t)=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&((e,t)=>e===t||!(!e.startsWith("0x")||!t.startsWith("0x"))&&(0,y.b)(e)===(0,y.b)(t))(e.address,t))||null,MP=e=>MC(e)??MA(e);function Mj(e){if(!e)return null;let t=function(e){let t=[];for(let r of e){let e=r.type;switch(r.type){case"wallet":let n={id:r.id,address:r.address,type:r.type,imported:r.imported,delegated:r.delegated,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at),chainType:r.chain_type,walletClientType:r.wallet_client_type,connectorType:r.connector_type,recoveryMethod:r.recovery_method,walletIndex:r.wallet_index};t.push(n);break;case"smart_wallet":let i={address:r.address,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at),smartWalletType:r.smart_wallet_type};t.push(i);break;case"cross_app":let a={type:r.type,subject:r.subject,embeddedWallets:r.embedded_wallets,smartWallets:r.smart_wallets,providerApp:{id:r.provider_app_id},verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(a);break;case"email":let s={address:r.address,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(s);break;case"phone":let o={number:r.phoneNumber,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(o);break;case"google_oauth":let l={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(l);break;case"spotify_oauth":let c={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(c);break;case"instagram_oauth":let d={subject:r.subject,username:r.username,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(d);break;case"twitter_oauth":let u={subject:r.subject,username:r.username,name:r.name,type:r.type,profilePictureUrl:r.profile_picture_url,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(u);break;case"discord_oauth":let h={subject:r.subject,username:r.username,email:r.email,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(h);break;case"github_oauth":let p={subject:r.subject,username:r.username,name:r.name,email:r.email,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(p);break;case"tiktok_oauth":let f={subject:r.subject,username:r.username,name:r.name,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(f);break;case"linkedin_oauth":let g={subject:r.subject,name:r.name,email:r.email,vanityName:r.vanity_name,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(g);break;case"apple_oauth":let m={subject:r.subject,email:r.email,type:r.type,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(m);break;case"custom_auth":t.push({type:r.type,customUserId:r.custom_user_id,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)});break;case"farcaster":let y={type:r.type,fid:r.fid,ownerAddress:r.owner_address,displayName:r.display_name,username:r.username,bio:r.bio,pfp:r.profile_picture_url,url:r.homepage_url,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at),signerPublicKey:r.signer_public_key};t.push(y);break;case"passkey":let w={type:r.type,enrolledInMfa:r.enrolled_in_mfa,credentialId:r.credential_id,authenticatorName:r.authenticator_name,createdWithDevice:r.created_with_device,createdWithOs:r.created_with_os,createdWithBrowser:r.created_with_browser,verifiedAt:ME(r.verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(w);break;case"telegram":let v={type:r.type,telegramUserId:r.telegram_user_id,firstName:r.first_name,lastName:r.last_name,username:r.username,photoUrl:r.photo_url,verifiedAt:ME(r.first_verified_at),firstVerifiedAt:ME(r.first_verified_at),latestVerifiedAt:ME(r.latest_verified_at)};t.push(v);break;default:console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`)}}return t}(e.linked_accounts),r=M_(t,"wallet"),n=M_(t,"smart_wallet"),i=M_(t,"email"),a=M_(t,"phone"),s=M_(t,"google_oauth"),o=M_(t,"twitter_oauth"),l=M_(t,"discord_oauth"),c=M_(t,"github_oauth"),d=M_(t,"spotify_oauth"),u=M_(t,"instagram_oauth"),h=M_(t,"tiktok_oauth"),p=M_(t,"linkedin_oauth"),f=M_(t,"apple_oauth"),g=M_(t,"farcaster"),m=M_(t,"telegram"),y=e.mfa_methods.map(({type:e,verified_at:t})=>({type:e,verifiedAt:ME(t)}));return{id:e.id,createdAt:ME(e.created_at),linkedAccounts:t,email:i&&{address:i?.address},phone:a&&{number:a?.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType},google:s&&{subject:s.subject,email:s.email,name:s.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:d&&{subject:d.subject,email:d.email,name:d.name},instagram:u&&{subject:u.subject,username:u.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},linkedin:p&&{subject:p.subject,name:p.name,email:p.email,vanityName:p.vanityName},apple:f&&{subject:f.subject,email:f.email},farcaster:g&&{fid:g.fid,ownerAddress:g.ownerAddress,displayName:g.displayName,username:g.username,bio:g.bio,pfp:g.pfp,url:g.url,signerPublicKey:g.signerPublicKey},telegram:m&&{telegramUserId:m.telegramUserId,firstName:m.firstName,lastName:m.lastName,username:m.username,photoUrl:m.photoUrl},delegatedWallets:[],mfaMethods:y.map(e=>e.type),hasAcceptedTerms:e.has_accepted_terms??!1,isGuest:e.is_guest,customMetadata:e.custom_metadata}}let MN=e=>{if("ethereum"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier"};if("solana"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},MO=(e,t)=>{if(t?.imported)return MN(t);let r=MP(e);if(!r)throw Error("Failed to find primary wallet");return MN(r)},M$=({style:e,...t})=>(0,p.jsxs)("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,p.jsx)("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]});class MM extends l1.g{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class MR extends l1.g{constructor(){super("User rejected connection"),this.type="wallet_error"}}let MD=e=>e instanceof l1.g?e:e?.code?new MU(e):new l1.g("Unknown connector error",e);class ML extends l1.B{constructor(e,t,r){super(e),this.type="provider_error",this.code=t,this.data=r}}class MU extends ML{constructor(e){super(e.message,e.code,e.data);let t=Object.values(A).find(t=>t.eipCode===e.code);this.details=t||A.UNKNOWN_ERROR,-32002===e.code&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=A.E32002_CONNECTION_ALREADY_PENDING:this.details=A.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=A.E32002_WALLET_LOCKED))}}let MF={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...A};function MB(e){return"ethereum"===e.type}function MW(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n?.address!==i?.address||n&&i&&MB(n)&&MB(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}class Mz extends sY.A{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}let Mq=(e,t)=>e.rpcTimeouts&&e.rpcTimeouts[t]||12e4;function MH(e){return"ethereum"===e.chainType}class MV extends Mz{buildConnectedWallet(e,t,r,n){let i=async()=>!!this.wallets.find(t=>(0,y.b)(t.address)===(0,y.b)(e));return{type:"ethereum",address:(0,y.b)(e),chainId:t,meta:r,imported:n,switchChain:async r=>{let n,a;if(!i)throw new l1.g("Wallet is not currently connected.");let s=this.wallets.find(t=>(0,y.b)(t.address)===(0,y.b)(e))?.chainId;if(!s)throw new l1.g("Unable to determine current chainId.");if("number"==typeof r?(n=`0x${r.toString(16)}`,a=r):(n=r,a=Number(r)),s===$v(n))return;let o=this.chains.find(e=>e.id===a);if(!o)throw new l1.g(`Unsupported chainId: ${r}`);let l=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})};try{return await l()}catch(e){if(((e,t)=>{switch(t){case"coinbase_wallet":return e.message.includes("addEthereumChain");case"rabby_wallet":return e.message.includes("Unrecognized chain ID");default:return 4902===e.code||e.message?.includes("4902")}})(e,this.walletClientType))return"rabby_wallet"===this.walletClientType&&await $p(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:[o.rpcUrls.default?.http[0]??""],blockExplorerUrls:[o.blockExplorers?.default.url??""]}]}),l();if("rainbow"===this.walletClientType&&e.message?.includes("wallet_switchEthereumChain"))throw new l1.g(`Rainbow does not support the chainId ${t}`);throw e}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:i,getEthereumProvider:async()=>{if(!await i())throw new l1.g("Wallet is not currently connected.");return this.proxyProvider},sign:async e=>{if(!await i())throw new l1.g("Wallet is not currently connected.");return await this.sign(e)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let t,r=e;try{if(void 0===r){let e=await $f(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,e),Array.isArray(e)&&(r=e)}}catch(e){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",e)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let n=r[0],i=(0,y.b)(n),a=[];if("privy"===this.walletClientType){let e=$i.get($G(i));this.chains.find(t=>t.id===Number(e))||($i.del($G(i)),e=null),t=e||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`)}}else try{let e=await $f(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,e),"string"==typeof e)t=e;else{if("number"!=typeof e)throw Error("Invalid chainId returned from provider");t=`0x${e.toString(16)}`}}catch(e){console.warn("Failed to get chainId from provider, defaulting to 0x1",e),t="0x1"}let s=$v(t);if(!a.find(e=>(0,y.b)(e.address)===i)){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet((0,y.b)(n),s,e,"embedded_imported"===this.connectorType))}MW(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt).find(t=>e.find(e=>(0,y.b)(e)===(0,y.b)(t.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[(0,w.nj)(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,t,r,n){super(e),this.chainType="ethereum",this.onAccountsChanged=e=>{0===e.length?this.onDisconnect():this.syncAccounts(e)},this.onChainChanged=e=>{this.wallets.forEach(t=>{t.chainId=$v(e),"privy"===this.walletClientType&&$i.put($G(t.address),e)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connected=!0,"coinbase_wallet"===this.connectorType&&await $p(500),this.syncAccounts()},this.wallets=[],this.walletClientType=e,this.chains=t,this.defaultChain=r,this.rpcConfig=n,this.rpcTimeoutDuration=Mq(n,e),this.connected=!1,this.initialized=!1}}class MG{on(e,t){if(this.walletProvider)return this.walletProvider.on(e,t);this._subscriptions.push({eventName:e,listener:t})}async request(e){if(!this.walletProvider)throw new l1.g(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(e=>{throw MD(e)})}constructor(e,t){this.removeListener=(e,t)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(e,t)}catch(e){console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(e=new MM,t=this.rpcTimeoutDuration)=>new Promise((r,n)=>setTimeout(()=>{n(e)},t)),this.setWalletProvider=e=>{this.walletProvider&&this._subscriptions.forEach(e=>{this.removeListener(e.eventName,e.listener)}),this.walletProvider=e,this._subscriptions.forEach(e=>{this.walletProvider?.on(e.eventName,e.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=t||12e4,this._subscriptions=[]}}let MK=[1,0xaa36a7,137,10,8453,84532,42161,7777777,43114,56];class MJ extends MV{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new l1.g("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw MD(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType="smartWalletOnly"===e?"coinbase_smart_wallet":"coinbase_wallet",i=gk({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(i.getProvider())}constructor(e,t,r,n){if(super("coinbase_wallet",e,t,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new MG(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...n,appChainIds:[t.id].concat(e.map(e=>e.id))},this.walletClientType="smartWalletOnly"===this.coinbaseWalletConfig.preference?.options?"coinbase_smart_wallet":"coinbase_wallet","coinbase_smart_wallet"===this.walletClientType&&(this.displayName="Coinbase Smart Wallet"),!i){let e="eoaOnly"!==this.coinbaseWalletConfig.preference?.options?(this.coinbaseWalletConfig.appChainIds??[]).filter(e=>!MK.includes(e)):[];e.length>0&&!e.every(e=>V.has(e))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${e.join(", ")}`),i=gk(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(i.getProvider())}}let MY=({...e})=>(0,p.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:e.color||"var(--privy-color-foreground-3)"})});class MZ extends MV{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[$y(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:MY,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:t,defaultChain:r,rpcConfig:n,imported:i,walletIndex:a}){super("privy",t,r,n),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,i&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}let MQ=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"],MX=e=>!!e.id&&"privy-v2"===e.recoveryMethod;class M0 extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}class M1 extends sY.A{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new M0(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await KB()||!this.address)throw new M0("Disconnected",4900);let{hash:r}=await KH(t,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new M0(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await KB()||!this.address)throw new M0("Disconnected",4900);let{signature:r}=await Kq(t,{address:this.address});return r}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new M0(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new M0(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.chainId=Number(t),this.publicClient=$l(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",t)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let t=e.params[0],r=e.params[1],{signature:n}=await KW({message:t},{address:r});return n}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let t=e.params[0],r="string"==typeof e.params[1]?JSON.parse(e.params[1]):e.params[1],{signature:n}=await Kz($x(r),{address:t});return n}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let t={...e.params[0],chainId:$y(this.chainId)};return await this.publicClient.estimateGas({account:t.from??this.address,...gT(t)})}async request(e){let t;switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return $y(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(t=e.method,!MQ.includes(t))return this.publicClient.request({method:e.method,params:e.params});{let t=await KB();if(await KV({address:this.address}),!t||!this.address)throw new M0("Disconnected",4900);try{let r={method:e.method,params:e.params},n=this.walletAccount;return n&&MX(n)?this.handleWalletApiRequest(r,n,t):(await this.walletProxy.rpc({accessToken:t,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(e){throw console.error(e),new M0("Disconnected",4900)}}}async handleWalletApiRequest(e,t,r){let n=this.privyClient;if(!n)throw new M0("Disconnected",4900);if("secp256k1_sign"===e.method){let i=await Y(n,async({message:e})=>this.walletProxy.signWithUserSigner({accessToken:r,message:e}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:e.params[0]}});if("secp256k1_sign"!==i.method)throw new M0(`Invalid params for ${e.method}`,4200);return i.data.signature}throw new M0(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:t,entropyId:r,entropyIdVerifier:n,rpcConfig:i,chains:a,appId:s,chainId:o=1,walletIndex:l,privyClient:c,walletAccount:d}){super(),this.walletProxy=e,this.address=t,this.entropyId=r,this.entropyIdVerifier=n,this.chainId=o,this.rpcConfig=i,this.chains=a,this.publicClient=$l(o,this.chains,i,{appId:s}),this.rpcTimeoutDuration=Mq(i,"privy"),this.appId=s,this.walletIndex=l,this.privyClient=c,this.walletAccount=d}}class M2 extends MV{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:t,icon:r,walletClientType:n,defaultChain:i}){super(n,[],i,{}),this.connectorType="null",this.proxyProvider=new MG(void 0,12e4),this.id=e,this.name=t,this.icon=r,this.connectorType=n}}let M3=({style:e,...t})=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...e},...t,children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),M5=({style:e,...t})=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",x:0,y:0,viewBox:"0 0 318.6 318.6",width:"28",height:"28",style:{height:"28px",width:"28px",...e},...t,children:[(0,p.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,p.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,p.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,p.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,p.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,p.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,p.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,p.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,p.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,p.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,p.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,p.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,p.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]}),M4=({style:e,...t})=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...e},...t,children:[(0,p.jsx)("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function M6(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var M8=0;class M9 extends MV{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new l1.g("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw MD(e)}}constructor(e,t,r,n,i){super(i||"unknown",e,t,r),this.connectorType="injected",this.proxyProvider=new MG(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=n;let a=n.provider;this.proxyProvider.setWalletProvider(a)}}var M7="__private_"+M8+++"__walletBranding";class Re extends MV{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return M6(this,M7)[M7]??{name:"Browser Extension",icon:M3,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new l1.g("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw MD(e)}}constructor(e,t,r,n,i){super(i??"unknown",e,t,r),Object.defineProperty(this,M7,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new MG(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(n),"metamask"===i?M6(this,M7)[M7]={name:"MetaMask",icon:M5,id:"io.metamask"}:"phantom"===i&&(M6(this,M7)[M7]={name:"Phantom",icon:M4,id:"phantom"})}}class Rt extends M9{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{m.Fr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new l1.g("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw MD(e)}}}let Rr=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","coinbase_wallet","coinbase_smart_wallet","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack"],Rn=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:m.gm?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let e=window;if(e?.phantom?.ethereum?.isPhantom&&e?.phantom?.ethereum?.chainId||e?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=Ra({client:this.client,isSolana:t,connectOnly:r});return`${e?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:m.gm?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=Ra({client:this.client,isSolana:t,connectOnly:r});return`${e?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=Ra({client:this.client,isSolana:t,connectOnly:r});return`${e?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:e,connectOnly:t}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Ra({client:this.client,isSolana:e,connectOnly:t}))}}});function Ri({connectorType:e,walletClientType:t}){for(let r of Rr)if(e===r||t===r)return Rn[r]}function Ra({client:e,isSolana:t,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",t?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",e),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}let Rs=()=>{let e=$i.get($J);return e&&Array.isArray(e)&&e.map(e=>(e=>e&&"string"==typeof e.address&&"string"==typeof e.connectorType&&"string"==typeof e.walletClientType&&"number"==typeof e.connectedAt)(e)).every(Boolean)?e:[]},Ro=["phantom","glow","solflare","backpack","okx_wallet","walletconnect"];function Rl(e){return"solana"===e.chainType}function Rc(e){return"solana"===e.type}class Rd extends Mz{get isInstalled(){return"Installed"===this.adapter.readyState}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,t){let r,n,i,a;if("Installed"!==e.readyState||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(r=async(...t)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(t[0])}),"sendTransaction"in e&&(n=async(...t)=>await e.sendTransaction(t[0],t[1],t[2])),"signTransaction"in e&&(i=async t=>await e.signTransaction(t)),"signAllTransactions"in e&&(a=async t=>await e.signAllTransactions(t)),{type:"solana",address:e.publicKey.toBase58(),meta:t,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch(e){console.error("Wallet does not support programmatic disconnect")}},getProvider:(0,l1.n)(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:r??(0,l1.n)(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:n??(0,l1.n)(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:i??(0,l1.n)(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:a??(0,l1.n)(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if("Installed"===this.adapter.readyState&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(e=>this.adapter.publicKey&&e.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!Ro.includes(this.walletClientType))&&("phantom"!==this.walletClientType||Rs().some(({walletClientType:e})=>"phantom"===e))}constructor(e,t){super(e.name.toLowerCase().split(" ").join("_")),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(e=>console.error("Error disconnecting",e))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(e){throw MD(e)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=e=>{this.syncAccounts()},this.onError=e=>{this.syncAccounts()},this.onReadyStateChange=e=>{"Installed"!==e&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=t,this.wallets=[]}}class Ru extends Rd{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:t,icon:r}){super({name:t},!1),this.connectorType="null",this.proxyProvider=new MG(void 0,12e4),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=t,this.icon=r}}let Rh=(0,Od.v)(()=>({listings:[]})),Rp=Rh.setState,Rf=e=>{let t;try{t=new URL(e).hostname}catch(e){return}return Rh.getState().listings.find(({homepage:e})=>{let r;try{r=new URL(e).hostname}catch(e){return!1}return t.includes(r)})},Rg=e=>Rh(({listings:t})=>t.find(({slug:t})=>Rm(t)===Rm(e)));function Rm(e){return"cryptocom"===e?"cryptocom-defi":"binance"===e?"binance-defi":e.replace(/[-_]wallet$/,"")}function Ry({src:e,...t}){return(0,p.jsx)("img",{src:e,...t,style:{display:"none"}})}let Rw={appearance:{landingHeader:"Log in or sign up",theme:"light",accentColor:"#676FFF",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}},Rv=new Set(["coinbase_wallet","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance"]),Rb=e=>Rv.has(e),Rx=(e,t,r)=>r.indexOf(e)===t,RE="11111111111111111111111111111111";function R_(e){return e.includes("testnet")?"testnet":e.includes("devnet")?"devnet":"mainnet-beta"}let RC="#FFFFFF";function Rk(e,t){let r=Math.max(0,Math.min(1,e.toHsl().l+t));return(0,yU.A)({...e.toHsl(),l:r})}function RA(e,t,r,n){let i,a,s,o,l,c,d,u,h,p,f,g,m,y,w,v=r?console.warn:()=>{};t?.loginMethods?(i=t.loginMethods.includes("email"),a=t.loginMethods.includes("sms"),o=t.loginMethods.includes("wallet"),l=t.loginMethods.includes("google"),c=t.loginMethods.includes("twitter"),d=t.loginMethods.includes("discord"),h=t.loginMethods.includes("spotify"),p=t.loginMethods.includes("instagram"),u=t.loginMethods.includes("tiktok"),g=t.loginMethods.includes("github"),f=t.loginMethods.includes("linkedin"),m=t.loginMethods.includes("apple"),y=t.loginMethods.includes("farcaster"),w=t.loginMethods.includes("telegram"),s=t.loginMethods.includes("passkey")):(i=e.email_auth,a=e.sms_auth,o=e.wallet_auth||e.solana_wallet_auth,l=e.google_oauth,c=e.twitter_oauth,d=e.discord_oauth,g=e.github_oauth,h=e.spotify_oauth,p=e.instagram_oauth,u=e.tiktok_oauth,f=e.linkedin_oauth,m=e.apple_oauth,y=e.farcaster_auth,w=e.telegram_auth,s=e.passkey_auth),e.passkey_auth&&(s=!0),"undefined"!=typeof window&&"function"!=typeof window.PublicKeyCredential&&(s=!1);let b=[i,a].filter(Boolean),x=[l,c,d,g,h,p,u,f,m,y,w].filter(Boolean),E=[o].filter(Boolean),_=t?.loginMethods?.includes("passkey")??!1,C=e.passkeys_for_signup_enabled??!1,k=[s&&(C||_)].filter(Boolean);if(b.length+x.length+E.length+k.length===0)throw Error("You must enable at least one login method");let A=void 0!==t?.appearance?.showWalletLoginFirst?t?.appearance?.showWalletLoginFirst:e.show_wallet_login_first;A&&0===E.length?(v("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),A=!1):A||x.length+b.length!==0||(v("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),A=!0);let I=t?.externalWallets?.walletConnect?.enabled??!0;t?.loginMethods&&t.loginMethodsAndOrder&&v("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let S=(({input:e,overrides:t})=>t?t.primary.concat(t.overflow??[]).filter(Rb).filter(Rx):e?e.filter(Rb).filter(Rx):Rw.appearance.walletList)({input:t?.appearance?.walletList,overrides:t?.loginMethodsAndOrder}),T=(({input:e})=>{if(!e||!e.primary[0])return;let t=[e.primary[0]],r=[];for(let r of(e.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),e.primary.slice(1)))t.includes(r)?console.warn(`Duplicated login method: ${r}`):t.push(r);for(let n of e.overflow??[])t.includes(n)||r.includes(n)?console.warn(`Duplicated login method: ${n}`):r.push(n);return{primary:t,overflow:r}})({input:t?.loginMethodsAndOrder}),P=t?.intl?.defaultCountry??"US",{chains:j,defaultChain:N}=function({supportedChains:e,defaultChainFromConfig:t}){let r;if(e){if(0===e.length)throw Error("`supportedChains` must contain at least one chain");r=Z(e)}else r=[...H];let n=e?r[0]:R,i=t??n;if(!r.find(e=>e.id===i.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:r,defaultChain:i}}({supportedChains:t?.supportedChains,defaultChainFromConfig:t?.defaultChain}),O=!!t?.defaultChain,$=t?.customAuth?.getCustomAccessToken&&!1!==t?.customAuth?.enabled,M=t?.embeddedWallets?.requireUserPasswordOnCreate,D=t?.embeddedWallets?.createOnLogin,L=$?"all-users":e.embedded_wallet_config.ethereum.create_on_login,U=e.embedded_wallet_config.solana.create_on_login,F={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(t?.solanaClusters)for(let e of t.solanaClusters){let{name:t,rpcUrl:r,blockExplorerUrl:n}=e;F[t]={rpcUrl:r??F[t].rpcUrl,blockExplorerUrl:n??F[t].blockExplorerUrl}}e.solana_wallet_auth&&!t?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let B=e.telegram_auth_config?{botId:e.telegram_auth_config.bot_id,botName:e.telegram_auth_config.bot_name,linkEnabled:e.telegram_auth_config.link_enabled,seamlessAuthEnabled:e.telegram_auth_config.seamless_auth_enabled}:void 0,W=e.funding_config?{methods:e.funding_config.methods,options:e.funding_config.options,defaultRecommendedAmount:e.funding_config.default_recommended_amount,defaultRecommendedCurrency:e.funding_config.default_recommended_currency,promptFundingOnWalletCreation:e.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:e.funding_config.cross_chain_bridging_enabled}:void 0;return{id:e.id,name:e.name,allowlistConfig:{errorTitle:e.allowlist_config.error_title,errorDetail:e.allowlist_config.error_detail,errorCtaText:e.allowlist_config.cta_text,errorCtaLink:e.allowlist_config.cta_link},legacyWalletUiConfig:e.legacy_wallet_ui_config,appearance:{logo:t?.appearance?.logo??e.logo_url??void 0,landingHeader:t?.appearance?.landingHeader??Rw.appearance.landingHeader,loginMessage:"string"==typeof t?.appearance?.loginMessage?t?.appearance?.loginMessage.slice(0,100):t?.appearance?.loginMessage,footerLogo:t?.appearance?.footerLogo,palette:function({backgroundTheme:e,accentHex:t}){var r;let n;switch(e){case"light":n=RC;break;case"dark":n="#1E1E1D";break;default:n=e}let i=(0,yU.A)(n),a=(0,yU.A)(t),s=(0,yU.A)("#51BA81"),o=(0,yU.A)("#FFB74D"),l=(0,yU.A)("#EC6351"),c=((r=i.getLuminance())<.8&&r>.2&&console.warn("Background color is not light or dark enough, which could lead to accessibility issues."),r>.5?"light":"dark"),d=Rk(i,"light"===c?-.04:.11),u=Rk(i,"light"===c?-.08:.16),h=Rk(i,"light"===c?-.88:.87),p=Rk(i,"light"===c?-.7:.75),f=Rk(i,"light"===c?-.43:.45).desaturate("light"===c?60:20),g=Rk(i,"light"===c?-.08:.25).desaturate("light"===c?60:20),m=Rk(a,.15),y=Rk(a,.25),w=Rk(a,-.06),v=Rk(a,-.6),b=Rk(l,.3),x=Rk(o,.3),E=(0,yU.A)(a.getLuminance()>.5?"#040217":RC),_=Rk(s,-.16),C=Rk(s,.4);return{colorScheme:c,background:i.toHslString(),background2:d.toHslString(),background3:u.toHslString(),foreground:h.toHslString(),foreground2:p.toHslString(),foreground3:f.toHslString(),foreground4:g.toHslString(),accent:a.toHslString(),accentLight:m.toHslString(),accentLightest:y.toHslString(),accentDark:w.toHslString(),accentDarkest:v.toHslString(),foregroundAccent:E.toHslString(),success:s.toHslString(),successDark:_.toHslString(),successLight:C.toHslString(),error:l.toHslString(),errorLight:b.toHslString(),warn:o.toHslString(),warnLight:x.toHslString()}}({backgroundTheme:t?.appearance?.theme??Rw.appearance.theme,accentHex:t?.appearance?.accentColor??e.accent_color??Rw.appearance.accentColor}),loginGroupPriority:A?"web3-first":"web2-first",hideDirectWeb2Inputs:!!t?.appearance?.hideDirectWeb2Inputs,walletList:S,walletChainType:t?.appearance?.walletChainType??(({evmWalletAuth:e,solanaWalletAuth:t})=>e&&t?"ethereum-and-solana":e?"ethereum-only":t?"solana-only":"ethereum-only")({evmWalletAuth:e.wallet_auth??!1,solanaWalletAuth:e.solana_wallet_auth??!1})},loginMethods:{wallet:o,email:i,sms:a,passkey:s,google:l,twitter:c,discord:d,github:g,spotify:h,instagram:p,tiktok:u,linkedin:f,apple:m,farcaster:y,telegram:w},disablePlusEmails:e.disable_plus_emails,loginMethodsAndOrder:T,legal:{termsAndConditionsUrl:t?.legal?.termsAndConditionsUrl??e.terms_and_conditions_url,privacyPolicyUrl:t?.legal?.privacyPolicyUrl??e.privacy_policy_url,requireUsersAcceptTerms:e.require_users_accept_terms??!1},walletConnectCloudProjectId:t?.walletConnectCloudProjectId??e.wallet_connect_cloud_project_id??Rw.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:t?.externalWallets?.signatureRequestTimeouts??{}},chains:j,solanaClusters:F,defaultChain:N,intl:{defaultCountry:P},shouldEnforceDefaultChainOnConnect:O,captchaEnabled:e.captcha_enabled??Rw.captchaEnabled,captchaSiteKey:e.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:e.name,appLogoUrl:e.logo_url,preference:{options:t?.externalWallets?.coinbaseWallet?.connectionOptions??Rw.externalWallets.coinbaseWallet.connectionOptions,...t?.externalWallets?.coinbaseWallet?.config?.preference},...t?.externalWallets?.coinbaseWallet?.config}},walletConnect:{enabled:I,appKit:t?.externalWallets?.walletConnect?.appKit},solana:{connectors:t?.externalWallets?.solana?.connectors},disableAllExternalWallets:t?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:M??(!$&&(e.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:$?["user-passcode"]:e.embedded_wallet_config.user_owned_recovery_options,priceDisplay:t?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:D??t?.embeddedWallets?.ethereum?.createOnLogin??L},solana:{createOnLogin:t?.embeddedWallets?.solana?.createOnLogin??U},mode:e.embedded_wallet_config.mode,showWalletUIs:t?.embeddedWallets?.showWalletUIs??e.enforce_wallet_uis??!0,extendedCalldataDecoding:t?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:t?.embeddedWallets?.transactionScanning?.enabled??!1,domain:t?.embeddedWallets?.transactionScanning?.domain??n??"https://auth.privy.io"}},mfa:{methods:e.mfa_methods??[],noPromptOnMfaRequired:t?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:t?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:t?.passkeys?.shouldUnenrollMfaOnUnlink},customAuth:$?{enabled:!0,...t.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:B,passkeysForSignupEnabled:e.passkeys_for_signup_enabled},headless:!!t?.headless,render:{standalone:t?._render?.standalone??Rw._render.standalone},fundingConfig:W,fundingMethodConfig:{...t?.fundingMethodConfig??Rw.fundingMethodConfig,moonpay:{...t?.fundingMethodConfig?.moonpay??Rw.fundingMethodConfig.moonpay,useSandbox:t?.fundingMethodConfig?.moonpay.useSandbox??t?.fiatOnRamp?.useSandbox??Rw.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!e.whatsapp_enabled}}let RI={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"legacy-embedded-wallets-only"},fiat_on_ramp_enabled:!1,captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},RS=RA(RI,void 0,!1),RT=(0,f.createContext)({appConfig:RS,isServerConfigLoaded:!1}),RP=({children:e,client:t,legacyClient:r,clientConfig:n})=>{let[i,a]=(0,f.useState)(null),s=(0,f.useMemo)(()=>RA(i??RI,n,!!i,"undefined"!=typeof window?window.location.origin:void 0),[i,n]);return(0,f.useEffect)(()=>{if(!i)return;let e=function(e){if(!e)return{};let{appearance:t,supportedChains:r,defaultChain:n,externalWallets:i,...a}=e;return{...a,...r?{supportedChains:r.map(e=>e.id)}:void 0,...n?{defaultChain:n.id}:void 0,...i?{walletConnect:i.walletConnect?{enabled:i.walletConnect.enabled}:void 0,coinbaseWallet:i.coinbaseWallet,solana:{connectors:i.solana?.connectors?.get().map(e=>e.walletClientType)}}:void 0}}(n),t=(function(e,t=0){let r=0xdeadbeef^t,n=0x41c6ce57^t;for(let t,i=0;i<e.length;i++)r=Math.imul(r^(t=e.charCodeAt(i)),0x9e3779b1),n=Math.imul(n^t,0x5f356495);return r=Math.imul(r^r>>>16,0x85ebca6b)^Math.imul(n^n>>>13,0xc2b2ae35),0x100000000*(2097151&(n=Math.imul(n^n>>>16,0x85ebca6b)^Math.imul(r^r>>>13,0xc2b2ae35)))+(r>>>0)})(JSON.stringify(e)).toString(),a=`privy:sent:${i.id}:${t}`;localStorage.getItem(a)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:e}),localStorage.setItem(a,"t"))},[n,i]),(0,f.useEffect)(()=>{i||(async()=>{try{await t.initialize();let e=t.app.getConfig();e.custom_api_url&&r.updateApiUrl(e.custom_api_url),a(e)}catch(e){console.warn("Error generating app config: ",e)}})()},[]),(0,p.jsx)(RT.Provider,{value:{appConfig:s,isServerConfigLoaded:!!i},children:e})},Rj=()=>{let{appConfig:e}=(0,f.useContext)(RT);return e},RN=()=>{let{isServerConfigLoaded:e}=(0,f.useContext)(RT);return e},RO=(0,f.createContext)({app:RS,currentScreen:null,lastScreen:null,navigate:l1.b,navigateBack:l1.b,resetNavigation:l1.b,setModalData:l1.b,onUserCloseViaDialogOrKeybindRef:void 0}),R$=e=>{let t=Rj(),r=e.authenticated,[n,i]=(0,f.useState)(e.initialScreen);(0,f.useEffect)(()=>{r||!e.initialScreen||e.initialScreen.isUnauthenticatedScreem||e.setInitialScreen(null)},[r]);let a=(0,f.useRef)(null);(0,f.useEffect)(()=>{e.open||(a.current=null)},[e.open]),(0,f.useEffect)(()=>{a.current=null},[e.initialScreen]);let s={app:t,data:e.data,setModalData:e.setModalData,currentScreen:e.initialScreen,lastScreen:n,navigate:(t,r=!0)=>{e.setInitialScreen(t),r&&i(e.initialScreen)},navigateBack:()=>{e.setInitialScreen(n)},resetNavigation:()=>{e.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:a};return(0,p.jsxs)(RO.Provider,{value:s,children:[("string"==typeof t.appearance.logo||"img"===t.appearance.logo?.type)&&(0,p.jsx)(Ry,{src:"string"==typeof t.appearance.logo?t.appearance.logo:t.appearance.logo.props.src}),e.children]})},RM=()=>(0,f.useContext)(RO);class RR extends MV{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=Rf(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized");let{createAppKit:t}=await r.e(3899).then(r.bind(r,53899));this.modal??=t({projectId:this.walletConnectCloudProjectId,themeVariables:{"--w3m-z-index":1e6},networks:this.chains,includeWalletIds:$_,allowUnsupportedChain:!0}),this.modal.subscribeState(e=>{e.open||this.walletProvider?.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:$m(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:"string"==typeof e?e:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC",id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem($k)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,t)=>{this.onQrModalClosed=()=>{t(new MR)},(async()=>{let t="",r=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(r?.length&&(t=r[0]),!t||""===t)throw new l1.g("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=Rf(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=Mq(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(r),e()})().catch(e=>{t(e?MD(e):new l1.g("Unknown error during connection"))}).finally(()=>this.modal?.close())})}disconnect(){this.walletProvider?.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect Wallet Connect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let t of this.chains){let r=$b(t.id,this.chains,this.rpcConfig,this.privyAppId);r&&(e[t.id]=r)}let t=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(e=>e.id),n=await Oc.init({projectId:this.walletConnectCloudProjectId,chains:t,optionalChains:r,optionalEvents:N6,optionalMethods:N5,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.toString(),icons:[]}});return n.on("display_uri",e=>{if(n.signer.abortPairingAttempt(),this.walletEntry){let{redirect:t,href:r}=function(e,t){let r=$C(t);if(r.deepLink)return $I(r.deepLink,e);if(r.universalLink)return $S(r.universalLink,e);throw new l1.P(`Unsupported wallet ${t.id}`)}(e,this.walletEntry);(function({href:e,name:t}){try{localStorage.setItem($k,JSON.stringify({href:e,name:t}))}catch{}})({href:r,name:this.walletEntry.metadata?.shortName||this.walletEntry.name}),this.redirectUri=t;let n=function(e,t){let r=$C(t);if(r.universalLink)return $S(r.universalLink,e)}(e,this.walletEntry);n?.redirect&&(this.fallbackUniversalRedirectUri=n.redirect),m.Fr?($T(t,"_self"),this.showPrivyQrModal?.({native:t,universal:this.fallbackUniversalRedirectUri})):this.showPrivyQrModal?this.showPrivyQrModal?.({native:t,universal:this.fallbackUniversalRedirectUri}):this.modal?.open({uri:e})}else this.modal?.open({uri:e})}),n.on("connect",()=>{this.modal?.close(),n.session?.peer.metadata.url&&(this.walletEntry=Rf(n.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")}),n}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,t){this.walletEntry=e,this.showPrivyQrModal=t}constructor({walletConnectCloudProjectId:e,rpcConfig:t,chains:r,defaultChain:n,shouldEnforceDefaultChainOnConnect:i,privyAppId:a,privyAppName:s,walletClientType:o,appKit:l}){super(o||"unknown",r,n,t),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=s,this.walletConnectCloudProjectId=e,this.rpcConfig=t,this.shouldEnforceDefaultChainOnConnect=i,this.proxyProvider=new MG(void 0,this.rpcTimeoutDuration),this.modal=l,o&&(this.walletEntry=Rh.getState().listings.find(({slug:e})=>Rm(e)===Rm(o)),this.walletClientType=o)}}class RD extends sY.A{get wallets(){let e=new Set,t=this.walletConnectors.flatMap(e=>e.wallets).sort((e,t)=>e.connectedAt&&t.connectedAt?t.connectedAt-e.connectedAt:0).filter(t=>{let r=`${t.address}${t.walletClientType}${t.connectorType}${t.meta.id}`;return!e.has(r)&&(e.add(r),!0)}),r=t.findIndex(e=>e.address===(this.activeWallet?this.activeWallet:"unknown"));return r>=0&&t.unshift(t.splice(r,1)[0]),t}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),$i.get($K)&&($i.getKeys().forEach(e=>{e.startsWith("walletconnect")&&$i.del(e)}),$i.del($K)),this.externalWalletConfig.disableAllExternalWallets))return;let t=$w({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(e=>{e.forEach(({type:e,eip6963InjectedProvider:t,legacyInjectedProvider:r})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:e,providers:{eip6963InjectedProvider:t,legacyInjectedProvider:r}})})});for(let e of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),Object.values(Rn)))!e.isInstalled&&this.walletList.includes(e.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&e.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:e.client,walletConfig:e}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&e.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new Ru({id:e.client,name:e.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.(e=>{e?.forEach(this.addSolanaWalletConnector)}),await t,this.initialized=!0}findWalletConnector(e,t){return"wallet_connect_v2"===e?this.walletConnectors.filter(MH).find(t=>t.connectorType===e)??null:this.walletConnectors.filter(MH).find(r=>r.connectorType===e&&r.walletClientType===t)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(Rl).find(t=>"unknown"===t.walletClientType?t.walletBranding.id===e:t.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>"embedded"===e.connectorType)}onInitialized(e){e.wallets.forEach(e=>{let t=this.storedConnections.find(t=>t.address===e.address&&t.connectorType===e.connectorType&&("solana"===e.type&&"unknown"===t.walletClientType&&"unknown"===e.walletClientType?e.meta.id===t.id:t.walletClientType===e.walletClientType));t&&(e.connectedAt=t.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:t,embeddedWallets:r,defaultChain:n,appId:i,privyClient:a}){let{entropyId:s,entropyIdVerifier:o}=MO(t);for(let t of r){let r=this.findEmbeddedWalletConnectors().find(e=>e.walletIndex===t.walletIndex);if(r&&MH(r))r.proxyProvider.walletProxy=e;else{let r=new MZ({provider:new M1({walletProxy:e,address:t.address,entropyId:s,entropyIdVerifier:o,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id,walletIndex:t.walletIndex,privyClient:a,walletAccount:t}),chains:this.chains,defaultChain:n,rpcConfig:this.rpcConfig,imported:!1,walletIndex:t.walletIndex});this.addWalletConnector(r)}}}addImportedWalletConnector(e,t,r,n){let i=this.findWalletConnector("embedded_imported","privy");if(i&&MH(i))i.proxyProvider.walletProxy=e;else{let i=new MZ({provider:new M1({walletProxy:e,address:t,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:n,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(i)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>"embedded"!==e.connectorType),this.storedConnections=Rs(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let t=this.walletConnectors.indexOf(e);this.walletConnectors.splice(t,1),this.storedConnections=Rs(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:t,providers:r,walletConfig:n}){let i=this.findWalletConnector(e,t);if(i&&MH(i))return i instanceof RR&&i.resetConnection(t),i;let a="injected"!==e?"coinbase_wallet"===e?new MJ(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):"null"!==e?new RR({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:t,appKit:this.appKit}):n?new M2({id:n.client,name:n.name,defaultChain:this.defaultChain,walletClientType:n.client}):null:"metamask"===t&&r?.eip6963InjectedProvider?new Rt(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):"metamask"===t&&r?.legacyInjectedProvider?new Re(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):"phantom"===t&&r?.legacyInjectedProvider?new Re(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&"unknown_browser_extension"===t?new Re(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new M9(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,t):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(e=>{console.debug("Failed to initialize connector",e)})}async activeWalletSign(e){let t=this.wallets,r=t.length>0?t[0]:null;return r&&MB(r)?r.sign(e):null}setActiveWallet(e){this.activeWallet=(0,y.b)(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,t,r,n,i,a,s,o,l,c,d,u){super(),this.addSolanaWalletConnector=async e=>{let t=this.findSolanaWalletConnector(e.walletClientType);if(!t||"null"===t.connectorType){if("null"===t?.connectorType){let e=this.walletConnectors.indexOf(t);this.walletConnectors.splice(e,1)}this.addWalletConnector(e)}},this.getEthereumProvider=()=>{let e=this.wallets[0],t=this.walletConnectors.find(t=>t.wallets.find(t=>t.address===e?.address));return e&&t?t.proxyProvider:new MG},this.privyAppId=e,this.walletConnectCloudProjectId=t,this.rpcConfig=r,this.chains=n,this.defaultChain=i,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=s,this.shouldEnforceDefaultChainOnConnect=o,this.externalWalletConfig=l,this.privyAppName=c,this.walletChainType=d||"ethereum-only",this.appKit=u,this.storedConnections=Rs()}}let RL=[l1.F,l1.G,l1.H];class RU{async get(e,t){try{return await this.baseFetch(e,t)}catch(e){throw(0,l1.f)(e)}}async post(e,t,r){try{return await this.baseFetch(e,{method:"POST",...t?{body:t}:{},...r})}catch(e){throw(0,l1.f)(e)}}async delete(e,t){try{return await this.baseFetch(e,{method:"DELETE",...t})}catch(e){throw(0,l1.f)(e)}}constructor({appId:e,appClientId:t,client:r,defaults:n}){this.appId=e,this.appClientId=t,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion="2.13.8",this.client=r,this.defaults=n,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=OY.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:e,options:t})=>{let r=new Headers(t.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-ca-id",this.clientAnalyticsId||""),r.set("privy-client",`react-auth:${this.sdkVersion}`);let n=RL.includes(e.toString());if(!r.has("authorization")){let e=await this.client.getAccessToken({disableAutoRefresh:n});null!==e&&r.set("authorization",`Bearer ${e}`)}t.headers=r,t.retryDelay&&"number"==typeof t.retryDelay&&(t.retryDelay=3*t.retryDelay)},onRequestError:({error:e})=>{if(e instanceof DOMException&&"AbortError"===e.name)throw new l1.E}})}}let RF=/paymaster\.biconomy\.io\/api/i,RB={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}},RW=(e,t)=>e&&RF.test(e)?RB:t&&t.policy_id?{policyId:t.policy_id}:void 0;class Rz{async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.J,{token:this.meta.token})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.K,{token:this.meta.token})}catch(e){throw(0,l1.f)(e)}}constructor(e){this.meta={token:e}}}class Rq{getOrCreateGuestCredential(e){let t=$B(e);if($n()){if($i.get(t))return $i.get(t);{let e=rT($Y(32));return $i.put(t,e),e}}return rT($Y(32))}async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.L,{guest_credential:this.meta.guestCredential})}catch(e){throw(0,l1.f)(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function RH(){return!(m.nr&&window.location.origin.startsWith("http://localhost"))}let RV=(0,Od.v)(()=>({identityToken:null}));var RG,RK,RJ,RY,RZ,RQ,RX=((RQ={}).PRIVY="privy_access_token",RQ.CUSTOMER="customer_access_token",RQ);class R0{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return"privy_access_token"===e?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken($O)}get privyAccessToken(){return this._getToken($R)}_getToken(e){try{let t=$i.get(e);return"string"==typeof t?Mb.throwIfNotWellFormedJwt(t):null}catch(e){return console.error(e),this.destroyLocalState(),null}}get refreshToken(){try{let e=$i.get($M);return"string"==typeof e?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let t=$i.get($W(e));if("string"!=typeof t)return null;{let r=new Mb(t);return r.isExpired()?($i.del($W(e)),null):r.value}}catch(e){return console.error(e),null}}get mightHaveServerCookies(){try{let e=oy.A.get($U);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let t="string"==typeof this.getToken(e),r="string"==typeof this.refreshToken&&"deprecated"!==this.refreshToken;return this.mightHaveServerCookies||t&&r}hasActiveAccessToken(e){let t=Mb.parse(this.getToken(e));return null!==t&&!t.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,t){"string"==typeof t?$i.put($W(e),t):$i.del($W(e))}updateIdentityToken(e){"string"==typeof e?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let t=await e.authenticate(),{user:r,is_new_user:n,oauth_tokens:i}=t;this.handleTokenResponse(t);let a=i?{provider:i.provider,accessToken:i.access_token,accessTokenExpiresInSeconds:i.access_token_expires_in_seconds,refreshToken:i.refresh_token,refreshTokenExpiresInSeconds:i.refresh_token_expires_in_seconds,scopes:i.scopes}:void 0;return this._trackAuthenticateEvents(e,n),{user:Mj(r),isNewUser:n,oAuthTokens:a}}catch(e){throw console.warn("Error authenticating session"),(0,l1.M)(e)}}_trackAuthenticateEvents(e,t){let r=e instanceof $e?"email":e instanceof Md?"sms":e instanceof Ms?"siwe":e instanceof Rq?"guest":e instanceof Rz?"custom_auth":e instanceof $X?e.meta.provider:null;r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:t}}),"siwe"===r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let t=await e.link(),r=t.oauth_tokens,n=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Mj(t),oAuthTokens:n}}catch(e){throw console.warn("Error linking account"),(0,l1.M)(e)}}async _refresh(){if(!this.api)throw new l1.P("Session has no API instance");if(!this.client)throw new l1.P("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,t=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&t||this.mightHaveServerCookies))return null;{let n={};e&&(n.authorization=`Bearer ${e}`),r=await this.api.post(l1.F,t?{refresh_token:t}:{},{headers:n})}return this.handleTokenResponse(r),Mj(r.user)}catch(e){if(e instanceof l1.N&&e.privyErrorCode===l1.a.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw(0,l1.M)(e)}}handleTokenResponse(e){e.session_update_action&&"set"!==e.session_update_action?"clear"===e.session_update_action?this.destroyLocalState():"ignore"===e.session_update_action&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(l1.G,{refresh_token:this.refreshToken})}catch(e){console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if("string"==typeof e){let t=$i.get($O);if($i.put($O,e),!this.client?.useServerCookies){let t=Mb.parse(e)?.expiration;oy.A.set($$,e,{sameSite:"Strict",secure:RH(),expires:t?new Date(1e3*t):void 0})}t!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else $i.del($O),oy.A.remove($$),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){"string"==typeof e?($i.put($M,e),this.client?.useServerCookies||oy.A.set($U,"t",{sameSite:"Strict",secure:RH(),expires:30})):($i.del($M),oy.A.remove("privy-refresh-token"),oy.A.remove($U))}storePrivyAccessToken(e){"string"==typeof e?$i.put($R,e):$i.del($R)}storeIdentityToken(e){if(RV.setState({identityToken:e}),this.client?.useServerCookies)return;$i.put($D,e);let t=Mb.parse(e)?.expiration;oy.A.set($L,e,{sameSite:"Strict",secure:RH(),expires:t?new Date(1e3*t):void 0})}clearIdentityToken(){$i.del($D),RV.setState({identityToken:null}),oy.A.remove($L)}constructor(){this.authenticateOnce=new $P(async e=>this._authenticate(e)),this.linkOnce=new $P(async e=>this._link(e)),this.refreshOnce=new $P(this._refresh.bind(this)),this.destroyOnce=new $P(this._destroy.bind(this))}}var R1=0,R2="__private_"+R1+++"__getOrGenerateClientAnalyticsId";class R3{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:t,chains:r,defaultChain:n,store:i,walletList:a,shouldEnforceDefaultChainOnConnect:s,externalWalletConfig:o,appName:l,walletChainType:c,appKit:d}){this.connectors||(this.connectors=new RD(this.appId,e,t,r,n,i,a,s,o,l,c,d))}generateApi(){let e=new RU({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new l1.P("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new l1.P("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,t){this.session.storeProviderAccessToken(e,t)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(e=>"cross_app"===e.type).forEach(e=>{this.storeProviderAccessToken(e.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(l1.O,{action:"verify"})}catch(e){throw(0,l1.f)(e)}}async initMfaPasskeyVerification(){try{let e;return{rpId:(e=(await this.api.post(l1.Q,{})).options).rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}catch(e){throw(0,l1.f)(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(e){console.error("Error fetching cross app provider details",e)}}async acceptTerms(){try{return Mj(await this.api.post(l1.R,{}))}catch(e){throw(0,l1.M)(e)}}async unlinkEmail(e){try{let t=await this.api.post(l1.S,{address:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async unlinkPhone(e){try{let t=await this.api.post(l1.T,{phoneNumber:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async unlinkEthereumWallet(e){try{let t=await this.api.post(l1.U,{address:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async unlinkSolanaWallet(e){try{let t=await this.api.post(l1.V,{address:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async unlinkOAuth(e,t){try{let r=await this.api.post(l1.W,{provider:e,subject:t});return await this.getAuthenticatedUser()??Mj(r)}catch(e){throw(0,l1.M)(e)}}async unlinkFarcaster(e){try{let t=await this.api.post(l1.X,{fid:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async unlinkTelegram(e){try{let t=await this.api.post(l1.Y,{telegram_user_id:e});return await this.getAuthenticatedUser()??Mj(t)}catch(e){throw(0,l1.M)(e)}}async revokeDelegatedWallet(){try{await this.api.post(l1.Z,{})}catch(e){throw(0,l1.M)(e)}}async createAnalyticsEvent({eventName:e,payload:t,timestamp:r,options:n}){if("undefined"!=typeof window)try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(l1.H,{event_name:e,client_id:this.clientAnalyticsId,payload:{...t||{},clientTimestamp:r?r.toISOString():(new Date).toISOString()}},{retry:-1,keepalive:n?.keepAlive??!1})}catch(e){console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(l1._,e)}catch(e){throw(0,l1.M)(e)}}async initCoinbaseOnRamp(e){try{return this.api.post(l1.$,e)}catch(e){throw(0,l1.M)(e)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${l1.a0}?partnerUserId=${e}`)}catch(e){throw(0,l1.M)(e)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(RX.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(RX.PRIVY,e)}async _getToken(e,t){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?Mx.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!t?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},t=this.session.token;t&&(e.authorization=`Bearer ${t}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(e=>({chainId:e.chain_id,bundlerUrl:e.bundler_url,paymasterUrl:e.paymaster_url,paymasterContext:RW(e.paymaster_url,e.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw(0,l1.M)(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch(t){return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch(e){return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:t}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${t}`)}catch(r){return void console.error(`Unable to fetch token metadata for ${t}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(e){throw console.error("Unable to fetch Farcaster signer status"),e}}async generateSiweNonce({address:e,captchaToken:t}){try{return(await this.api.post(l1.a1,{address:e,token:t})).nonce}catch(e){throw(0,l1.M)(e)}}async authenticateWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i,mode:a}){return await this.api.post(l1.a2,{message:e,signature:t,chainId:r,walletClientType:n,connectorType:i,mode:a})}async linkWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i}){return await this.api.post(l1.a3,{message:e,signature:t,chainId:r,walletClientType:n,connectorType:i})}async linkSmartWallet({message:e,signature:t,smartWalletType:r}){try{return Mj(await this.api.post(l1.a4,{message:e,signature:t,smart_wallet_type:r}))}catch(e){throw(0,l1.M)(e)}}async linkWithSiwe({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i}){try{return Mj(await this.linkWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i}))}catch(e){throw(0,l1.M)(e)}}async generateSiwsNonce({address:e,captchaToken:t}){try{return(await this.api.post(l1.a5,{address:e,token:t})).nonce}catch(e){throw(0,l1.M)(e)}}async authenticateWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,mode:i,messageType:a="plain"}){return await this.api.post(l1.a6,{message:e,signature:t,walletClientType:r,connectorType:n,mode:i,message_type:a})}async sendAccountTransferRequest({nonce:e,account:t,accountType:r,externalWalletMetadata:n,telegramAuthResult:i,telegramWebAppData:a,farcasterEmbeddedAddress:s,oAuthUserInfo:o}){try{let l,c;switch(r){case"email":l=l1.ac,c={nonce:e,email:t};break;case"sms":l=l1.ab,c={nonce:e,phoneNumber:t};break;case"siwe":if(l=l1.aa,!n)throw Error("Wallet parameters must be defined");c={nonce:e,address:t,...n};break;case"farcaster":l=l1.a9,c={nonce:e,farcaster_id:t,farcaster_embedded_address:s};break;case"telegram":l=l1.a8,c={nonce:e,telegram_auth_result:i,telegram_web_app_data:a};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l=l1.a7,c={nonce:e,userInfo:o}}let d=await this.api.post(l,c);return await this.getAuthenticatedUser()??Mj(d)}catch(e){throw(0,l1.M)(e)}}async linkWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i="plain"}){return await this.api.post(l1.ad,{message:e,signature:t,walletClientType:r,connectorType:n,message_type:i})}async linkWithSiws({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i="plain"}){try{return Mj(await this.linkWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i}))}catch(e){throw(0,l1.M)(e)}}async updateUserAndIdToken(){try{let e=await this.api.get(l1.ae);return this.session.updateIdentityToken(e.identity_token),Mj(e.user)}catch(e){throw(0,l1.M)(e)}}async scanTransaction(e){try{return await this.api.post(l1.af,e)}catch(e){throw(0,l1.M)(e)}}constructor({apiUrl:e=$N,appId:t,appClientId:r,timeout:n=2e4}){Object.defineProperty(this,R2,{value:R5}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==$N&&e.startsWith("https://privy."),this.timeout=n,this.appId=t,this.appClientId=r,this.clientAnalyticsId=(function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e})(this,R2)[R2](),a||(a=new R0),this.session=a,this.api=this.generateApi(),this.session.client=this}}function R5(){if("undefined"==typeof window)return null;try{let e=$i.get($F);if("string"==typeof e&&e.length>0)return e}catch(e){}let e=rb();try{return $i.put($F,e),e}catch(t){return e}}let R4=({delayedExecution:e,...t})=>{let{enabled:r,siteKey:n,appId:i,setError:a,setToken:s,setExecuting:o,ref:l}=Mg(),[,c]=(0,f.useMemo)(()=>n?.split("t:")||[],[n]);if((0,f.useEffect)(()=>l.current?.remove,[]),!r)return null;if(!c)throw Error("Unsupported captcha site key");return(0,p.jsx)("div",{className:"hidden h-0 w-0",children:(0,p.jsx)(gR,{...t,ref:l,siteKey:c,options:{action:i,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{t.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:()=>{t.onError?.(),a("Captcha failed"),o(!1)},onSuccess:e=>{t.onSuccess?.(e),s(e),o(!1)},onExpire:()=>{t.onExpire?.();try{l.current?.reset(),a(void 0),s(void 0)}catch(e){a("expired_and_failed_reset")}}})})},R6=(0,f.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:l1.b,login:l1.b,connectOrCreateWallet:l1.b,linkEmail:l1.b,linkPhone:l1.b,linkFarcaster:l1.b,linkWallet:l1.b,startCrossAppAuthFlow:l1.b,linkGoogle:l1.b,linkTwitter:l1.b,linkDiscord:l1.b,linkGithub:l1.b,linkSpotify:l1.b,linkInstagram:l1.b,linkTelegram:l1.b,linkTiktok:l1.b,linkLinkedIn:l1.b,linkApple:l1.b,linkPasskey:l1.b,updateEmail:l1.b,updatePhone:l1.b,logout:l1.b,getAccessToken:l1.b,unlinkEmail:l1.b,unlinkPhone:l1.b,unlinkWallet:l1.b,unlinkGoogle:l1.b,unlinkTwitter:l1.b,unlinkDiscord:l1.b,unlinkGithub:l1.b,unlinkSpotify:l1.b,unlinkInstagram:l1.b,unlinkTiktok:l1.b,unlinkLinkedIn:l1.b,unlinkApple:l1.b,unlinkCrossAppAccount:l1.b,unlinkFarcaster:l1.b,unlinkTelegram:l1.b,unlinkPasskey:l1.b,signMessage:l1.b,signTypedData:l1.b,enrollInMfa:l1.b,initEnrollmentWithSms:l1.b,initEnrollmentWithTotp:l1.b,initEnrollmentWithPasskey:l1.b,promptMfa:l1.b,init:l1.b,submitEnrollmentWithSms:l1.b,submitEnrollmentWithTotp:l1.b,submitEnrollmentWithPasskey:l1.b,unenroll:l1.b,submit:l1.b,cancel:l1.b,sendTransaction:l1.b,signTransaction:l1.b,exportWallet:l1.b,setWalletPassword:l1.b,setWalletRecovery:l1.b,requestFarcasterSignerFromWarpcast:l1.b,getFarcasterSignerPublicKey:l1.b,signFarcasterMessage:l1.b,signMessageWithCrossAppWallet:l1.b,signTypedDataWithCrossAppWallet:l1.b,sendTransactionWithCrossAppWallet:l1.b,isModalOpen:!1,mfaMethods:[]}),R8=()=>(0,f.useContext)(R6),R9=e=>{let[t,r]=(0,f.useState)("auto");return(0,f.useEffect)(()=>{let t=new ResizeObserver(e=>{r(e[0]?.contentRect.height??"auto")});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}},[e.current]),t},R7={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},De=(0,f.createContext)(void 0),Dt=()=>(0,f.useContext)(De);function Dr(e,t){if(!t)return;let r=Dt().current[e];return(0,f.useEffect)(()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]=r[n]?.filter(e=>e!==i)}},[t])}function Dn(e,t,r,...n){for(let i of e.current[t][r])i(...n)}function Di(){let e=Dt();return(t,r,...n)=>Dn(e,t,r,...n)}let Da=yR.div.withConfig({displayName:"Grow",componentId:"sc-ddbf22b4-0"})(["text-align:left;flex-grow:1;"]),Ds=yR.div.withConfig({displayName:"AlignBottom",componentId:"sc-ddbf22b4-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),Do=yR.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-ddbf22b4-2"})(["display:flex;flex-direction:column;gap:12px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Dl=yR(Do).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-ddbf22b4-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:2px;"],e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),Dc=yM(["&&{width:100%;font-size:16px;line-height:24px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;padding:12px 16px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-mdlg);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}svg{height:24px;max-height:24px;max-width:24px;}}"]),Dd=yR.div.withConfig({displayName:"Subtitle",componentId:"sc-ddbf22b4-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Du=yR.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-ddbf22b4-5"})(["",""],Dc),Dh=yR.a.withConfig({displayName:"LoginMethodButtonLink",componentId:"sc-ddbf22b4-6"})(["",""],Dc),Dp=yR.div.withConfig({displayName:"Hide",componentId:"sc-ddbf22b4-7"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],e=>e.$if?"display: none;":""),Df=yR.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-ddbf22b4-8"})(["width:100%;height:100%;padding:",";"],e=>e.$withPadding?"64px 0px":"0px"),Dg=yR.div.withConfig({displayName:"Header",componentId:"sc-ddbf22b4-9"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),Dm=({success:e,fail:t})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Dy,{className:e?"success":t?"fail":""}),(0,p.jsx)(Dw,{className:e?"success":t?"fail":""})]}),Dy=yR.span.withConfig({displayName:"Loader",componentId:"sc-ce7792e2-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-success);border-bottom-color:var(--privy-color-success);}&&&.fail{border-color:var(--privy-color-error);border-bottom-color:var(--privy-color-error);}"],e=>e.color??"var(--privy-color-accent)"),Dw=yR(Dy).withConfig({displayName:"LoaderFaint",componentId:"sc-ce7792e2-1"})(["&&{border-bottom-color:",";animation:none;opacity:0.5;}"],e=>e.color??"var(--privy-color-accent)"),Dv=e=>(0,p.jsx)(Db,{color:e.color||"var(--privy-color-foreground-3)"}),Db=yR(Dy).withConfig({displayName:"StyledButtonLoader",componentId:"sc-ce7792e2-2"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]),Dx=yR.button.withConfig({displayName:"Button",componentId:"sc-b2dfb420-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{padding:12px 16px;}"]),DE=({children:e,loading:t,disabled:r,success:n,loadingText:i="Loading...",...a})=>(0,p.jsx)(DA,{disabled:t||r,$success:n,...a,children:t?(0,p.jsxs)("span",{children:[(0,p.jsx)(Dv,{}),i?(0,p.jsx)("span",{children:i}):null]}):e}),D_=({children:e,loading:t,disabled:r,...n})=>(0,p.jsx)(DC,{disabled:r,...n,children:t?(0,p.jsx)(Dv,{color:"var(--privy-color-foreground-accent)"}):e}),DC=yR(Dx).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-b2dfb420-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;pointer-events:none;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent-dark);}"]),Dk=({children:e,loading:t,disabled:r,loadingText:n="Loading...",...i})=>(0,p.jsx)(DA,{as:"a",disabled:t||r,...i,children:t?(0,p.jsxs)("span",{children:[(0,p.jsx)(Dv,{}),n?(0,p.jsx)("span",{children:n}):null]}):e}),DA=yR(Dx).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-b2dfb420-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}"," > span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",e=>e.disabled?yM(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;pointer-events:none;}"]):""),DI=({children:e,loading:t,disabled:r,loadingText:n="Loading...",...i})=>(0,p.jsx)(DS,{disabled:t||r,...i,children:t?(0,p.jsxs)("span",{children:[(0,p.jsx)(Dv,{}),n?(0,p.jsx)("span",{children:n}):null]}):e}),DS=yR(Dx).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-b2dfb420-3"})(["&&{border-width:1px;border-color:",";color:var(--privy-color-foreground);transition:border-color 200ms ease;}&:hover,&:active{border-color:",";}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-3);cursor:not-allowed;}> span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],e=>e.$warn?"var(--privy-color-error)":"var(--privy-color-foreground-4)",e=>e.$warn?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),DT=yR.button.withConfig({displayName:"SoftCtaButton",componentId:"sc-b2dfb420-4"})(["&&{padding:12px 16px;font-weight:500;text-align:center;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent);border-radius:var(--privy-border-radius-sm);min-width:144px;opacity:",";transition:opacity 200ms ease,background-color 200ms ease,color 200ms ease;user-select:none;"," &:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],e=>e.invisible?"0":"1",e=>e.invisible&&yM(["pointer-events:none;"])),DP=({children:e,onClick:t,disabled:r,isSubmitting:n,...i})=>(0,p.jsxs)(Dj,{$isSubmitting:n,onClick:t,disabled:r,...i,children:[(0,p.jsx)("span",{children:e}),(0,p.jsx)("span",{children:(0,p.jsx)(Dv,{})})]}),Dj=yR.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-b2dfb420-6"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],e=>+!e.$isSubmitting,e=>+!!e.$isSubmitting);function DN(e){return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...e,children:(0,p.jsx)("g",{fill:e.color||"var(--privy-color-foreground)",children:(0,p.jsx)("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let DO=yR.div.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-bdb69ecc-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);&& > a{color:var(--privy-color-accent);}"]);function D$({app:{legal:{privacyPolicyUrl:e,termsAndConditionsUrl:t,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!e||!t);return(!r||n)&&(t||e)?(0,p.jsxs)(DO,{children:["By logging in I agree to the"," ",t&&(0,p.jsx)("a",{href:t,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",e&&(0,p.jsx)("a",{href:e,target:"_blank",children:"Privacy Policy"})]}):(0,p.jsx)(DO,{})}let DM=()=>{let{appearance:e}=Rj();return(0,p.jsx)(DR,{children:e.footerLogo??(0,p.jsx)("a",{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:(0,p.jsx)(DN,{height:13,width:150})})})},DR=yR.div.withConfig({displayName:"ModalFooter",componentId:"sc-bdb69ecc-1"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),DD=({backFn:e})=>(0,p.jsx)("div",{children:(0,p.jsx)(DB,{onClick:e,children:(0,p.jsx)(yq,{height:"16px",width:"16px",strokeWidth:2})})}),DL=({infoFn:e})=>(0,p.jsx)("div",{children:(0,p.jsx)(DW,{"aria-label":"info",onClick:e,children:(0,p.jsx)(yH,{height:"22px",width:"22px",strokeWidth:2})})}),DU=e=>(0,p.jsx)("div",{children:(0,p.jsx)(DB,{"aria-label":"close modal",onClick:e.onClose,children:(0,p.jsx)(yV,{height:"16px",width:"16px",strokeWidth:2})})}),DF=({backFn:e,infoFn:t,onClose:r,title:n,closeable:i=!0})=>{let{closePrivyModal:a}=(0,l1.u)(),s=Rj();return(0,p.jsxs)(Dz,{children:[(0,p.jsxs)(Dq,{children:[e&&(0,p.jsx)(DD,{backFn:e}),t&&(0,p.jsx)(DL,{infoFn:t})]}),n&&(0,p.jsx)(DV,{id:"privy-dialog-title",children:n}),(0,p.jsx)(DH,{children:!s.render.standalone&&i&&(0,p.jsx)(DU,{onClose:r||(()=>a())})})]})},DB=yR.button.withConfig({displayName:"StyledButton",componentId:"sc-f295093d-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),DW=yR(DB).withConfig({displayName:"TransparentStyledButton",componentId:"sc-f295093d-1"})(["&&{background-color:transparent;}"]),Dz=yR.div.withConfig({displayName:"StyledHeader",componentId:"sc-f295093d-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Dq=yR.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-f295093d-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),DH=yR.div.withConfig({displayName:"RightActionContainer",componentId:"sc-f295093d-4"})(["flex:1;display:flex;justify-content:flex-end;"]),DV=yR.div.withConfig({displayName:"TitleContainer",componentId:"sc-f295093d-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]),DG=Array(6).fill("");var DK,DJ=((DK=DJ||{})[DK.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",DK[DK.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",DK);function DY(e){return/^[0-9]{1}$/.test(e)}function DZ(e){return 6===e.length&&e.every(DY)}let DQ=({onChange:e,disabled:t,errorReasonOverride:r,success:n})=>{let[i,a]=(0,f.useState)(DG),[s,o]=(0,f.useState)(null),[l,c]=(0,f.useState)(null),d=async t=>{t.preventDefault();let r=t.currentTarget.value.replace(/\s+/g,"");if(""===r)return;let n=i.reduce((e,t)=>e+Number(DY(t)),0),s=r.split(""),l=!s.every(DY),d=s.length+n>6;if(l)return o("Passcode can only be numbers"),void c(1);if(d)return o("Passcode must be exactly 6 numbers"),void c(1);o(null),c(null);let u=Number(t.currentTarget.name?.charAt(4)),h=[...r||[""]].slice(0,6-u),p=[...i.slice(0,u),...h,...i.slice(u+h.length)];a(p);let f=Math.min(Math.max(u+h.length,0),5),g=document.querySelector(`input[name=pin-${f}]`);if(g?.focus(),DZ(p))try{await e(p.join(""));let t=document.querySelector(`input[name=pin-${f}]`);t?.blur()}catch(e){c(1),o(e.message)}else try{await e(null)}catch(e){c(1),o(e.message)}},u=n?"success":r||s?"fail":"";return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(DX,{children:[(0,p.jsx)("div",{children:i.map((r,n)=>(0,p.jsx)("input",{name:`pin-${n}`,type:"text",value:i[n],onChange:d,onKeyUp:t=>{"Backspace"===t.key&&(t=>{1===l&&(o(null),c(null));let r=[...i.slice(0,t),"",...i.slice(t+1)];if(a(r),t>0){let e=document.querySelector(`input[name=pin-${t-1}]`);e?.focus()}DZ(r)?e(r.join("")):e(null)})(n)},inputMode:"numeric",autoFocus:0===n,pattern:"[0-9]",className:u,autoComplete:m.Fr?"one-time-code":"off",disabled:t},n))}),(0,p.jsx)("div",{children:(0,p.jsx)(D0,{$fail:!!r||!!s,children:r||s})})]})})},DX=yR.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),D0=yR.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),D1=({label:e,children:t,valueStyles:r})=>(0,p.jsxs)(D2,{children:[(0,p.jsx)("div",{children:e}),(0,p.jsx)(D3,{style:{...r},children:t})]}),D2=yR.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),D3=yR.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),D5=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),D4=e=>D5.format(e),D6=(e,t)=>{let r=D4(t*parseFloat(e));return"$0.00"!==r?r:"<$0.01"},D8=(e,t)=>{let r=D4(t*parseFloat((0,ra.c)(e)));return"$0.00"===r?"<$0.01":r},D9=(e,t,r=6,n=!1)=>`${D7(e,r,n)} ${t}`,D7=(e,t=6,r=!1)=>{let n=parseFloat((0,ra.c)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${"0"===n?"<0.001":n}`},Le=e=>e.reduce((e,t)=>e+t,0n),Lt=(e,t)=>{let{chains:r}=(0,l1.u)(),n=`https://etherscan.io/address/${t}`,i=`${((e,t)=>{let r=Number(e),n=t.find(e=>e.id===r);if(!n)throw new l1.g(`Unsupported chainId ${e}`,4901);return n.blockExplorers?.default.url})(e,r)}/address/${t}`;if(!i)return n;try{new URL(i)}catch{return n}return i};async function Lr(e,t){try{return await e}catch{return t}}let Ln="11111111111111111111111111111111",Li=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],La=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"],Ls=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function Lo(e,t=6,r=!1,n=!1){let i=(parseFloat(e.toString())/1e9).toFixed(t).replace(/0+$/,"").replace(/\.$/,""),a=n?"":" SOL";return r?`${i}${a}`:`${"0"===i?"<0.001":i}${a}`}function Ll(e,t){let r=parseFloat(e.toString())/1e9,n=Ls.format(t*r);return"$0.00"===n?"<$0.01":n}function Lc({amount:e,fee:t,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(e)*10**(n?6:9))),a=n?i:i+t;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?Ll(i,r):void 0,totalPriceInUsd:r?Ll(a,r):void 0,totalPriceInNativeCurrency:Lo(a),feePriceInNativeCurrency:Lo(t),feePriceInUsd:r?Ll(t,r):void 0}}let Ld={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Lu(e,t,r){let n=Ld[e];if(!n[r]){let i=await t.getSplTokenMetadata({mintAddress:r,cluster:e});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function Lh(e){return"version"in e}function Lp(e,t){let r=(Lh(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}function Lf(e,t,r){return{signature:e,parsedTransaction:r??null,signedTransaction:t,fees:BigInt(r?.meta?.fee||0)}}async function Lg(e,t){let{value:r}=await t.simulateTransaction(e);if("BlockhashNotFound"===r.err)throw Error("Simulation failed: Blockhash not found");return null==r.err&&r.logs?.every(e=>!/insufficient funds/gi.test(e))}async function Lm({tx:e,connection:t,client:r,checkFunds:n}){let i=Lh(e)?e.message:e.compileMessage(),a=i.staticAccountKeys[0]?.toBase58()??"",s=await async function(e,t){return BigInt((Lh(e)?(await t.getFeeForMessage(e.message)).value:await e.getEstimatedFee(t))??0)}(e,t),o=!n||await Lr(Lg(e,t),!0),l={},c=[],d=await async function(e,t){return[...e.staticAccountKeys.map(e=>e),...(await Promise.all(e.addressTableLookups.map(async e=>t.getAddressLookupTable(e.accountKey).then(({value:e})=>e)))).map((t,r)=>[...e.addressTableLookups[r]?.writableIndexes.map(e=>{let n=t?.state.addresses[e];if(n)return{key:n,isWritable:!0,altIdx:r}})??[],...e.addressTableLookups[r]?.readonlyIndexes.map(e=>{let n=t?.state.addresses[e];if(n)return{key:n,isWritable:!1,altIdx:r}})??[]]).flat().filter(e=>!!e).sort((e,t)=>e.isWritable!==t.isWritable?e.isWritable?-1:1:e.altIdx-t.altIdx).map(({key:e})=>e)]}(i,t);for(let e of i.compiledInstructions){let n=i.staticAccountKeys[e.programIdIndex]?.toBase58()||"";if("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"!==n&&"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"!==n)if(n!==Ln){if("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"===n){let t=await Lr(function(e,t,r){let[n,i,a,s]=e.accountKeyIndexes.map(e=>t[e]);return{type:"ata-creation",program:r,payer:n?.toBase58(),ata:i?.toBase58(),owner:a?.toBase58(),mint:s?.toBase58()}}(e,d,n));if(!t){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}if(c.push(t),t.ata&&t.owner&&t.mint){l[t.ata]={owner:t.owner,mint:t.mint};continue}}if(Li.includes(n)){let i=await Lr(Lb(e,d,t,r,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i)}else if(La.includes(n)){let i=await Lr(Lx(e,d,t,r,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i)}else c.push({type:"unknown",program:n,discriminator:e.data[0]})}else{let t=await Lr(Lv(e,d));if(!t){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(t)}else{let i=await Lr(Lw(e,d,t,r,l,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i),"spl-transfer"===i.type&&(i.fromAta&&i.fromAccount&&i.token.address&&(l[i.fromAta]??={owner:i.fromAccount,mint:i.token.address}),i.toAta&&i.toAccount&&i.token.address&&(l[i.toAta]??={owner:i.toAccount,mint:i.token.address}))}}return{spender:a,fee:s,instructions:c,hasFunds:!!o}}function Ly(e,t=0){try{return function(e,t=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(e[t+n])<<BigInt(8*n);return r}(e,t)}catch{}try{return e.readBigInt64LE(t)}catch{}let r=Mo(e);try{return((e,t=0)=>{let r=e[t],n=e[t+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(e[t+4]+256*e[t+5]+65536*e[t+6]+(n<<24))<<32n)+BigInt(r+256*e[++t]+65536*e[++t]+0x1000000*e[++t])})(r)}catch{}try{return r.subarray(t).readBigInt64LE()}catch{}try{return r.readBigInt64LE(t)}catch{}return 0n}async function Lw(e,t,r,n,i,a){let s=e.data[0],o=e.accountKeyIndexes.map(e=>t[e]);if(1===s){let[e,t,r]=o;return{type:"spl-init-account",program:a,account:e?.toBase58(),mint:t?.toBase58(),owner:r?.toBase58()}}if(3===s){let t,s,[l,c,d]=o,u="",h=c?i[c.toBase58()]:void 0;if(h)t=h.owner,u=h.mint;else if(c){let e=await r.getParsedAccountInfo(c,"confirmed"),n=e.value?.data;t=n?.parsed?.info?.owner,u=n?.parsed?.info?.mint??"",s=n?.parsed?.info?.tokenAmount?.decimals}if(!u&&l){let e=await r.getParsedAccountInfo(l,"confirmed"),t=e.value?.data;u=t?.parsed?.info?.mint??""}let p=R_(r.rpcEndpoint),f=await Lu(p,n,u),g=f?.symbol??"";return s??=f?.decimals??9,{type:"spl-transfer",program:a,fromAta:l?.toBase58(),fromAccount:d?.toBase58(),toAta:c?.toBase58(),toAccount:t,value:Ly(e.data,1),token:{symbol:g,decimals:s,address:u}}}if(9===s){let[e,t,r]=o;return{type:"spl-close-account",program:a,source:e?.toBase58(),destination:t?.toBase58(),owner:r?.toBase58()}}if(17===s)return{type:"spl-sync-native",program:a};throw Error(`Token program instruction type ${s} not supported`)}async function Lv(e,t){let r=e.data[0],n=e.accountKeyIndexes.map(e=>t[e]);if(0===r){let[,t]=n;return{type:"create-account",program:Ln,account:t?.toBase58(),value:Ly(e.data,4),withSeed:!1}}if(2===r){let[t,r]=n;return{type:"sol-transfer",program:Ln,fromAccount:t?.toBase58(),toAccount:r?.toBase58(),token:{symbol:"SOL",decimals:9},value:Ly(e.data,4),withSeed:!1}}if(3===r){let[,t]=n,r=Ly(e.data.slice(e.data.length-32-8-8));return{type:"create-account",program:Ln,account:t?.toBase58(),withSeed:!0,value:r}}if(11===r){let[t,r]=n;return{type:"sol-transfer",program:Ln,fromAccount:t?.toBase58(),toAccount:r?.toBase58(),value:Ly(e.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function Lb(e,t,r,n,i){let a=e.accountKeyIndexes.map(e=>t[e]?.toBase58()),s=e.data[0],o=R_(r.rpcEndpoint);if(143===s){let t=a[10],r=a[11];return{type:"raydium-swap-base-input",program:i,mintIn:t,mintOut:r,tokenIn:t?await Lu(o,n,t):void 0,tokenOut:r?await Lu(o,n,r):void 0,amountIn:Ly(e.data,8),minimumAmountOut:Ly(e.data,16)}}if(55===s){let t=a[10],r=a[11];return{type:"raydium-swap-base-output",program:i,mintIn:t,mintOut:r,tokenIn:t?await Lu(o,n,t):void 0,tokenOut:r?await Lu(o,n,r):void 0,maxAmountIn:Ly(e.data,8),amountOut:Ly(e.data,16)}}throw Error(`Raydium swap program instruction type ${s} not supported`)}async function Lx(e,t,r,n,i){let a=e.data[0],s=e.accountKeyIndexes.map(e=>t[e]),o=R_(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(a)){let t=s[5]?.toBase58(),r=s[6]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Lu(o,n,t):void 0,tokenOut:r?await Lu(o,n,r):void 0,outAmount:Ly(e.data,e.data.length-1-2-8-8),quotedInAmount:Ly(e.data,e.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(a)){let t=s[7]?.toBase58(),r=s[8]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Lu(o,n,t):void 0,tokenOut:r?await Lu(o,n,r):void 0,outAmount:Ly(e.data,e.data.length-1-2-8-8),quotedInAmount:Ly(e.data,e.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(a)){let t=s[7]?.toBase58(),r=s[8]?.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Lu(o,n,t):void 0,tokenOut:r?await Lu(o,n,r):void 0,inAmount:Ly(e.data,e.data.length-1-2-8-8),quotedOutAmount:Ly(e.data,e.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(a)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(a)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(a)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(a)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(a)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(a)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(a)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(a)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(a)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${a} not supported`)}let LE=({weiQuantities:e,tokenPrice:t,tokenSymbol:r})=>{let n=Le(e),i=t?D8(n,t):void 0,a=D9(n,r);return(0,p.jsx)(Lk,{children:i||a})},L_=({weiQuantities:e,tokenPrice:t,tokenSymbol:r})=>{let n=Le(e),i=t?D8(n,t):void 0,a=D9(n,r);return(0,p.jsx)(Lk,{children:i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(LA,{children:"USD"}),"<$0.01"===i?(0,p.jsxs)(LS,{children:[(0,p.jsx)(LI,{children:"<"}),"$0.01"]}):i]}):a})},LC=({quantities:e,tokenPrice:t,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=e.reduce((e,t)=>e+t,0n),a=t&&"SOL"===r&&9===n?Ll(i,t):void 0,s="SOL"===r&&9===n?Lo(i):`${(0,rs.J)(i,n)} ${r}`;return(0,p.jsx)(Lk,{children:a?(0,p.jsx)(p.Fragment,{children:"<$0.01"===a?(0,p.jsxs)(LS,{children:[(0,p.jsx)(LI,{children:"<"}),"$0.01"]}):a}):s})},Lk=yR.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-596cd423-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),LA=yR.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-596cd423-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),LI=yR.span.withConfig({displayName:"TinyLessThan",componentId:"sc-596cd423-2"})(["font-size:10px;"]),LS=yR.span.withConfig({displayName:"FlexCenter",componentId:"sc-596cd423-3"})(["display:flex;align-items:center;"]),LT=yR.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),LP=yR.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),Lj=yR.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),LN=yR(LP).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),LO=yR(LP).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),L$=yR.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),LM=yR.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),LR=yR.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),LD=yR.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),LL=yR.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),LU=yR.div.withConfig({displayName:"RelativeContainer",componentId:"sc-cb963810-11"})(["position:relative;"]),LF=yR.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],e=>e.height??"12"),LB=yR.div.withConfig({displayName:"Circle",componentId:"sc-cb963810-13"})(["background-color:var(--privy-color-accent);display:flex;justify-content:center;align-items:center;border-radius:50%;border-color:white;border-width:2px !important;"]),LW=({gas:e,tokenPrice:t,tokenSymbol:r})=>(0,p.jsxs)(L$,{style:{paddingBottom:"12px"},children:[(0,p.jsxs)(Lq,{children:[(0,p.jsx)(LV,{children:"Est. Fees"}),(0,p.jsx)("div",{children:(0,p.jsx)(L_,{weiQuantities:[BigInt(e)],tokenPrice:t,tokenSymbol:r})})]}),t&&(0,p.jsx)(LH,{children:`${D9(BigInt(e),r)}`})]}),Lz=({value:e,gas:t,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(e??0)+BigInt(t);return(0,p.jsxs)(L$,{children:[(0,p.jsxs)(Lq,{children:[(0,p.jsx)(LV,{children:"Total (including fees)"}),(0,p.jsx)("div",{children:(0,p.jsx)(L_,{weiQuantities:[BigInt(e||0),BigInt(t)],tokenPrice:r,tokenSymbol:n})})]}),r&&(0,p.jsx)(LH,{children:D9(i,n)})]})},Lq=yR.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),LH=yR.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),LV=yR.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]),LG=(0,f.createContext)(void 0),LK=(0,f.createContext)(void 0),LJ=({defaultValue:e,children:t})=>{let[r,n]=(0,f.useState)(e||null);return(0,p.jsx)(LG.Provider,{value:{activePanel:r,togglePanel:e=>{n(r===e?null:e)}},children:(0,p.jsx)(L0,{children:t})})},LY=({value:e,children:t})=>{let{activePanel:r,togglePanel:n}=(0,f.useContext)(LG),i=r===e;return(0,p.jsx)(LK.Provider,{value:{onToggle:()=>n(e),value:e},children:(0,p.jsx)(L5,{isActive:i?"true":"false","data-open":String(i),children:t})})},LZ=({children:e})=>{let{activePanel:t}=(0,f.useContext)(LG),{onToggle:r,value:n}=(0,f.useContext)(LK),i=t===n;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(L1,{onClick:r,"data-open":String(i),children:[(0,p.jsx)(L3,{children:e}),(0,p.jsx)(L8,{isactive:i?"true":"false",children:(0,p.jsx)(yG,{height:"16px",width:"16px",strokeWidth:"2"})})]}),(0,p.jsx)(L2,{})]})},LQ=({children:e})=>{let{activePanel:t}=(0,f.useContext)(LG),{value:r}=(0,f.useContext)(LK);return(0,p.jsx)(L4,{"data-open":String(t===r),children:(0,p.jsx)(L6,{children:e})})},LX=({children:e})=>{let{activePanel:t}=(0,f.useContext)(LG),{value:r}=(0,f.useContext)(LK);return(0,p.jsx)(L6,{children:"function"==typeof e?e({isActive:t===r}):e})},L0=yR.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),L1=yR.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),L2=yR.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),L3=yR.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),L5=yR.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),L4=yR.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),L6=yR.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),L8=yR.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],e=>"true"===e.isactive?"rotate(180deg)":"rotate(0deg)"),L9=({walletAddress:e,chainId:t=1,network:r,rpcEndpoint:n})=>{var i;return(0,p.jsx)(L7,{href:"ethereum"===r?Lt(t,e):(i=R_(n||""),`https://explorer.solana.com/account/${e}?cluster=${i}`),target:"_blank",children:$u(e)})},L7=yR.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]),Ue=({from:e,to:t,txn:r,transactionInfo:n,tokenPrice:i,gas:a,tokenSymbol:s})=>{let o=BigInt(r?.value||0);return(0,p.jsx)(LJ,{...Rj().render.standalone?{defaultValue:"details"}:{},children:(0,p.jsxs)(LY,{value:"details",children:[(0,p.jsx)(LZ,{children:(0,p.jsxs)(Ut,{children:[(0,p.jsx)("div",{children:n?.title||"Details"}),(0,p.jsx)(Ur,{children:(0,p.jsx)(LE,{weiQuantities:[o],tokenPrice:i,tokenSymbol:s})})]})}),(0,p.jsxs)(LQ,{children:[(0,p.jsx)(D1,{label:"From",children:(0,p.jsx)(L9,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),(0,p.jsx)(D1,{label:"To",children:(0,p.jsx)(L9,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&(0,p.jsx)(D1,{label:"Action",children:n.action}),a&&(0,p.jsx)(LW,{value:r.value,gas:a,tokenPrice:i,tokenSymbol:s})]}),(0,p.jsx)(LX,{children:({isActive:e})=>(0,p.jsx)(Lz,{value:r.value,displayFee:e,gas:a||"0x0",tokenPrice:i,tokenSymbol:s})})]})})},Ut=yR.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Ur=yR.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]),Un=({enabled:e=!0}={})=>{let{showFiatPrices:t,getUsdPriceForSol:r}=(0,l1.u)(),[n,i]=(0,f.useState)(!0),[a,s]=(0,f.useState)(void 0),[o,l]=(0,f.useState)(void 0);return(0,f.useEffect)(()=>{(async()=>{if(t&&e)try{i(!0);let e=await r();e?l(e):s(Error("Unable to fetch SOL price"))}catch(e){s(e)}finally{i(!1)}else i(!1)})()},[]),{solPrice:o,isSolPriceLoading:n,solPriceError:a}};function Ui(e){let{tokenPrice:t,isTokenPriceLoading:r,tokenPriceError:n}=(e=>{let{showFiatPrices:t,getUsdTokenPrice:r,chains:n}=(0,l1.u)(),[i,a]=(0,f.useState)(!0),[s,o]=(0,f.useState)(void 0),[l,c]=(0,f.useState)(void 0);return(0,f.useEffect)(()=>{e||=1;let i=Q(n).find(t=>t.id===Number(e));(async()=>{if(t){if(!i)return a(!1),o(Error(`Unable to fetch token price on chain id ${e}`));try{a(!0);let e=await r(i);e?c(e):o(Error(`Unable to fetch token price on chain id ${i.id}`))}catch(e){o(e)}finally{a(!1)}}else a(!1)})()},[e]),{tokenPrice:l,isTokenPriceLoading:i,tokenPriceError:s}})("solana"===e?-1:e),{solPrice:i,isSolPriceLoading:a,solPriceError:s}=Un({enabled:"solana"===e});return"solana"===e?{tokenPrice:i,isTokenPriceLoading:a,tokenPriceError:s}:{tokenPrice:t,isTokenPriceLoading:r,tokenPriceError:n}}let Ua=(0,f.createContext)(null);function Us(){let e=(0,f.useContext)(Ua);return null===e?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):e}async function Uo(e,t,r,n){let i=gT(e),a=await (async()=>n?await n():await t.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...a,type:gI[a.type]}}let Ul=({pendingTransaction:e})=>{let{getAccessToken:t}=R8(),{wallets:r}=Us(),{walletProxy:n,rpcConfig:i,chains:a,appId:s,nativeTokenSymbolForChainId:o}=(0,l1.u)(),[l,c]=(0,f.useState)(null),[d,u]=(0,f.useState)(e),{tokenPrice:h}=Ui(d.chainId),g=o(e.chainId)||"ETH",m=(0,f.useMemo)(()=>r.find(e=>"privy"===e.walletClientType),[r]);return(0,f.useEffect)(()=>{(async function(){if(!await t()||!n||!m)return d;let e=$l(d.chainId,a,i,{appId:s}),r=await Uo(d,e,m.address);return c((0,w.nj)(BigInt(r.gas??0))),r})().then(u).catch(console.error)},[n]),m?(0,p.jsx)(Uc,{children:(0,p.jsx)(Ue,{from:m.address,to:d.to,txn:d,gas:l??void 0,tokenPrice:h,tokenSymbol:g})}):null},Uc=yR.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-ec4f9711-0"})(["width:100%;padding:1rem 0;"]),Ud=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Uu extends Error{constructor(e,t){super(t),this.type=e}}function Uh(e){let t=e.type;return"string"==typeof t&&Ud.includes(t)}function Up(e){return Uh(e)&&"wallet_not_on_device"===e.type}function Uf(e){return!!Uh(e)&&"mfa_timeout"===e.type}function Ug(e){return!!Uh(e)&&"missing_or_invalid_mfa"===e.type}function Um(e){return!(!Uh(e)||!e.message.includes("code 429"))}function Uy(e){let t;return"string"==typeof(t=e.type)&&"client_error"===t&&"MFA canceled"===e.message}function Uw(){let{promptMfa:e,init:t,submit:r,cancel:n,mfaMethods:i}=(0,f.useContext)(R6);return{promptMfa:e,init:t,submit:r,cancel:n,mfaMethods:i}}let Uv=yR.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a63b1990-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Ub=yR.div.withConfig({displayName:"Title",componentId:"sc-a63b1990-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Ux=yR.div.withConfig({displayName:"SubTitle",componentId:"sc-a63b1990-2"})(["font-size:0.875rem;text-align:center;"]),UE=yR.div.withConfig({displayName:"Container",componentId:"sc-a63b1990-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),U_=yR.div.withConfig({displayName:"List",componentId:"sc-a63b1990-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),UC=yR.div.withConfig({displayName:"ListItemIcon",componentId:"sc-a63b1990-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Uk=yR.div.withConfig({displayName:"ListItem",componentId:"sc-a63b1990-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),UA=yR.div.withConfig({displayName:"BottomSection",componentId:"sc-a63b1990-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),UI=yR.div.withConfig({displayName:"MethodList",componentId:"sc-a63b1990-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),US=yR.div.withConfig({displayName:"MethodListItem",componentId:"sc-a63b1990-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),UT=yR.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-a63b1990-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),UP=yR.div.withConfig({displayName:"MethodText",componentId:"sc-a63b1990-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),Uj=yR.div.withConfig({displayName:"ExtraText",componentId:"sc-a63b1990-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],e=>e.isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),UN=yR.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-a63b1990-13"})(["width:100%;display:flex;justify-content:space-between;"]),UO=yR.p.withConfig({displayName:"TermsText",componentId:"sc-a63b1990-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),U$=yR.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-a63b1990-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],e=>"dark"===e.theme?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),UM=yR.div.withConfig({displayName:"IconWrapper",componentId:"sc-a63b1990-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),UR=yR.div.withConfig({displayName:"ErrorMessage",componentId:"sc-a63b1990-17"})(["color:var(--privy-color-error);"]),UD=yR.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),UL=({style:e,...t})=>(0,p.jsx)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),UU=({hasBlockingError:e,error:t,onClose:r,onBack:n,handleSubmit:i,account:a,submitSuccess:s})=>{let{pendingTransaction:o}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:r},"header"),(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:s,fail:!!t}),(0,p.jsx)(t?yJ:UL,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsx)(Ub,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),(0,p.jsxs)(U_,{children:[(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(yz,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(yK,{})}),"You last added a passkey on"," ",a?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),o&&(0,p.jsx)(UE,{children:(0,p.jsx)(Ul,{pendingTransaction:o})}),t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(UR,{style:{marginTop:"1.25rem"},children:t.message}),(0,p.jsx)(DE,{disabled:e,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&(0,p.jsx)(U$,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),(0,p.jsx)(DR,{})]})},UF=({open:e,onClose:t})=>{let{user:r}=R8(),[n,i]=(0,f.useState)(r?.mfaMethods[0]??null),{init:a,cancel:s,submit:o}=Uw(),[l,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1),[h,g]=(0,f.useState)(null),[m,y]=(0,f.useState)(null);(0,f.useEffect)(()=>{i(r?.mfaMethods[0]??null)},[r?.mfaMethods]);let w=(0,f.useRef)(!1);(0,f.useEffect)(()=>{!w.current&&n&&e&&(w.current=!0,x(n).finally(()=>{w.current=!1}))},[e]);let v=e=>!function(e){return!!Uh(e)&&"mfa_verification_max_attempts_reached"===e.type}(e)?Ug(e)?(c(!1),Error("The code you entered is not valid")):Uf(e)?(c(!0),Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")):(console.error(e),c(!1),Error("Something went wrong.")):(c(!0),Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."));async function b(e){y(null);try{if(!e||!n)return;await o(n,e),u(!0),c(!1),t()}catch(e){throw v(e)}}async function x(e){if("passkey"!==e)try{i(e),await a(e)}catch(e){console.error(e)}else try{i(e);let r=await a(e);if(!r)throw Error("something went wrong");g(r),await o(e,r),u(!0),c(!1),t()}catch(e){y(v(e))}}let E=()=>{i(null),y(null),s(),t()};return e&&r?"passkey"===n?(0,p.jsx)(UU,{account:r.linkedAccounts.filter(e=>"passkey"===e.type&&e.enrolledInMfa).sort((e,t)=>t.firstVerifiedAt.valueOf()-e.firstVerifiedAt.valueOf())[0],selectedMethod:n,submitSuccess:d,hasBlockingError:l,error:m,onClose:E,onBack:()=>{i(null),y(null)},handleSubmit:()=>b(h).catch(y)}):n?(0,p.jsx)(UB,{submitSuccess:d,hasBlockingError:l,handleSubmitCode:b,selectedMethod:n,onClose:E,onBack:r.mfaMethods.length>1?()=>i(null):void 0}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yz,{})}),(0,p.jsx)(Ub,{children:"Verify your identity"}),(0,p.jsx)(Ux,{children:"Choose a verification method"}),(0,p.jsxs)(UI,{children:[r.mfaMethods.includes("totp")&&(0,p.jsxs)(Du,{onClick:()=>x("totp"),children:[(0,p.jsx)(yF,{}),"Authenticator App"]},"totp"),r.mfaMethods.includes("sms")&&(0,p.jsxs)(Du,{onClick:()=>x("sms"),children:[(0,p.jsx)(yW,{}),"SMS"]},"sms"),r.mfaMethods.includes("passkey")&&(0,p.jsxs)(Du,{onClick:()=>x("passkey"),children:[(0,p.jsx)(yB,{}),"Passkey"]},"passkey")]}),(0,p.jsx)(DR,{})]}):null},UB=({selectedMethod:e,submitSuccess:t,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:a})=>{let{app:s}=RM(),{pendingTransaction:o}=(0,l1.u)();switch(e){case"sms":return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:n},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yW,{})}),(0,p.jsx)(Ub,{children:"Enter verification code"}),(0,p.jsxs)(UE,{children:[(0,p.jsx)(DQ,{success:t,disabled:r,onChange:a}),(0,p.jsxs)(Ux,{children:["To continue, please enter the 6-digit code sent to your ",(0,p.jsx)("strong",{children:"mobile device"})]}),o&&(0,p.jsx)(Ul,{pendingTransaction:o})]}),i&&(0,p.jsx)(U$,{theme:s?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,p.jsx)(DI,{onClick:n,children:"Not now"}),(0,p.jsx)(DR,{})]});case"totp":return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:n},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yF,{})}),(0,p.jsx)(Ub,{children:"Enter verification code"}),(0,p.jsxs)(UE,{children:[(0,p.jsx)(DQ,{success:t,disabled:r,onChange:a}),(0,p.jsxs)(Ux,{children:["To continue, please enter the 6-digit code generated from your"," ",(0,p.jsx)("strong",{children:"authenticator app"})]}),o&&(0,p.jsx)(Ul,{pendingTransaction:o})]}),i&&(0,p.jsx)(U$,{theme:s?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,p.jsx)(DI,{onClick:n,children:"Not now"}),(0,p.jsx)(DR,{})]});default:return null}},UW=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=yM.apply(void 0,gL([e],t,!1)),i="sc-global-".concat(mR(JSON.stringify(n))),a=new yD(n,i),s=function(e){var t=yb(),r=f.useContext(yP),n=f.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&o(n,e,t.styleSheet,r,t.stylis),f.useLayoutEffect(function(){if(!t.styleSheet.server)return o(n,e,t.styleSheet,r,t.stylis),function(){return a.removeStyles(n,t.styleSheet)}},[n,e,t.styleSheet,r,t.stylis]),null};function o(e,t,r,n,i){if(a.isStatic)a.renderStyles(e,mE,r,i);else{var o=gD(gD({},t),{theme:mk(t,n,s.defaultProps)});a.renderStyles(e,o,r,i)}}return f.memo(s)}([":root{--privy-border-radius-sm:6px;--privy-border-radius-md:12px;--privy-border-radius-mdlg:16px;--privy-border-radius-lg:24px;--privy-border-radius-full:9999px;--privy-color-background:",";--privy-color-background-2:",";--privy-color-background-3:",";--privy-color-foreground:",";--privy-color-foreground-2:",";--privy-color-foreground-3:",";--privy-color-foreground-4:",";--privy-color-foreground-accent:",";--privy-color-accent:",";--privy-color-accent-light:",";--privy-color-accent-lightest:",";--privy-color-accent-dark:",";--privy-color-accent-darkest:",";--privy-color-success:",";--privy-color-success-dark:",";--privy-color-success-light:",";--privy-color-error:",";--privy-color-error-light:",";--privy-color-warn:",";--privy-color-warn-light:",";--privy-height-modal-full:620px;--privy-height-modal-compact:480px;};"],e=>e.theme.background,e=>e.theme.background2,e=>e.theme.background3,e=>e.theme.foreground,e=>e.theme.foreground2,e=>e.theme.foreground3,e=>e.theme.foreground4,e=>e.theme.foregroundAccent,e=>e.theme.accent,e=>e.theme.accentLight,e=>e.theme.accentLightest,e=>e.theme.accentDark,e=>e.theme.accentDarkest,e=>e.theme.success,e=>e.theme.successDark,e=>e.theme.successLight,e=>e.theme.error,e=>e.theme.errorLight,e=>e.theme.warn,e=>e.theme.warnLight),Uz=yR.div.withConfig({displayName:"StylesWrapper",componentId:"sc-bc1e45b4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 1px var(--privy-color-accent-light);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],"\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-width: 0;\n    border-style: solid;\n  }\n\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -moz-tab-size: 4;\n  tab-size: 4;\n  font-feature-settings: normal;\n\n  margin: 0;\n  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n\n  abbr:where([title]) {\n    text-decoration: underline dotted;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n    display: inline;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;\n    font-size: 1em;\n  }\n\n  small {\n    font-size: 80%;\n  }\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    font-weight: inherit;\n    line-height: inherit;\n    color: inherit;\n    margin: 0;\n    padding: 0;\n  }\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n    background-color: transparent;\n    background-image: none;\n  }\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  [type='search'] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n\n  summary {\n    display: list-item;\n  }\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  ol,\n  ul,\n  menu {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role='button'] {\n    cursor: pointer;\n  }\n\n  :disabled {\n    cursor: default;\n  }\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n  }\n\n  img,\n  video {\n    max-width: 100%;\n    height: auto;\n  }\n\n  [hidden] {\n    display: none;\n  }\n"),Uq=({children:e,open:t,onClick:r,...n})=>(0,p.jsx)(wO,{show:t,as:f.Fragment,children:(0,p.jsxs)(bl,{onClose:r,...n,as:UV,children:[(0,p.jsx)(wN,{as:f.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,p.jsx)(UH,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),(0,p.jsx)(UG,{children:(0,p.jsx)(wN,{as:f.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,p.jsx)(bo,{as:UK,children:e})})})]})}),UH=yR.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),UV=yR.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),UG=yR.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]),UK=yR.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),UJ=yR.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]),UY=({isMfaVerifying:e,onMfaVerificationComplete:t})=>{let{ready:r,isModalOpen:n}=R8(),{headless:i}=Rj(),{currentScreen:a}=RM(),{status:s,execute:o,reset:l,enabled:c}=Mg(),d=n&&a&&a.isCaptchaRequired&&!i&&"ready"===s;return(0,f.useEffect)(()=>{d&&o()},[d]),(0,f.useEffect)(()=>{!n&&c&&l()},[n,c]),a&&!r&&a.isShownBeforeReady?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsx)(LD,{}),(0,p.jsx)(UJ,{children:(0,p.jsx)(Dy,{})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DR,{})]}):!a&&e?(0,p.jsx)(UF,{open:e,onClose:t}):a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Dp,{$if:!!e,children:(0,p.jsx)(a.component,{})}),(0,p.jsx)(Dp,{$if:!e,children:(0,p.jsx)(UF,{open:e,onClose:t})})]}):null},UZ=({isMfaVerifying:e,onMfaVerificationComplete:t})=>{let r=(0,f.useRef)(null);return(0,p.jsx)(U0,{style:{height:R9(r)},id:"privy-modal-content",children:(0,p.jsx)("div",{ref:r,children:(0,p.jsx)(UY,{isMfaVerifying:e,onMfaVerificationComplete:t})})})},UQ=({open:e})=>{let t=Rj(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:e}=(0,l1.u)(),{onUserCloseViaDialogOrKeybindRef:t}=RM();return{gracefulClosePrivyModal:(0,f.useCallback)(()=>{if(!t?.current)return e({shouldCallAuthOnSuccess:!1});t.current()},[e])}})(),[n,i]=(0,f.useState)(!1);Dr("configureMfa",{onMfaRequired:()=>{t.mfa.noPromptOnMfaRequired||i(!0)}});let a=e||n;return t.render.standalone?(0,p.jsx)(Uz,{children:(0,p.jsx)(UX,{id:"privy-modal-content",children:(0,p.jsx)(UY,{isMfaVerifying:n,onMfaVerificationComplete:()=>i(!1)})})}):(0,p.jsx)(Uq,{open:a,id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:(0,p.jsx)(Uz,{children:(0,p.jsx)(UZ,{isMfaVerifying:n,onMfaVerificationComplete:()=>i(!1)})})})},UX=yR.div.withConfig({displayName:"ContentWrapper",componentId:"sc-df48cc55-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),U0=yR(UX).withConfig({displayName:"BaseModal",componentId:"sc-df48cc55-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function U1(e){let t=(0,f.useRef)(null),r=(0,f.useRef)();return(0,f.useEffect)(()=>{r.current?.remove(),r.current=function({botUsername:e,scriptHost:t}){let r=document.createElement("script"),{origin:n}=new URL(t);return r.async=!0,r.src=`${n}/js/telegram-login.js`,r.setAttribute("data-telegram-login",e),r.setAttribute("data-request-access","write"),r.setAttribute("data-lang","en"),r}(e),t.current?.after(r.current)},[e]),(0,p.jsx)("div",{ref:t,hidden:!0})}let U2=()=>{let{solanaWallets:e}=(0,l1.u)(),{ready:t,wallets:r}=Us();return(0,f.useEffect)(()=>{if(t){let t=[...r,...e].map(e=>({address:e.address,connectorType:e.connectorType,walletClientType:e.walletClientType,connectedAt:e.connectedAt,id:e.meta.id}));$i.put($J,t)}},[t,r,e]),null};async function U3(e,t,r,n,i,a=!1){let s=a,o=async o=>{if(s&&t&&t.length>0){o===+!a?i("configureMfa","onMfaRequired",{mfaMethods:t}):n.current?.reject(new Uu("missing_or_invalid_mfa","MFA verification failed, retry."));let s=await new Promise((e,t)=>{r.current={resolve:e,reject:t},setTimeout(()=>{let e=new Uu("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(e),t(e)},3e5)});return await e(s)}return await e()},l=null;for(let e=0;e<4;e++)try{l=await o(e),n.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw n.current?.resolve(void 0),e;s=!0}if(null===l){let e=new Uu("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(e),e}return l}let U5=(qe=0,()=>"id-"+qe++);function U4(e){return void 0!==e.error}let U6=new class{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}},U8=new Map,U9=(e,t)=>"bigint"==typeof t?t.toString():t;function U7(e,t,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let a=`${e}${JSON.stringify(t,U9)}`;if("privy:wallet:create"===e){let e=U8.get(a);if(e)return e}let s=new Promise((r,a)=>{let s=U5();U6.enqueue(s,{resolve:r,reject:a}),i.postMessage({id:s,event:e,data:t},n)}).finally(()=>{U8.delete(a)});return U8.set(a,s),s}function Fe(e){let t=RN(),r=(0,f.useRef)(null),n=(0,f.useRef)(e.mfaMethods),i=Di(),[a,s]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{n.current=e.mfaMethods},[e.mfaMethods]),(0,f.useEffect)(()=>{if(!a)return;let t=r.current;if(!t)return;function s(t){var r;t&&t.origin===e.origin&&"string"==typeof(r=t.data).event&&/^privy:.+/.test(r.event)&&function(e){switch(e.event){case"privy:iframe:ready":let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data);case"privy:user-signer:sign":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:add":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:set-recovery":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:connect":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:recover":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:rpc":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallet:create":let r=U6.dequeue(e.event,e.id);return U4(e)?r.reject(new Uu(e.error.type,e.error.message)):r.resolve(e.data);case"privy:wallets:import":let n=U6.dequeue(e.event,e.id);return U4(e)?n.reject(new Uu(e.error.type,e.error.message)):n.resolve(e.data);case"privy:mfa:verify":let i=U6.dequeue(e.event,e.id);return U4(e)?i.reject(new Uu(e.error.type,e.error.message)):i.resolve(e.data);case"privy:mfa:init-enrollment":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:submit-enrollment":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:unenroll":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:clear":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:auth:unlink-passkey":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:solana-wallet:create":let a=U6.dequeue(e.event,e.id);return U4(e)?a.reject(new Uu(e.error.type,e.error.message)):a.resolve(e.data);case"privy:farcaster:init-signer":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:farcaster:sign":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:delegated-actions:consent":{let t=U6.dequeue(e.event,e.id);return U4(e)?t.reject(new Uu(e.error.type,e.error.message)):t.resolve(e.data)}default:console.warn("Unsupported wallet proxy method:",e)}}(t.data)}let o={signWithUserSigner:r=>U3(n=>U7("privy:user-signer:sign",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),addWallet:r=>U3(n=>U7("privy:wallets:add",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),setRecovery:r=>U3(n=>U7("privy:wallets:set-recovery",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),connect:r=>U3(n=>U7("privy:wallets:connect",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),recover:r=>U3(n=>U7("privy:wallets:recover",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i,!r.recoveryAccessToken&&!r.recoveryPassword&&!r.recoverySecretOverride),rpc:r=>U3(n=>U7("privy:wallets:rpc",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),create:r=>U7("privy:wallet:create",r,t,e.origin),importWallet:r=>U7("privy:wallets:import",r,t,e.origin),createSolana:r=>U3(n=>U7("privy:solana-wallet:create",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),createDelegatedAction:r=>U7("privy:delegated-actions:consent",r,t,e.origin),verifyMfa:r=>U3(n=>U7("privy:mfa:verify",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i,!0),initEnrollMfa:r=>U3(n=>U7("privy:mfa:init-enrollment",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),submitEnrollMfa:r=>U3(n=>U7("privy:mfa:submit-enrollment",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),unenrollMfa:r=>U3(n=>U7("privy:mfa:unenroll",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),clearMfa:r=>U7("privy:mfa:clear",r,t,e.origin),unlinkPasskeyAccount:r=>U3(n=>U7("privy:auth:unlink-passkey",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),initFarcasterSigner:r=>U7("privy:farcaster:init-signer",r,t,e.origin),signFarcasterMessage:r=>U7("privy:farcaster:sign",r,t,e.origin)};window.addEventListener("message",s);let l=new AbortController;return $f(()=>U7("privy:iframe:ready",{},t,e.origin),{abortSignal:l.signal}).then(()=>e.onLoad(o),(...t)=>{console.warn("Privy iframe failed to load: ",...t),e.onLoadFailed()}),()=>{window.removeEventListener("message",s),l.abort()}},[a]),t?(0,p.jsx)("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>s(!0),src:$g(e.origin,`/apps/${e.appId}/embedded-wallets`,{caid:e.clientAnalyticsId,client_id:e.appClientId})}):null}let Ft=({address:e,user:t})=>{let r=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!r)throw new l1.P("Address to delegate is not associated with current user.");return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},Fr=({address:e,user:t})=>{let r=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!r)throw new l1.P("Address to delegate is not associated with current user.");let n=r.imported?r:MP(t);if(!n)throw new l1.P("Unable to determine root address for delegated address.");return{address:n.address,chainType:n.chainType,imported:n.imported}},Fn=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.delegated);async function Fi({accessToken:e,entropyId:t,entropyIdVerifier:r,transactingWalletIndex:n,walletProxy:i,transactionRequest:a,requesterAppId:s}){return(await i.rpc({entropyId:t,entropyIdVerifier:r,hdWalletIndex:n??0,chainType:"ethereum",accessToken:e,requesterAppId:s,request:{method:"eth_signTransaction",params:[a]}})).response.data}let Fa=()=>{let e=Rj();(0,f.useEffect)(()=>{(async e=>{let t=new URL("v3/wallets","https://explorer-api.walletconnect.com");t.searchParams.append("projectId",e);let r=await fetch(t);return r.ok?Object.values((await r.json()).listings).sort(({slug:e},{slug:t})=>"rainbow"===e&&"metamask"===t?1:"metamask"===e||"rainbow"===e?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(e.walletConnectCloudProjectId).then(e=>Rp({listings:e})).catch(console.error)},[e.walletConnectCloudProjectId])};function Fs(e){let t=e.replace("eip155:","");if(t)return parseInt(t);throw Error("Chain ID not compatible with CAIP-2 format.")}let Fo="popup-privy-oauth",Fl="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class Fc{async authenticate(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.o,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw(0,l1.f)(e)}}async link(){if(!this.api)throw new l1.P("Auth flow has no API instance");try{return await this.api.post(l1.l,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw(0,l1.f)(e)}}constructor({authorizationCode:e,stateCode:t,codeVerifier:r,provider:n}){this.meta={authorizationCode:e,stateCode:t,codeVerifier:r,provider:n}}}async function Fd({api:e,requesterAppId:t,providerAppId:r}){let n=(await e.get(`/api/v1/apps/${t}/cross-app/connections`)).connections.find(e=>e.provider_app_id===r);if(!n)throw new l1.P("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only}}let Fu=()=>window.open(void 0,void 0,Fh({w:440,h:680})),Fh=({w:e,h:t})=>{let r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i-e)/2/(i/window.screen.availWidth)+r},top=${(a-t)/2/(a/window.screen.availHeight)+n}`},Fp=async({user:e,address:t,client:r,request:n,requesterAppId:i,reconnect:a})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:t,method:n.method}});let s=e?.linkedAccounts.find(e=>"cross_app"===e.type&&(e.embeddedWallets.some(e=>e.address===t)||e.smartWallets.some(e=>e.address===t)));if(!e||!s)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:t}}),new l1.P("Cannot request a signature with this wallet address");let o=r.getProviderAccessToken(s.providerApp.id),l=await Fd({api:r.api,requesterAppId:i,providerAppId:s.providerApp.id});if(!o){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new l1.P("Cannot transact against a read-only provider app");await a({appId:s.providerApp.id,action:"link"})&&(o=r.getProviderAccessToken(s.providerApp.id))}if(!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:t}}),new l1.P("Transactions require a valid token");let c=Fu();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:t}}),new l1.P("Failed to initialize signature request");let d=new URL(`${l.apiUrl}/oauth/transact`);return d.searchParams.set("token",o||""),d.searchParams.set("request",Ff(n)),c.location=d.href,new Promise((e,i)=>{let a=setTimeout(()=>{d(),i(new l1.P("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:t}})},12e4),o=setInterval(()=>{c.closed&&(d(),i(new l1.P("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:t}}))},300),l=a=>{a.data&&("set"===a.data.token?.action&&void 0!==a.data.token?.value?r.storeProviderAccessToken(s.providerApp.id,a.data.token.value):"clear"===a.data.token?.action&&r.storeProviderAccessToken(s.providerApp.id,null),"PRIVY_CROSS_APP_ACTION_RESPONSE"===a.data.type&&a.data.result&&(d(),e(a.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:t,method:n.method}})),"PRIVY_CROSS_APP_ACTION_ERROR"===a.data.type&&a.data.error&&(d(),i(a.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:a.data.error,address:t}})))};window.addEventListener("message",l);let d=()=>{c.close(),clearInterval(o),clearTimeout(a),window.removeEventListener("message",l)}})},Ff=e=>JSON.stringify({content:{request:{request:Fg(e,w.nj)}},timestamp:Date.now(),callbackUrl:window.origin}),Fg=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>Fg(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[e,Fg(r,t)])):e,Fm=({title:e,description:t,children:r,...n})=>(0,p.jsx)(Fv,{...n,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{children:e}),"string"==typeof t?(0,p.jsx)("p",{children:t}):t,r]})}),Fy=yR(Fm).withConfig({displayName:"PaddedScreenHeader",componentId:"sc-523a75d6-0"})(["margin-bottom:24px;"]),Fw=({title:e,description:t,icon:r,children:n,...i})=>(0,p.jsxs)(Fb,{...i,children:[r||null,(0,p.jsx)("h3",{children:e}),t&&"string"==typeof t?(0,p.jsx)("p",{children:t}):t,n]}),Fv=yR.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),Fb=yR(Fv).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]),Fx=e=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...e,children:[(0,p.jsx)("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#3E82F4"}),(0,p.jsx)("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),FE=({style:e,...t})=>(0,p.jsxs)("svg",{width:"16",height:"14",style:e,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,p.jsxs)("g",{clipPath:"url(#clip0_2115_829)",children:[(0,p.jsx)("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),(0,p.jsx)("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),(0,p.jsx)("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),(0,p.jsx)("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),(0,p.jsx)("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),(0,p.jsx)("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_2115_829",children:(0,p.jsx)("rect",{width:"16",height:"14",fill:"white"})})})]});async function F_({url:e,popup:t,provider:r}){return t.location=e,new Promise((e,r)=>{function n(){t?.close(),window.removeEventListener("message",i)}function i(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(e(t.data),n()),"https://cdn.apple-cloudkit.com"===t.origin&&t.data.ckSession&&(e({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:t.data.ckSession}),n()),"PRIVY_OAUTH_ERROR"===t.data.type&&(r(t.data.error),n()))}window.addEventListener("message",i)})}async function FC({api:e,provider:t,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new l1.P("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===i)throw new l1.P("User denied confirmation during OAuth flow");try{return(await e.post(l1.ag,{authorization_code:i,state_code:r,code_verifier:n,provider:t})).access_token}catch(t){let e=(0,l1.f)(t);if(e.privyErrorCode)throw new l1.P(e.message||"Invalid code during OAuth flow.",void 0,e.privyErrorCode);if("User denied confirmation during OAuth flow"===e.message)throw new l1.P("Invalid code during oauth flow.",void 0,l1.a.OAUTH_USER_DENIED);throw new l1.P("Invalid code during OAuth flow.",void 0,l1.a.UNKNOWN_AUTH_ERROR)}}async function Fk({api:e,provider:t}){let r=$Z(),n=$Z(),i=await $Q(r);try{return"icloud"===t?{url:(await e.post(l1.ah,{client_type:"web"})).url}:{url:(await e.post(l1.ai,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:t}}catch(e){throw(0,l1.f)(e)}}let FA=(e,{chainType:t,walletIndex:r}={})=>e?.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&(void 0===r||e.walletIndex===r)&&(void 0===t||e.chainType===t))??[],FI=async({user:e,accessToken:t,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:a,recoverEmbeddedWallet:s,setUser:o,walletIndex:l,chainType:c,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})=>{if(0===l)if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await X(i,{request:{chain_type:c}});else if("ethereum"===c){let n=MA(e);n&&await s({address:n.address}),await r.create({accessToken:t,solanaAddress:n?.address,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}else{if("solana"!==c)throw Error("Invalid input to create wallet");{let n=MC(e);n&&await s({address:n.address}),await r.createSolana({accessToken:t,ethereumAddress:n?.address,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}}else if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await X(i,{request:{chain_type:c}});else{let{entropyId:n,entropyIdVerifier:i}=MO(e);await s(),await r.addWallet({accessToken:t,entropyId:n,entropyIdVerifier:i,chainType:c,hdWalletIndex:l})}let p=await n(),f=FA(p,{chainType:c,walletIndex:l})[0];return o(p),{user:p,account:f}},FS=()=>{let{getAccessToken:e}=R8(),{walletProxy:t,recoverEmbeddedWallet:r,setUser:n,refreshSessionAndUser:i,privy:a}=(0,l1.u)(),s=Rj();return{create:async({walletIndex:o,chainType:l,latestUser:c,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})=>{let p=c;p||(p=await i());let f=await e();if(!p||!f||!t)throw Error("User must be authenticated before creating a Privy wallet");return await FI({appConfig:s,user:p,refreshSessionAndUser:i,privy:a,accessToken:f,proxy:t,recoverEmbeddedWallet:r,setUser:n,walletIndex:o,chainType:l,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}}},FT={component:()=>{let{user:e}=R8(),{closePrivyModal:t,isNewUserThisSession:r,updateWallets:n}=(0,l1.u)(),{app:i,data:a,onUserCloseViaDialogOrKeybindRef:s}=RM(),{onSuccess:o,onFailure:l,callAuthOnSuccessOnClose:c}=a.createWallet,d=()=>{let r=MC(e)??MA(e);e&&r?(n(),o({user:e,account:r})):l(Error("Failed to create wallet")),t({shouldCallAuthOnSuccess:c})};return(0,f.useEffect)(()=>{let e=setTimeout(d,2500);return()=>clearTimeout(e)},[]),s.current=d,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:d}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(OA,{fill:"var(--privy-color-accent)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:r?"Welcome"+(i?.name?` to ${i?.name}`:""):"All set!",description:r?"Youve successfully created an account.":"Your account is secured."})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},FP=yR.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Fj=yR.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]),FN={"google-drive":{name:"Google Drive",component:FE},icloud:{name:"iCloud",component:Fx}},FO={component:()=>{let{logout:e}=R8(),{navigate:t,setModalData:r,data:n}=RM(),{closePrivyModal:i,createAnalyticsEvent:a}=(0,l1.u)(),{execute:s}=(()=>{let{client:e,walletProxy:t,refreshSessionAndUser:r}=(0,l1.u)(),{data:n}=RM(),{getAccessToken:i,user:a}=R8(),s=Di(),{create:o}=FS();return{execute:async({provider:l,action:c,popup:d,shouldCreateEth:u,shouldCreateSol:h})=>{let p,f;if(!e)throw new l1.P("Missing client");function g(t){if(!t&&e)throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:l}}),new l1.P("Recovery OAuth failed")}switch(l){case"google-drive":{let t,r,{url:n,codeVerifier:a,stateCode:s}=await Fk({api:e.api,provider:l});g(n);try{let i=await F_({url:n,popup:d,provider:l});if(t=i.stateCode,r=i.authorizationCode,t!==s)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:l,storedStateCode:s??"",returnedStateCode:t??""}}),new l1.P("Unexpected auth flow. This may be a phishing attempt.",void 0,l1.a.OAUTH_UNEXPECTED)}catch(t){throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:t.toString(),provider:l}}),new l1.P("Recovery OAuth failed")}[p,f]=await Promise.all([i(),FC({api:e.api,provider:l,codeVerifier:a,stateCode:t,authorizationCode:r})]);break}case"icloud":{let{url:t}=await Fk({api:e.api,provider:l});g(t);let{ckWebAuthToken:r}=await F_({url:t,popup:d,provider:l});f=r,p=await i()}}if(!t)throw new l1.P("Cannot connect to wallet proxy");if(!p)throw new l1.P("Unable to authorize user");switch(c){case"recover":{let r=n?.recoverWallet?.entropyId,i=n?.recoverWallet?.entropyIdVerifier;if(!r||!i)throw new l1.P("Recovery OAuth failed");e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:r,recoveryMethod:l}}),await t.recover({accessToken:p,entropyId:r,entropyIdVerifier:i,recoveryAccessToken:f}),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:r,recoveryMethod:l}});break}case"create-wallet":{let t;if(e.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),u&&h)t=await o({recoveryMethod:l,recoveryAccessToken:f,chainType:"ethereum",walletIndex:0,latestUser:a}),t=await o({chainType:"solana",walletIndex:0,latestUser:t.user});else if(h)t=await o({recoveryMethod:l,recoveryAccessToken:f,chainType:"solana",walletIndex:0,latestUser:a});else{if(!u)throw Error("Invalid args to create wallet");t=await o({recoveryMethod:l,recoveryAccessToken:f,chainType:"ethereum",walletIndex:0,latestUser:a})}if(!t)throw s("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:t.account.address}}),s("createWallet","onSuccess",{wallet:t.account});break}case"set-recovery":{let n=MP(a);if(!n)throw s("setWalletRecovery","onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:n.address,existingRecoveryMethod:n.recoveryMethod,targetRecoveryMethod:l}});let{entropyId:i,entropyIdVerifier:o}=MO(a);await t.setRecovery({accessToken:p,entropyId:i,entropyIdVerifier:o,recoveryMethod:l,recoveryAccessToken:f});let c=MP(await r());if(!c)throw s("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:n.address,existingRecoveryMethod:n.recoveryMethod,targetRecoveryMethod:l}}),s("setWalletRecovery","onSuccess",{method:l,wallet:c});break}default:throw new l1.P("Unsupported recovery action")}}}})(),[o,l]=(0,f.useState)(!1),{provider:c,action:d,isInAccountCreateFlow:u,shouldCreateEth:h,shouldCreateSol:g}=n?.recoveryOAuthStatus,[m,y]=(0,f.useState)(void 0),[w,v]=(0,f.useState)("create-wallet"===d);if("user-passcode"===c)throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let b=FN[c].name,x=FN[c].component,E=n?.recoverWallet?.onCompleteNavigateTo,_=new $P(async(e="create-wallet")=>(v(!0),new Promise((t,r)=>{setTimeout(async()=>{try{let r=window.open();await s({provider:c,action:e,popup:r,shouldCreateEth:h,shouldCreateSol:g}),l(!0),t()}catch(t){y({message:`${"recover"===e?"Recovery":"Back up"} with ${b} unsuccessful`,detail:"recover"===d?`Please verify that you are selecting the ${b} account associated with your backup.`:"",retryable:!0}),r()}},0)})));(0,f.useEffect)(()=>{"recover"!==d&&_.execute(u?"create-wallet":"set-recovery")},[]),(0,f.useEffect)(()=>{if(!o)return;let n=setTimeout(()=>{u?(r({createWallet:{onSuccess:()=>{},onFailure:t=>{a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:t,screen:"RecoveryOAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),t(FT)):i({shouldCallAuthOnSuccess:!1})},1400);return()=>clearTimeout(n)},[o]);let C=(0,f.useCallback)(async()=>{await _.execute("recover"),E?t(E):l(!0)},[]),k="google-drive"===c?"Google Drive":"Apple iCloud",A=o&&`Successfully ${"recover"===d?"recovered":"backed up"} with ${k}.`||m&&m.message||`${"recover"===d?"Recovering":"Backing up"} with ${k}...`,I=m?m.detail:"";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),w?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(FP,{children:[(0,p.jsx)(Fw,{title:A,icon:(0,p.jsx)(x,{style:{width:"38px",height:"38px"}}),description:I}),m&&m?.retryable?(0,p.jsx)(DE,{onClick:()=>{Mn(),y(void 0),"create-wallet"===d?_.execute("create-wallet"):C()},disabled:!o&&!m?.retryable,children:"Try again"}):null]})}):(0,p.jsxs)(FP,{children:[(0,p.jsx)(Fw,{title:"Confirm it's really you",icon:(0,p.jsx)(x,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${k} where your account is backed up.`}),(0,p.jsxs)(DE,{onClick:C,children:["Confirm with ",k]})]}),(0,p.jsx)(DM,{})]})}},F$=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),FM={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},FR=({onClose:e})=>(0,p.jsxs)(Fj,{children:[(0,p.jsx)(Fw,{title:"Why do I need to secure my account?",icon:(0,p.jsx)(yH,{width:48}),description:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),(0,p.jsx)("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),(0,p.jsx)(DE,{onClick:e,children:"Select backup method"})]}),FD={component:()=>{let[e,t]=(0,f.useState)(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:a,data:s,onUserCloseViaDialogOrKeybindRef:o}=RM(),{user:l}=R8(),{embeddedWallets:c}=Rj(),{closePrivyModal:d}=(0,l1.u)(),u=MP(l),h=null===u,{isInAccountCreateFlow:g,isResettingPassword:m,shouldCreateEth:y,shouldCreateSol:w}=s.recoverySelection,v=u&&"privy"!==u.recoveryMethod,b=v?(0,p.jsxs)("span",{children:["Your account is currently secured using"," ",(0,p.jsx)("strong",{children:FM[u?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function x(e){a({recoveryOAuthStatus:{provider:e,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:g,shouldCreateEth:y,shouldCreateSol:w}}),r(FO)}function E(){s?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),d({shouldCallAuthOnSuccess:s?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return o.current=E,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E,backFn:e?()=>t(!1):n?i:void 0,infoFn:n||e?void 0:()=>t(!0)},"header"),e?(0,p.jsx)(FR,{onClose:()=>t(!1)}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Fw,{title:v?"Update backup method":"Secure your account",icon:(0,p.jsx)(OP,{width:48}),description:b}),(0,p.jsx)(FP,{children:c.userOwnedRecoveryOptions.filter(e=>!["icloud","google-drive"].includes(u?.recoveryMethod||"")||e!==u?.recoveryMethod).sort().map(e=>{switch(e){case"google-drive":return(0,p.jsxs)(Du,{onClick:()=>x("google-drive"),children:[(0,p.jsx)(F$,{children:(0,p.jsx)(FE,{style:{width:18}})}),"Back up to Google Drive"]},e);case"icloud":return(0,p.jsxs)(Du,{onClick:()=>x("icloud"),children:[(0,p.jsx)(F$,{children:(0,p.jsx)(Fx,{style:{width:24}})}),"Back up to Apple iCloud"]},e);case"user-passcode":return(0,p.jsxs)(Du,{onClick:()=>{r(function({isCreatingWallet:e,skipSplashScreen:t}){return e?qO:t?qA:qI}({isCreatingWallet:h,skipSplashScreen:!0}))},children:[(0,p.jsx)(F$,{children:(0,p.jsx)(Oj,{style:{width:18}})}),m?"Reset your":"Set a"," password"]},e);default:return null}})})]}),(0,p.jsx)(DM,{})]})}},FL=yM(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]),FU=yR.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],FL,({error:e})=>e?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:e})=>e?"":"capitalize"),FF=yR.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),FB=yR(DE).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:e})=>e&&yM(["&&{transition:none;}"])),FW=yM(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]),Fz=yR.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],FW),Fq=yR.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],FW),FH=yR.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:e})=>e?"center":"space-between"),FV=yR.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),FG=yR.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),FK=yR.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),FJ=yR(Dx).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),FY=yR.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),FZ=yR(ON).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),FQ=yR(O$).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),FX=yR(OO).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),F0=yR.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:e})=>("Strong"===e?"#78dca6":"Medium"===e&&"var(--privy-color-warn)")||"var(--privy-color-error)"),F1=({buttonHideAnimations:e,buttonLoading:t,password:r,onSubmit:n,onBack:i})=>{let[a,s]=(0,f.useState)(!0),[o,l]=(0,f.useState)(!1),[c,d]=(0,f.useState)(""),u=r===c;return(0,f.useEffect)(()=>{c&&!o&&l(!0)},[c]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!1,backFn:i}),(0,p.jsx)(LD,{}),(0,p.jsxs)(FF,{children:[(0,p.jsxs)(FV,{children:[(0,p.jsx)(yJ,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,p.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),(0,p.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),(0,p.jsxs)(FH,{children:[(0,p.jsx)(Fz,{value:c,onChange:e=>d(e.target.value),onKeyUp:e=>{"Enter"===e.key&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:a?"password":"text",style:{paddingRight:"2.3rem"}}),(0,p.jsx)(FY,{style:{right:"0.75rem"},children:a?(0,p.jsx)(FQ,{onClick:()=>s(!1)}):(0,p.jsx)(FX,{onClick:()=>s(!0)})})]}),(0,p.jsx)(FU,{"aria-hidden":!o||u,error:!0,children:"Passwords do not match"})]}),(0,p.jsx)(FB,{onClick:n,loading:t,disabled:!u,$hideAnimations:e,children:"Continue"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},F2=({className:e,checked:t,color:r="var(--privy-color-accent)",...n})=>(0,p.jsx)("label",{children:(0,p.jsxs)(F3,{className:e,children:[(0,p.jsx)(F4,{checked:t,...n}),(0,p.jsx)(F6,{color:r,checked:t,children:(0,p.jsx)(F5,{viewBox:"0 0 24 24",children:(0,p.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})}),F3=yR.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),F5=yR.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),F4=yR.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),F6=yR.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],e=>e.color,e=>e.checked?e.color:"var(--privy-color-background)",F4,e=>e.color,F5,e=>e.checked?"visible":"hidden"),F8=({buttonHideAnimations:e,buttonLoading:t,onSubmit:r,onBack:n,config:i})=>{let[a,s]=(0,f.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!1,backFn:n}),(0,p.jsx)(LD,{}),(0,p.jsxs)(FF,{children:[(0,p.jsxs)(FV,{children:[(0,p.jsx)(yJ,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),(0,p.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),(0,p.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),(0,p.jsx)(FG,{children:(0,p.jsxs)(FK,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:e=>{e.preventDefault(),s(e=>!e)},children:[(0,p.jsx)(F2,{color:"var(--privy-color-error)",readOnly:!0,checked:a}),(0,p.jsx)(p.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),(0,p.jsxs)(F9,{children:["user"===i.initiatedBy&&(0,p.jsx)(DI,{onClick:i.onCancel,disabled:t,children:"Cancel"}),(0,p.jsx)(FB,{onClick:r,loading:t,$hideAnimations:e,disabled:!a,children:"Set Password"})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},F9=yR.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),F7=/[a-z]/,Be=/[A-Z]/,Bt=/[0-9]/,Br="!@#$%^&*()\\-_+.",Bn=`a-zA-Z0-9${Br}`,Bi=RegExp(`[${Br}]`),Ba=RegExp(`[${Bn}]`),Bs=RegExp(`^[${Bn}]{6,}$`),Bo=()=>(function(e,t,r="-"){!1;if(!Array.isArray(t)||t.length<2)throw Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if("string"!=typeof r)throw Error("Invalid argument: sep argument must be a string");return(function(e,t,r){if("number"!=typeof e||e<1)throw Error("Invalid argument: length must be a number greater than or equal to 1");if(t<0)throw Error("Invalid argument: start must be a number greater than or equal to 0");if("number"!=typeof r||r>65536)throw Error("Invalid argument: end must be a number less than or equal to 65536");if(r-t<2)throw Error("Invalid range: range must contain at least two values");let n=[];for(let i=0;i<e;i++)n[i]=t+function(e){if("number"!=typeof e||e<2||e>65536)throw Error("Invalid number: number must be at least two and at most 65536");let t=e>256,r=t?Of:Op,n=e*Math.floor((t?65536:256)/e);for(;;){let t=r();if(t<n)return t%e}}(r-t);return n})(e,0,t.length).reduce((e,n,i)=>{let a=t[n];return e+(0===i?a:r+a)},"")})(4,Og.P),Bl=({buttonHideAnimations:e,buttonLoading:t,password:r="",config:n,isResettingPassword:i,onSubmit:a,onClose:s,onBack:o,onPasswordChange:l,onPasswordGenerate:c})=>{let[d,u]=(0,f.useState)(!1),[h,g]=(0,f.useState)(!1);(0,f.useEffect)(()=>{r&&!h&&g(!0)},[r]);let m=(0,f.useMemo)(()=>h?6>(r?.length||0)?"Password must be at least 6 characters":Bs.test(r||"")?null:`Invalid characters used ( ${((e="")=>[...new Set(e.split("").filter(e=>!Ba.test(e)).map(e=>e.replace(" ","SPACE")))])(r).join(" ")} )`:null,[r,h]),y=(0,f.useMemo)(()=>m?{value:0,label:"Weak"}:function(e=""){let t=function(e=""){return(.3*function(e){if(e.length<8)return 0;let t=0;return F7.test(e)&&(t+=1),Be.test(e)&&(t+=1),Bt.test(e)&&(t+=1),Bi.test(e)&&(t+=1),Math.max(0,Math.min(1,t/3))}(e)+Ou(e)/95)/2}(e);return{value:t,label:t>.9?"Strong":t>.5?"Medium":"Weak"}}(r),[r,m]),w=(0,f.useMemo)(()=>!r?.length||!!m,[m,r]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:s,closeable:"user"===n.initiatedBy,backFn:o}),(0,p.jsx)(LD,{}),(0,p.jsxs)(FF,{children:[(0,p.jsxs)(FV,{children:[(0,p.jsx)(OM,{height:48,width:48,stroke:"var(--privy-color-accent)"}),(0,p.jsxs)("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),(0,p.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),(0,p.jsxs)(FH,{children:[(0,p.jsx)(Fz,{value:r,onChange:e=>l(e.target.value),onKeyUp:e=>{"Enter"===e.key&&a()},placeholder:"enter or generate a strong password",type:d?"password":"text",style:{paddingRight:"3.8rem"}}),(0,p.jsxs)(FY,{style:{width:"3.5rem"},children:[d?(0,p.jsx)(FQ,{onClick:()=>u(!1)}):(0,p.jsx)(FX,{onClick:()=>u(!0)}),(0,p.jsx)(FZ,{onClick:c})]})]}),(0,p.jsx)(F0,{value:0===y.value?.01:y.value,label:y.label}),(0,p.jsx)(FU,{error:!!m,children:m||`Password Strength: ${h?y.label:"--"}`}),(0,p.jsxs)(Bd,{children:[(0,p.jsx)(Bc,{children:(0,p.jsxs)(FG,{children:[(0,p.jsxs)(FK,{children:[(0,p.jsx)(OA,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),(0,p.jsxs)(FK,{children:[(0,p.jsx)(OA,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),(0,p.jsx)(FB,{onClick:a,loading:t,disabled:w,$hideAnimations:e,children:"Continue"})]})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},Bc=yR(FG).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),Bd=yR.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]),Bu=({buttonHideAnimations:e,buttonLoading:t,appName:r,password:n,onSubmit:i,onBack:a})=>{let[s,o]=(0,f.useState)(!1),[l,c]=(0,f.useState)(!0),d=(0,f.useCallback)(()=>{o(!0),n&&navigator.clipboard.writeText(n)},[n]),u=(0,f.useCallback)(()=>{let e=document.createElement("a"),t=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),i=new Blob([Bh(r,n)],{type:"text/plain"}),a=URL.createObjectURL(i);e.href=a,e.target="_blank",e.download=`${t}-privy-wallet-recovery.txt`,document.body.appendChild(e),e.click(),setTimeout(()=>{e.remove(),URL.revokeObjectURL(a)},5e3)},[n]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:a,closeable:!1}),(0,p.jsx)(LD,{}),(0,p.jsxs)(FF,{children:[(0,p.jsxs)(FV,{children:[(0,p.jsx)(yJ,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,p.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),(0,p.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),(0,p.jsxs)(FH,{centered:!0,children:[(0,p.jsx)(Fq,{children:l?"".repeat(n.length):n}),(0,p.jsx)(FY,{style:{right:"0.75rem"},children:l?(0,p.jsx)(FQ,{onClick:()=>c(!1)}):(0,p.jsx)(FX,{onClick:()=>c(!0)})})]}),(0,p.jsxs)("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[(0,p.jsx)(FJ,{onClick:d,children:(0,p.jsxs)(p.Fragment,s?{children:[(0,p.jsx)(OD,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[(0,p.jsx)(OL,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),(0,p.jsxs)(FJ,{onClick:u,children:[(0,p.jsx)(OR,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),(0,p.jsx)(FB,{onClick:i,loading:t,$hideAnimations:e,children:"Continue"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},Bh=(e,t)=>`Your wallet recovery password for ${e} is

${t}

You will need this password to access your ${e} wallet on a new device. Please keep it somewhere safe.`,Bp=({error:e,onClose:t})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!1}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,e?{children:[(0,p.jsx)(Ok,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Something went wrong",description:e})]}:{children:[(0,p.jsx)(OA,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Success"})]}),(0,p.jsx)(DE,{onClick:t,children:"Close"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}),Bf=(e,t)=>{switch(e){case"creating":return"back"===t?e:"saving";case"saving":return"back"===t?"creating":"confirming";case"confirming":return"back"===t?"saving":"finalizing";case"finalizing":return"back"===t?"confirming":"done";default:return e}},Bg=({onSubmit:e,...t})=>{let{lastScreen:r,navigate:n}=RM(),{send:i,state:a}=(()=>{let[e,t]=(0,f.useReducer)(Bf,"creating");return{send:t,state:e}})(),s=(0,f.useCallback)(async()=>{"finalizing"===a&&await e(),i("next")},[a,i,e]);(0,f.useEffect)(()=>{let e;return"done"===a&&"automatic"===t.config.initiatedBy&&(e=setTimeout(()=>t.onClose?.(),1400)),()=>{e&&clearTimeout(e)}},[a,t.config.initiatedBy,t.onClose]);let o=(0,f.useCallback)(()=>{i("back")},[i]),l=(0,f.useCallback)(()=>{n(FD)},[r,n]);return"creating"===a?(0,p.jsx)(Bl,{...t,onSubmit:s,onBack:r===FD?l:void 0}):"saving"===a?(0,p.jsx)(Bu,{...t,onSubmit:s,onBack:o}):"confirming"===a?(0,p.jsx)(F1,{...t,onSubmit:s,onBack:o}):"finalizing"===a?(0,p.jsx)(F8,{...t,onSubmit:s,onBack:o}):"done"===a?(0,p.jsx)(Bp,{...t,onSubmit:s}):null},Bm={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"},By=e=>{let t=Bm[e];return"wallet"===e||"phone"===e?{displayName:e,loginMethod:t}:{displayName:t,loginMethod:t}},Bw=(0,f.createContext)({}),Bv=({children:e})=>{let t=Rj(),[r,n]=(0,f.useState)({});return Dr("login",{onComplete:({loginAccount:e})=>{e&&"passkey"!==e.type&&"cross_app"!==e.type&&("wallet"!==e.type||"privy"!==e.walletClientType)&&($i.put(Bb(t.id),e.type),"wallet"===e.type?($i.put(Bx(t.id),e.walletClientType),$i.put(BE(t.id),e.chainType),n({accountType:e.type,walletClientType:e.walletClientType,chainType:e.chainType})):($i.del(Bx(t.id)),$i.del(BE(t.id)),n({accountType:e.type})))}}),(0,f.useEffect)(()=>{if(!t.id)return;let e=$i.get(Bb(t.id)),r=$i.get(Bx(t.id)),i=$i.get(BE(t.id));e&&n("wallet"===e?{accountType:e,walletClientType:r,chainType:i}:{accountType:e})},[t.id]),(0,p.jsx)(Bw.Provider,{value:r,children:e})},Bb=e=>`privy:${e}:recent-login-method`,Bx=e=>`privy:${e}:recent-login-wallet-client`,BE=e=>`privy:${e}:recent-login-chain-type`,B_=()=>(0,f.useContext)(Bw),BC=()=>{let{app:e}=RM(),t=e?.appearance?.logo,r=`${e?.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return t?"string"==typeof t?(0,p.jsx)("img",{src:t,alt:r,style:n}):"svg"===t.type||"img"===t.type?f.cloneElement(t,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Bk=e=>{let{app:t}=RM();return t?.appearance.logo?(0,p.jsx)(BA,{...e,children:(0,p.jsx)(BC,{})}):null},BA=yR.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),BI=({name:e,logoUrl:t,size:r="38px"})=>"string"==typeof t?(0,p.jsx)("img",{src:t,alt:`${e??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):(0,p.jsx)("span",{}),BS=({appId:e})=>{let[t,r]=(0,f.useState)(void 0),{startCrossAppAuthFlow:n,authenticated:i}=R8(),{client:a}=(0,l1.u)();return(0,f.useEffect)(()=>{(async()=>{a&&r(await a.getCrossAppProviderDetails(e))})()},[a]),(0,p.jsx)(Du,{onClick:()=>n({appId:e,action:i?"link":"login"}),disabled:!t,children:t?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(BI,{name:t.name,logoUrl:t.icon_url||void 0,size:"24px"})," ",t.name]}):(0,p.jsx)(Dv,{})})},BT=(e,t)=>!MC(e)&&("all-users"===t||"users-without-wallets"===t&&!BP(e).length),BP=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chainType),Bj=(e,t)=>!MA(e)&&("all-users"===t||"users-without-wallets"===t&&!BN(e).length),BN=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"solana"===e.chainType),BO=(e,t)=>BT(e,t.ethereum.createOnLogin)||Bj(e,t.solana.createOnLogin),B$=yR.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),BM={component:()=>{let{navigate:e,app:t,setModalData:r,data:n}=RM(),{getAuthMeta:i,client:a}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsxs)(BR,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(B$,{color:"var(--privy-color-warn-light)"}),(0,p.jsx)(yH,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-warn)"})]})}),(0,p.jsxs)(BD,{children:[(0,p.jsx)("h3",{children:"Account not found"}),(0,p.jsxs)("p",{children:["Please try logging in again or go to ",t.name," to create an account."]})]}),(0,p.jsx)(Da,{}),(0,p.jsx)(DE,{onClick:()=>{let t=i();r({...n,login:{...n?.login,...t?.disableSignup?{disableSignup:!0}:{}}}),a?.authFlow&&(a.authFlow=void 0),e(qk)},children:"Try logging in again"})]})]})}},BR=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-feca2100-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;margin-top:24px;"]),BD=yR.div.withConfig({displayName:"GappedContainer",componentId:"sc-feca2100-1"})(["display:flex;flex-direction:column;gap:8px;"]),BL=yR.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),BU=({address:e,showCopyIcon:t,url:r,className:n})=>{let[i,a]=(0,f.useState)(!1);return(0,f.useEffect)(()=>{if(i){let e=setTimeout(()=>a(!1),2e3);return()=>clearTimeout(e)}},[i]),r?(0,p.jsx)("a",{title:e,className:n,href:`${r}/address/${e}`,target:"_blank",children:$u(e)}):(0,p.jsxs)("button",{title:e,className:n,onClick:t=>(t.stopPropagation(),navigator.clipboard.writeText(e).then(()=>a(!0)).catch(console.error)),children:[$u(e),(0,p.jsx)(t&&i?BB:BF,{})]})},BF=yR(Ox).withConfig({displayName:"StyledSquare2StackIcon",componentId:"sc-980a92a-0"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-foreground-3);"]),BB=yR(Ob).withConfig({displayName:"StyledCheckIcon",componentId:"sc-980a92a-1"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-success);"]);function BW(e){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,p.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,p.jsx)("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let Bz="0x0000000000000000000000000000000000000000",Bq=({destinationCurrency:e,...t})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:Bz,destinationCurrency:e??Bz,...t}),BH="https://api.relay.link",BV="https://api.testnets.relay.link",BG=async({input:e,isTestnet:t})=>{let r=await fetch((t?BV:BH)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await r.json();if(!(r.ok||"string"==typeof n.message&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},BK=e=>{let t=e.steps[0]?.items?.[0];if(t)return{from:t.data.from,to:t.data.to,value:Number(t.data.value),chainId:Number(t.data.chainId),data:t.data.data}};function BJ({transactionHash:e,wallet:t,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:a,onFailure:s}){(0,f.useEffect)(()=>{if(e&&t&&n){if(["delayed","waiting","pending"].includes(n)){let t=setInterval(async()=>{try{let t=await async function({transactionHash:e,isTestnet:t}){let r=await fetch((t?BV:BH)+"/requests/v2?hash="+e),n=await r.json();if(!r.ok){if("message"in n&&"string"==typeof n.message)throw Error(n.message);throw Error("Error fetching request from relay")}return n.requests.at(0)?.status??"pending"}({transactionHash:e,isTestnet:r});i(t)}catch(e){console.error(e)}},1e3);return()=>clearInterval(t)}"success"===n?a({transactionHash:e,wallet:t}):["refund","failure"].includes(n)&&s({error:new BY(e,r)})}},[n,e,r,t])}class BY extends l1.P{constructor(e,t){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,l1.a.TRANSACTION_FAILURE),this.relayLink=t?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}let BZ=({style:e,...t})=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})}),BQ={component:()=>{let{navigate:e,navigateBack:t,data:r,lastScreen:n,currentScreen:i}=RM(),a=r?.errorModalData?.previousScreen||(n===i?void 0:n);return(0,p.jsx)(BX,{error:r?.errorModalData?.error||Error(),backFn:()=>a?e(a,!1):t(),onClick:()=>e(a||qk,!1)})}},BX=({error:e,backFn:t,onClick:r})=>{let{reset:n}=Mg(),{app:i}=RM(),a=((e,t)=>{let r=(0,p.jsx)(yJ,{height:38,width:38,stroke:"var(--privy-color-error)"});if(e instanceof BY)return{title:"Transaction failed",detail:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:e.message}),(0,p.jsxs)("p",{children:["Check the"," ",(0,p.jsx)(B2,{href:e.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:r};if(e instanceof l1.P)switch(e.privyErrorCode){case l1.a.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:e.message,ctaText:"Try again",icon:r};case l1.a.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:e.message,ctaText:"Try again",icon:r};case l1.a.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:e.message,ctaText:"Try again",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}if(e instanceof Uu&&"twilio_verification_failed"===e.type)return{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:(0,p.jsx)(yW,{height:38,width:38,stroke:"var(--privy-color-error)"})};if(!(e instanceof l1.B))return e instanceof l1.N&&e.status&&[400,422].includes(e.status)?{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:r}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r};switch(e.privyErrorCode){case l1.a.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:r};case l1.a.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:e.message,ctaText:"Try another method",icon:r};case l1.a.ALLOWLIST_REJECTED:return{title:t.errorTitle||"You don't have access to this app",detail:t.errorDetail||"Have you been invited?",ctaText:t.errorCtaText||"Try another account",icon:(0,p.jsx)(BZ,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})};case l1.a.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:(0,p.jsx)("span",{})};case l1.a.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:(0,p.jsx)("span",{})};case l1.a.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:r};case l1.a.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:r};case l1.a.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}})(e,i.allowlistConfig);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:t}),(0,p.jsxs)(B0,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(BL,{color:"var(--privy-color-error)"}),a.icon]})}),(0,p.jsxs)(B1,{children:[(0,p.jsx)("h3",{children:a.title}),"string"==typeof a.detail?(0,p.jsx)("p",{children:a.detail}):a.detail]}),(0,p.jsx)(DE,{color:"var(--privy-color-error)",onClick:()=>{e instanceof l1.B&&(e.privyErrorCode===l1.a.INVALID_CAPTCHA&&n(),e.privyErrorCode===l1.a.ALLOWLIST_REJECTED&&i.allowlistConfig.errorCtaLink)?window.location.href=i.allowlistConfig.errorCtaLink:r?.()},children:a.ctaText})]})]})},B0=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-b0d5228e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),B1=yR.div.withConfig({displayName:"GappedContainer",componentId:"sc-b0d5228e-1"})(["display:flex;flex-direction:column;gap:8px;"]),B2=yR.a.withConfig({displayName:"Link",componentId:"sc-b0d5228e-2"})(["color:var(--privy-color-accent) !important;font-weight:600;"]),B3=({onTransfer:e,isTransferring:t,transferSuccess:r})=>(0,p.jsx)(DE,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:t,onClick:e,children:"Transfer and delete account"}}),B5=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),B4=yR.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),B6=yR.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),B8=yR(OE).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:e})=>`${e}px`,({$iconSize:e})=>`${e}px`),B9=yR(Ox).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),B7=yR.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),We=yR.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),Wt=yR.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),Wr=()=>(0,p.jsx)(Wt,{children:(0,p.jsx)(B8,{$iconSize:60})}),Wn=({address:e,onClose:t,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:a})=>{let{defaultChain:s}=Rj(),o=s.blockExplorers?.default.url??"https://etherscan.io";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:t,backFn:r}),(0,p.jsxs)(B5,{children:[(0,p.jsx)(Wr,{}),(0,p.jsxs)(B4,{children:[(0,p.jsx)("h3",{children:"Check account assets before transferring"}),(0,p.jsx)("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),(0,p.jsxs)(B7,{children:[(0,p.jsx)("p",{children:" To check your balance, you can:"}),(0,p.jsx)(We,{children:"Log out and log back into the other account, or "}),(0,p.jsxs)(We,{children:["Copy your wallet address and use a"," ",(0,p.jsx)("u",{children:(0,p.jsx)("a",{target:"_blank",href:o,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),(0,p.jsxs)(B6,{onClick:()=>navigator.clipboard.writeText(e).catch(console.error),children:[(0,p.jsx)(Ov,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,p.jsx)(BU,{address:e,showCopyIcon:!1}),(0,p.jsx)(B9,{})]}),(0,p.jsx)(B3,{onTransfer:n,isTransferring:i,transferSuccess:a})]})]}),(0,p.jsx)(DM,{})]})},Wi={component:()=>{let{initiateAccountTransfer:e,closePrivyModal:t}=(0,l1.u)(),{data:r,navigate:n,lastScreen:i,setModalData:a}=RM(),[s,o]=(0,f.useState)(void 0),[l,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1),h=async()=>{try{if(!r?.accountTransfer?.nonce||!r?.accountTransfer?.account)throw Error("missing account transfer inputs");u(!0),await e({nonce:r?.accountTransfer?.nonce,account:r?.accountTransfer?.account,accountType:r?.accountTransfer?.linkMethod,externalWalletMetadata:r?.accountTransfer?.externalWalletMetadata,telegramWebAppData:r?.accountTransfer?.telegramWebAppData,telegramAuthResult:r?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:r?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:r?.accountTransfer?.oAuthUserInfo}),c(!0),u(!1),setTimeout(t,1e3)}catch(e){a({errorModalData:{error:e,previousScreen:i||Wi}}),n(BQ,!0)}};return s?(0,p.jsx)(Wn,{address:s,onClose:t,onRetry:()=>o(void 0),onTransfer:h,isTransferring:d,transferSuccess:l}):(0,p.jsx)(Wa,{onClose:t,onInfo:()=>o(r?.accountTransfer?.embeddedWalletAddress),onContinue:()=>o(r?.accountTransfer?.embeddedWalletAddress),onTransfer:h,isTransferring:d,transferSuccess:l,data:r})}},Wa=({onClose:e,onContinue:t,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:a,data:s})=>{if(!s?.accountTransfer?.linkMethod||!s?.accountTransfer?.displayName)return;let o={method:s?.accountTransfer?.linkMethod,handle:s?.accountTransfer?.displayName,disclosedAccount:s?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:s?.accountTransfer?.embeddedWalletAddress}:void 0};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!0}),(0,p.jsxs)(B5,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(BL,{color:"var(--privy-color-error)"}),(0,p.jsx)(yJ,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),(0,p.jsxs)(B4,{children:[(0,p.jsxs)("h3",{children:[function(e){switch(e){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"twitter":case"telegram":case"farcaster":return`${$0(e.replace("_oauth",""))} profile`;default:return e}}(o.method)," is associated with another account"]}),(0,p.jsxs)("p",{children:["Do you want to transfer",(0,p.jsx)("b",{children:o.handle?` ${o.handle}`:""})," to this account instead? This will delete your other account."]}),(0,p.jsx)(Ws,{onClick:r,disclosedAccount:o.disclosedAccount})]}),(0,p.jsxs)(B4,{style:{gap:12,marginTop:12},children:[s?.accountTransfer?.embeddedWalletAddress?(0,p.jsx)(DE,{onClick:t,children:"Continue"}):(0,p.jsx)(B3,{onTransfer:n,transferSuccess:i,isTransferring:a}),(0,p.jsx)(DI,{onClick:e,children:"No thanks"})]})]}),(0,p.jsx)(DM,{})]})};function Ws({disclosedAccount:e,onClick:t}){return e?(0,p.jsxs)(B6,{onClick:t,children:[(0,p.jsx)(Ov,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,p.jsx)(BU,{address:e.handle,showCopyIcon:!1}),(0,p.jsx)(BW,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}let Wo=()=>(0,p.jsx)(Wl,{children:(0,p.jsxs)(Wc,{children:[(0,p.jsx)(Wd,{}),(0,p.jsx)(Wu,{})]})}),Wl=yR.div.withConfig({displayName:"LoadingContainer",componentId:"sc-85b54ede-0"})(["display:flex;justify-content:center;align-items:center;flex-grow:1;margin:12px;padding:16px;@media all and (display-mode:standalone){margin-bottom:30px;}"]),Wc=yR.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-85b54ede-1"})(["position:relative;height:140px;width:140px;opacity:1;animation:fadein 200ms ease;"]),Wd=yR.div.withConfig({displayName:"CircleFixed",componentId:"sc-85b54ede-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;&&{border:4px solid var(--privy-color-accent-light);border-radius:50%;}"]),Wu=yR.div.withConfig({displayName:"CircleRotate",componentId:"sc-85b54ede-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-accent) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),Wh={component:()=>{let{app:e,setModalData:t,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=RM(),[a,s]=(0,f.useState)(""),{embeddedWallets:o}=Rj(),{authenticated:l,user:c,getAccessToken:d}=R8(),{closePrivyModal:u,walletProxy:h}=(0,l1.u)(),{onSuccess:g,onFailure:m,callAuthOnSuccessOnClose:y,shouldCreateEth:w,shouldCreateSol:v}=n.createWallet,b=!0===e?.embeddedWallets.requireUserOwnedRecoveryOnCreate,[x,E]=(0,f.useState)(null),{create:_}=FS(),C=w??(!!c&&BT(c,e.embeddedWallets.ethereum.createOnLogin)),k=v??(!!c&&Bj(c,e.embeddedWallets.solana.createOnLogin)),A=new $P(async()=>{let e=await d();if(c&&e&&h)try{let e;if(C&&k)e=await _({chainType:"ethereum",walletIndex:0,latestUser:c}),e=await _({chainType:"solana",walletIndex:0,latestUser:e.user});else if(k)e=await _({chainType:"solana",walletIndex:0,latestUser:c});else{if(!C)return void u({shouldCallAuthOnSuccess:y});e=await _({chainType:"ethereum",walletIndex:0,latestUser:c})}E(e),r(FT)}catch(e){s(e.message)}});return(0,f.useEffect)(()=>l&&c?b?(t({...n,createWallet:{...n.createWallet,shouldCreateEth:C,shouldCreateSol:k},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:C,shouldCreateSol:k}}),r(qL({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:o.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void A.execute():(r(qk),void m(Error("User must be authenticated before creating a Privy wallet"))),[b,l]),i.current=()=>null,a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!1}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(Ok,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Something went wrong",description:a})]}),(0,p.jsx)(DE,{onClick:()=>{x?(g(x),u({shouldCallAuthOnSuccess:y})):(m(new l1.aj("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))},children:"Close"}),(0,p.jsx)(Wp,{})]}):(0,p.jsx)(Wo,{})}},Wp=yR.div.withConfig({displayName:"BottomSpacing",componentId:"sc-1a8a319a-0"})(["height:44px;"]),Wf={component:()=>{let{user:e,logout:t}=R8(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:a}=RM(),{acceptTerms:s,closePrivyModal:o,createAnalyticsEvent:l}=(0,l1.u)(),c=e=>{e?.preventDefault(),o({shouldCallAuthOnSuccess:!1}),t()};return n.current=c,(0,p.jsx)(Wg,{termsAndConditionsUrl:r?.legal.termsAndConditionsUrl,privacyPolicyUrl:r?.legal.privacyPolicyUrl,onAccept:async n=>{n.preventDefault(),await s(),e&&BO(e,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AffirmativeConsentScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),a(Wh)):o()},onDecline:c})}},Wg=({termsAndConditionsUrl:e,privacyPolicyUrl:t,onAccept:r,onDecline:n})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{closeable:!1}),(0,p.jsx)(OC,{width:56,height:56,fill:"var(--privy-color-accent)",style:{margin:"auto"}}),(0,p.jsx)(Ub,{style:{marginTop:24},children:"One last step"}),(0,p.jsx)(Ux,{children:"By signing up, you agree to our terms and privacy policy."}),(0,p.jsxs)(Do,{style:{marginTop:24},children:[e&&(0,p.jsxs)(Dh,{target:"_blank",href:e,children:["View Terms ",(0,p.jsx)(O_,{style:{marginLeft:"auto"}})]}),t&&(0,p.jsxs)(Dh,{target:"_blank",href:t,children:["View Privacy Policy ",(0,p.jsx)(O_,{style:{marginLeft:"auto"}})]})]}),(0,p.jsxs)(Wm,{style:{marginTop:24},children:[(0,p.jsx)(DI,{onClick:n,children:"No thanks"}),(0,p.jsx)(DE,{onClick:r,children:"Accept"})]}),(0,p.jsx)(DM,{})]}),Wm=yR.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-9abb9a03-0"})(["display:flex;gap:10px;"]),Wy=({...e})=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...e,children:[(0,p.jsxs)("g",{clipPath:"url(#clip0_2856_1743)",children:[(0,p.jsx)("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_2856_1743",children:(0,p.jsx)("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),Ww=({chainType:e,withPadding:t})=>{let r="";return r="ethereum-only"===e||"ethereum-and-solana"===e?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",(0,p.jsx)(Df,{$withPadding:t,children:(0,p.jsxs)(Dg,{children:[(0,p.jsx)(yH,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),(0,p.jsx)("h3",{children:"No wallets available"}),(0,p.jsxs)("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")},Wv=yL(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]),Wb=yM(["",""],e=>e.$isLoading?yM(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Wv):""),Wx=({children:e,color:t,isLoading:r,isPulsing:n,...i})=>(0,p.jsx)(WE,{$color:t,$isLoading:r,$isPulsing:n,...i,children:e}),WE=yR.span.withConfig({displayName:"StyledSpan",componentId:"sc-eba15c9-0"})(["padding:0.125rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);display:flex;align-items:center;"," ",""],e=>{let t,r;"green"===e.$color&&(t="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),"red"===e.$color&&(t="var(--privy-color-error)",r="var(--privy-color-error-light)"),"gray"===e.$color&&(t="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=yL(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return yM(["color:",";background-color:",";",";"],t,r,e.$isPulsing&&yM(["animation:"," 3s linear infinite;"],n))},Wb),W_=({style:e,...t})=>(0,p.jsxs)("svg",{width:"1000",height:"1000",viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...e},...t,children:[(0,p.jsx)("rect",{width:"1000",height:"1000",rx:"200",fill:"#855DCD"}),(0,p.jsx)("path",{d:"M257.778 155.556H742.222V844.444H671.111V528.889H670.414C662.554 441.677 589.258 373.333 500 373.333C410.742 373.333 337.446 441.677 329.586 528.889H328.889V844.444H257.778V155.556Z",fill:"white"}),(0,p.jsx)("path",{d:"M128.889 253.333L157.778 351.111H182.222V746.667C169.949 746.667 160 756.616 160 768.889V795.556H155.556C143.283 795.556 133.333 805.505 133.333 817.778V844.444H382.222V817.778C382.222 805.505 372.273 795.556 360 795.556H355.556V768.889C355.556 756.616 345.606 746.667 333.333 746.667H306.667V253.333H128.889Z",fill:"white"}),(0,p.jsx)("path",{d:"M675.556 746.667C663.283 746.667 653.333 756.616 653.333 768.889V795.556H648.889C636.616 795.556 626.667 805.505 626.667 817.778V844.444H875.556V817.778C875.556 805.505 865.606 795.556 853.333 795.556H848.889V768.889C848.889 756.616 838.94 746.667 826.667 746.667V351.111H851.111L880 253.333H702.222V746.667H675.556Z",fill:"white"})]}),WC=({icon:e})=>(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Wk,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{}),"string"==typeof e?(0,p.jsx)("span",{style:{background:`url('${e}')`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"cover"}}):e?(0,p.jsx)(e,{style:{width:"38px",height:"38px"}}):(0,p.jsx)("span",{})]})})}),Wk=yR.div.withConfig({displayName:"StackedContainer",componentId:"sc-26c1d9b9-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),WA={component:()=>{let{lastScreen:e,currentScreen:t,data:r,navigateBack:n,navigate:i,setModalData:a}=RM(),{status:s,token:o,waitForResult:l,reset:c,execute:d}=Mg(),u=(0,f.useRef)([]),h=e=>{u.current=[e,...u.current]},[g,m]=(0,f.useState)(!0);(0,f.useEffect)(()=>(h(setTimeout(m,1e3,!1)),()=>{u.current.forEach(e=>clearTimeout(e)),u.current=[]}),[]);let[y,w]=(0,f.useState)(""),[v,b]=(0,f.useState)("Checking that you are a human..."),[x,E]=(0,f.useState)((0,p.jsx)(DE,{onClick:()=>{},disabled:!0,children:"Continue"})),[_,C]=(0,f.useState)(!1),[k,A]=(0,f.useState)(3),I=r?.captchaModalData,S=async t=>{try{await I?.callback(t),I?.onSuccessNavigateTo&&i(I?.onSuccessNavigateTo,!1)}catch(t){if(t instanceof Mp)return;a({errorModalData:{error:t,previousScreen:e||qk}}),i(I?.onErrorNavigateTo||BQ,!1)}};(0,f.useEffect)(()=>{"success"===s?h(setTimeout(async()=>{let e=await l();!e||I?.userIntentRequired||S(e)},1e3)):"ready"===s&&h(setTimeout(()=>{"ready"===s&&d()},500))},[s]),(0,f.useEffect)(()=>{if(!g)switch(s){case"success":w("Success!"),b("CAPTCHA passed successfully."),E((0,p.jsx)(DE,{onClick:()=>{C(!0),S(o)},disabled:!I?.userIntentRequired,loading:_,children:I?.userIntentRequired?"Continue":"Continuing..."}));break;case"loading":w(""),b("Checking that you are a human..."),E((0,p.jsx)(DE,{onClick:()=>{},disabled:!0,children:"Continue"}));break;case"error":w("Something went wrong"),k<=0?(b("If you use an adblocker or VPN, try disabling and re-attempting."),E(null)):(b("You did not pass CAPTCHA. Please try again."),E((0,p.jsx)(DE,{onClick:T,children:"Retry"})))}},[s,g,_]);let T=async()=>{if(k<=0)return;A(e=>e-1),c(),d();let e=await l();!e||I?.userIntentRequired||S(e)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:e&&t!==e?n:void 0}),(0,p.jsxs)(WI,{children:["success"===s?(0,p.jsx)(OA,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}):"error"===s?(0,p.jsx)(Ok,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,p.jsx)(WC,{}),(0,p.jsxs)(LM,{children:[y?(0,p.jsx)("h3",{children:y}):null,(0,p.jsx)("p",{children:v})]}),x]}),(0,p.jsx)(DR,{})]})}},WI=yR.div.withConfig({displayName:"CaptchaContainer",componentId:"sc-ae138086-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),WS=({style:e,color:t,...r})=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:t||"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...r,children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),WT=({color:e,...t})=>(0,p.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...t,children:(0,p.jsx)("g",{children:(0,p.jsx)("path",{fill:e||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})}),WP=e=>{let[t,r]=(0,f.useState)(!1);return(0,p.jsxs)(Wj,{color:e.color,onClick:()=>{r(!0),navigator.clipboard.writeText(e.text),setTimeout(()=>r(!1),1500)},$justCopied:t,children:[t?(0,p.jsx)(WS,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):(0,p.jsx)(WT,{style:{height:"14px",width:"14px"}}),t?"Copied":"Copy"," ",e.itemName?e.itemName:"to Clipboard"]})},Wj=yR.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.$justCopied?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.$justCopied?"medium":"normal",e=>e.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"),WN=e=>{let[t,r]=(0,f.useState)(!1);return(0,p.jsx)(WO,{color:e.color,href:e.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:t,children:e.text})},WO=yR.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.justOpened?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.justOpened?"medium":"normal",e=>e.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"),W$=()=>(0,p.jsx)("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:(0,p.jsx)("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})}),WM=(e,t,r,n,i)=>{for(let a=t;a<t+n;a++)for(let t=r;t<r+i;t++){let r=e?.[t];r&&r[a]&&(r[a]=0)}return e},WR=({x:e,y:t,cellSize:r,bgColor:n,fgColor:i})=>(0,p.jsx)(p.Fragment,{children:[0,1,2].map(a=>(0,p.jsx)("circle",{r:r*(7-2*a)/2,cx:e+7*r/2,cy:t+7*r/2,fill:a%2!=0?n:i},`finder-${e}-${t}-${a}`))}),WD=({cellSize:e,matrixSize:t,bgColor:r,fgColor:n})=>(0,p.jsx)(p.Fragment,{children:[[0,0],[(t-7)*e,0],[0,(t-7)*e]].map(([t,i])=>(0,p.jsx)(WR,{x:t,y:i,cellSize:e,bgColor:r,fgColor:n},`finder-${t}-${i}`))}),WL=({matrix:e,cellSize:t,color:r})=>(0,p.jsx)(p.Fragment,{children:e.map((e,n)=>e.map((e,i)=>e?(0,p.jsx)("rect",{height:t-.4,width:t-.4,x:n*t+.1*t,y:i*t+.1*t,rx:.5*t,ry:.5*t,fill:r},`cell-${n}-${i}`):(0,p.jsx)(f.Fragment,{},`circle-${n}-${i}`)))}),WU=({cellSize:e,matrixSize:t,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return(0,p.jsx)(p.Fragment,{});let a=t*(n||.14),s=Math.floor(t/2-a/2),o=Math.floor(t/2+a/2);(o-s)%2!=t%2&&(o+=1);let l=(o-s)*e,c=l-.2*l,d=s*e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("rect",{x:s*e,y:s*e,width:l,height:l,fill:i}),(0,p.jsx)(r,{x:d+.1*l,y:d+.1*l,height:c,width:c})]})},WF=e=>{let t=e.outputSize,r=((e,t)=>{let r=OI.create(e,{errorCorrectionLevel:t}).modules,n=((e,t)=>{let r=e.slice(0),n=[];for(;r.length;)n.push(r.splice(0,t));return n})(Array.from(r.data),r.size);return n=WM(n,0,0,7,7),n=WM(n,n.length-7,0,7,7),WM(n,0,n.length-7,7,7)})(e.url,e.errorCorrectionLevel),n=t/r.length,i=function(e,{min:t,max:r}){return Math.min(Math.max(e,t),r)}(2*n,{min:.025*t,max:.036*t});return(0,p.jsxs)("svg",{height:e.outputSize,width:e.outputSize,viewBox:`0 0 ${e.outputSize} ${e.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[(0,p.jsx)(WL,{matrix:r,cellSize:n,color:e.fgColor}),(0,p.jsx)(WD,{cellSize:n,matrixSize:r.length,fgColor:e.fgColor,bgColor:e.bgColor}),(0,p.jsx)(WU,{cellSize:n,element:e.logo?.element,bgColor:e.bgColor,matrixSize:r.length})]})},WB=yR.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],e=>`${e.$size}px`,e=>`${e.$size}px`,e=>e.$bgColor,e=>e.$borderColor),WW=e=>{let{appearance:t}=Rj(),r=e.bgColor||"#FFFFFF",n=e.fgColor||"#000000",i=e.size||160,a="dark"===t.palette.colorScheme?r:n;return(0,p.jsx)(WB,{$size:i,$bgColor:r,$fgColor:n,$borderColor:a,children:(0,p.jsx)(WF,{url:e.url,logo:{element:e.squareLogoElement??W$},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:e.errorCorrectionLevel||"Q"})})},Wz={component:()=>{let{navigate:e,app:t}=RM(),r=t?.allowlistConfig.errorTitle||"You don't have access to this app",n=t?.allowlistConfig.errorDetail||"Have you been invited?",i=t?.allowlistConfig.errorCtaText||"Try another account";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsxs)(Wq,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(BL,{}),(0,p.jsx)(BZ,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})]})}),(0,p.jsxs)(WH,{children:[(0,p.jsx)("string"==typeof r?"h3":p.Fragment,{children:r}),(0,p.jsx)("string"==typeof n?"p":p.Fragment,{children:n})]}),t?.allowlistConfig.errorCtaLink?(0,p.jsx)(DE,{as:"a",href:t.allowlistConfig.errorCtaLink,children:i}):(0,p.jsx)(DE,{onClick:()=>{e(qk)},children:i})]})]})}},Wq=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-274cb2fe-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),WH=yR.div.withConfig({displayName:"GappedContainer",componentId:"sc-274cb2fe-1"})(["display:flex;flex-direction:column;gap:8px;"]),WV=({style:e,...t})=>(0,p.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...e},...t,children:(0,p.jsx)("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),WG={component:()=>{let{navigate:e}=RM();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsxs)(WK,{children:[(0,p.jsx)(WJ,{children:(0,p.jsx)(WV,{})}),(0,p.jsxs)(WY,{children:[(0,p.jsx)("h3",{children:"Unable to sign in"}),(0,p.jsx)("p",{children:"This application has reached its user limit and cannot sign in new users."})]}),(0,p.jsx)(DE,{onClick:()=>{e(qk)},children:"Go back"})]}),(0,p.jsx)(DM,{})]})}},WK=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-b3ae112e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-top:8px;padding-bottom:32px;"]),WJ=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-b3ae112e-1"})(["display:flex;align-items:center;justify-content:center;height:72px;aspect-ratio:1;color:var(--privy-color-error);background-color:var(--privy-color-error-light);border-radius:50%;"]),WY=yR.div.withConfig({displayName:"GappedContainer",componentId:"sc-b3ae112e-2"})(["display:flex;flex-direction:column;gap:8px;"]),WZ="#8a63d2",WQ={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=R8(),{lastScreen:i,navigate:a,navigateBack:s,setModalData:o,app:l}=RM(),{getAuthFlow:c,loginWithFarcaster:d,closePrivyModal:u,createAnalyticsEvent:h}=(0,l1.u)(),[g,y]=(0,f.useState)(void 0),[w,v]=(0,f.useState)(!1),[b,x]=(0,f.useState)(!1),E=(0,f.useRef)([]),_=c(),C=_?.meta.connectUri;return(0,f.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{let r=await _.pollForReady.execute(),n=Date.now()-e;if(r){clearInterval(t),v(!0);try{await d(),x(!0)}catch(t){let e={retryable:!1,message:"Authentication failed"};if(t?.privyErrorCode===l1.a.ALLOWLIST_REJECTED)return void a(Wz);if(t?.privyErrorCode===l1.a.USER_LIMIT_REACHED)return console.error(new l1.ak(t).toString()),void a(WG);if(t?.privyErrorCode===l1.a.USER_DOES_NOT_EXIST)return void a(BM);if(t?.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER)e.detail=t.message??"This account has already been linked to another user.";else{if(t?.privyErrorCode===l1.a.ACCOUNT_TRANSFER_REQUIRED&&t.data?.data?.nonce)return o({accountTransfer:{nonce:t.data?.data?.nonce,account:t.data?.data?.subject,displayName:t.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:t.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:t.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void a(Wi);t?.privyErrorCode===l1.a.INVALID_CREDENTIALS?(e.retryable=!0,e.detail="Something went wrong. Try again."):t?.privyErrorCode===l1.a.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again.")}y(e)}}else n>12e4&&(clearInterval(t),y({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(t),E.current.forEach(e=>clearTimeout(e))}},[]),(0,f.useEffect)(()=>{if(r&&e&&b&&n){if(l?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{a(Wf)},1400);return()=>clearTimeout(e)}b&&(BO(n,l.embeddedWallets)?E.current.push(setTimeout(()=>{o({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"FarcasterConnectStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),a(Wh)},1400)):E.current.push(setTimeout(()=>u({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400)))}},[b,r,e,n]),(0,p.jsxs)(p.Fragment,m.Fr||w?{children:[(0,p.jsx)(DF,{backFn:i?s:void 0,onClose:u},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(p.Fragment,m.un?{children:(0,p.jsxs)(W0,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:b,fail:!!g}),(0,p.jsx)(W_,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)(Ub,{children:g?g.message:"Sign in with Farcaster"}),(0,p.jsx)(Ux,{children:g?g.detail:"To sign in with Farcaster, please open the Warpcast app."})]}),C&&(0,p.jsx)(DE,{onClick:e=>{e.preventDefault(),window.location.href=C},children:"Open Warpcast app"})]})}:{children:(0,p.jsxs)(WX,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:b,fail:!!g}),(0,p.jsx)(W_,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)(Ub,{children:g?g.message:"Signing in with Farcaster"}),(0,p.jsx)(Ux,{children:g?g.detail:"This should only take a moment"}),(0,p.jsx)(LP,{children:C&&m.Fr&&(0,p.jsx)(WN,{text:"Take me to Warpcast",url:C,color:WZ})})]})]})}),(0,p.jsx)(DR,{})]}:{children:[(0,p.jsx)(DF,{backFn:i?s:void 0,onClose:u},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(WX,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Ub,{children:"Sign in with Farcaster"}),(0,p.jsx)(Ux,{children:"Scan with your phone's camera to continue."}),(0,p.jsx)(LN,{children:C?(0,p.jsx)(WW,{url:C,size:275,squareLogoElement:W_}):(0,p.jsx)(Dy,{})}),(0,p.jsxs)(LP,{children:[(0,p.jsx)(Ux,{children:"Or copy this link and paste it into a phone browser to open the Warpcast app."}),C&&(0,p.jsx)(WP,{text:C,itemName:"link",color:WZ})]})]})}),(0,p.jsx)(DR,{})]})}},WX=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-69a6d91f-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),W0=yR.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-69a6d91f-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),W1=()=>{let[e,t]=(0,f.useState)(!1),{currentScreen:r,navigate:n,setModalData:i,data:a}=RM(),{enabled:s,token:o}=Mg(),{initLoginWithFarcaster:l}=(0,l1.u)(),{accountType:c}=B_();return(0,p.jsxs)(Du,{onClick:async()=>{t(!0);try{s&&!o?(i({captchaModalData:{callback:e=>l(e,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:WQ,onErrorNavigateTo:BQ}}),n(WA)):(await l(o,a?.login?.disableSignup),n(WQ))}catch(e){i({errorModalData:{error:e,previousScreen:r||qk}}),n(BQ)}finally{t(!1)}},disabled:!1,children:[(0,p.jsx)(W_,{})," Farcaster",e&&(0,p.jsx)(Dv,{}),"farcaster"===c&&(0,p.jsx)(W2,{color:"gray",children:"Recent"})]})},W2=yR(Wx).withConfig({displayName:"StyledChip",componentId:"sc-30c9632d-0"})(["margin-left:auto;"]),W3=({style:e,...t})=>(0,p.jsxs)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,p.jsxs)("g",{clipPath:"url(#clip0_113_33841)",children:[(0,p.jsx)("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),(0,p.jsx)("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),(0,p.jsx)("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),(0,p.jsx)("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),(0,p.jsx)("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),(0,p.jsx)("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),(0,p.jsx)("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),(0,p.jsx)("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),(0,p.jsx)("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),(0,p.jsx)("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),(0,p.jsx)("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),(0,p.jsx)("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),(0,p.jsx)("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),(0,p.jsx)("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),(0,p.jsx)("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),(0,p.jsx)("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),(0,p.jsx)("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),(0,p.jsx)("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),(0,p.jsx)("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),(0,p.jsx)("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),(0,p.jsx)("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),(0,p.jsx)("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_113_33841",children:(0,p.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),W5={component:()=>{let{app:e,lastScreen:t,currentScreen:r,navigateBack:n,data:i,setModalData:a,navigate:s}=RM(),{loginWithPasskey:o,signupWithPasskey:l,closePrivyModal:c,createAnalyticsEvent:d}=(0,l1.u)(),{user:u,logout:h}=R8(),{passkeySignupFlow:g}=i?.passkeyAuthModalData??{},[m,y]=(0,f.useState)("loading"),[w,v]=(0,f.useState)(null),b=(0,f.useRef)([]),x=e=>{b.current=[e,...b.current]};(0,f.useEffect)(()=>()=>{b.current.forEach(e=>clearTimeout(e)),b.current=[]},[]);let E=async()=>{y("loading");try{g?await l():await o(),y("success")}catch(e){v(e),y("error")}};return(0,f.useEffect)(()=>{if("success"===m&&u){if(e?.legal.requireUsersAcceptTerms&&!u.hasAcceptedTerms)return void x(setTimeout(()=>{s(Wf)},900));if(!BO(u,e?.embeddedWallets))return void x(setTimeout(()=>{c({shouldCallAuthOnSuccess:!0,isSuccess:!0})},1400));x(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),d({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"PasskeyStatusScreen"}}),h()},callAuthOnSuccessOnClose:!0}}),s(Wh)},900))}},[u,m]),(0,f.useEffect)(()=>{E()},[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:t&&r!==t?n:void 0}),(0,p.jsxs)(W4,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:"success"===m,fail:"error"===m}),(0,p.jsx)(W3,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:(()=>{switch(m){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})()}),(0,p.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:(()=>{switch(m){case"loading":return g?"Please follow prompts to register your passkey.":"Please follow prompts to verify your passkey.\nYou will have to sign up with another method first to register a passkey for your account.";case"success":return"You've successfully logged in with your passkey.";case"error":if(w instanceof l1.B){if(w.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(w.privyErrorCode===l1.a.PASSKEY_NOT_ALLOWED)return"Passkey request timed out or rejected by user.\nYou will have to sign up with another method first to register a passkey for your account."}return"An unknown error occurred.\nYou will have to sign up with another method first to register a passkey for your account."}})()})]}),(()=>{switch(m){case"loading":case"success":return(0,p.jsx)(DE,{onClick:()=>{},disabled:!0,children:"Continue"});case"error":return(0,p.jsx)(DE,{onClick:E,disabled:!1,children:"Retry"})}})()]}),(0,p.jsx)(DR,{})]})}},W4=yR.div.withConfig({displayName:"Container",componentId:"sc-46c03a59-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),W6={component:()=>{let{enabled:e,token:t}=Mg(),{lastScreen:r,currentScreen:n,navigateBack:i,navigate:a,setModalData:s}=RM(),{initSignupWithPasskey:o,initLoginWithPasskey:l}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:r&&n!==r?i:void 0}),(0,p.jsx)(Uv,{children:(0,p.jsxs)(W8,{children:[(0,p.jsx)(UL,{}),(0,p.jsx)(W3,{})]})}),(0,p.jsx)(Ub,{children:"Log in or create a new account?"}),(0,p.jsx)(Ux,{children:"Create a new account with a passkey or use a passkey to log in to an existing account."}),(0,p.jsxs)(UA,{children:[(0,p.jsx)(DE,{onClick:async()=>{e&&!t?(s({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:e=>o({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:W5,onErrorNavigateTo:BQ}}),a(WA)):(await o({withPrivyUi:!0}),s({passkeyAuthModalData:{passkeySignupFlow:!0}}),a(W5))},children:"Create new account"}),(0,p.jsx)(U$,{onClick:async()=>{e&&!t?(s({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>l({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:W5,onErrorNavigateTo:BQ}}),a(WA)):(await l({withPrivyUi:!0}),s({passkeyAuthModalData:{passkeySignupFlow:!1}}),a(W5))},children:"Log in with a passkey"})]}),(0,p.jsx)(DM,{})]})}},W8=yR.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-f058c8a2-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent);stroke:var(--privy-color-accent);fill:var(--privy-color-accent);}"]),W9=()=>{let{enabled:e,token:t}=Mg(),{navigate:r,setModalData:n,app:i,data:a}=RM(),{initLoginWithPasskey:s}=(0,l1.u)(),o=()=>{i.loginConfig.passkeysForSignupEnabled?r(W6):(async()=>{e&&!t?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>s({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:W5,onErrorNavigateTo:BQ}}),r(WA)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(W5))})()};return 0===(0,f.useMemo)(()=>{let e=a?.login?.loginMethods;return e?e.filter(e=>"passkey"!==e).length:Object.entries(i.loginMethods).filter(([e,t])=>t).filter(([e])=>"passkey"!==e).length},[i.loginMethods,a?.login])?(0,p.jsxs)(Du,{onClick:o,children:[(0,p.jsx)(yB,{})," Continue with passkey"]}):(0,p.jsx)(ze,{onClick:o,children:"I have a passkey"})},W7=yM(["&&{width:100%;font-size:0.875rem;line-height:1rem;display:flex;gap:0.5rem;justify-content:center;align-items:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]),ze=yR.button.withConfig({displayName:"StyledLink",componentId:"sc-1c6127e5-0"})(["",""],W7),zt=({value:e,onChange:t})=>(0,p.jsx)("select",{value:e,onChange:t,children:re.map(e=>(0,p.jsxs)("option",{value:e.code,children:[e.code," +",e.callCode]},e.code))}),zr=(0,f.forwardRef)((e,t)=>{let{app:r}=RM(),[n,i]=(0,f.useState)(!1),{accountType:a}=B_(),[s,o]=(0,f.useState)(""),[l,c]=(0,f.useState)(r?.intl.defaultCountry??"US"),d=t6(s,l),u=t7(l),h=rt(l),g=tI(l),m=!d,[y,w]=(0,f.useState)(!1),v=g.length,b=t=>{let r=t.target.value;c(r),o(""),e.onChange&&e.onChange({rawPhoneNumber:s,qualifiedPhoneNumber:t8(s,r),countryCode:r,isValid:t6(s,l)})},x=(t,r)=>{try{let n=t.replace(/\D/g,"")===s.replace(/\D/g,"")?t:u.input(t);o(n),e.onChange&&e.onChange({rawPhoneNumber:n,qualifiedPhoneNumber:t8(t,r),countryCode:r,isValid:t6(t,r)})}catch(e){console.error("Error processing phone number:",e)}},E=()=>{w(!0);let t=t8(s,l);e.onSubmit({rawPhoneNumber:s,qualifiedPhoneNumber:t,countryCode:l,isValid:t6(s,l)}).finally(()=>w(!1))};return(0,f.useEffect)(()=>{if(e.defaultValue){let t=rr(e.defaultValue);u.reset(),b({target:{value:t.countryCode}}),x(t.phone,t.countryCode)}},[e.defaultValue]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(zn,{children:(0,p.jsxs)(zi,{$callingCodeLength:v,$stacked:e.stacked,children:[(0,p.jsx)(zt,{value:l,onChange:b}),(0,p.jsx)("input",{ref:t,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:h,onFocus:()=>i(!0),onChange:e=>{x(e.target.value,l)},onKeyUp:e=>{"Enter"===e.key&&E()},value:s,autoComplete:"tel"}),"phone"!==a||n||e.hideRecent?e.stacked||e.noIncludeSubmitButton?(0,p.jsx)("span",{}):(0,p.jsx)(DP,{isSubmitting:y,onClick:E,disabled:m,children:"Submit"}):(0,p.jsx)(Wx,{color:"gray",children:"Recent"})]})}),e.stacked&&!e.noIncludeSubmitButton?(0,p.jsx)(DE,{loading:y,loadingText:null,onClick:E,disabled:m,children:"Submit"}):null]})}),zn=yR.div.withConfig({displayName:"InputContainer",componentId:"sc-2a729487-0"})(["width:100%;"]),zi=yR.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-2a729487-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-mdlg);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$stacked?"16px":"88px"),za=({isEditable:e,setIsEditable:t,defaultValue:r})=>{let n=(0,f.useRef)(null),{authenticated:i}=R8(),{navigate:a,setModalData:s,currentScreen:o,data:l}=RM(),{initLoginWithSms:c}=(0,l1.u)(),{enabled:d,token:u}=Mg(),{whatsAppEnabled:h}=Rj();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Dp,{$if:!e,children:(0,p.jsx)(zr,{ref:n,onSubmit:async function({qualifiedPhoneNumber:e}){if(!d||u||i)try{await c({phoneNumber:e,captchaToken:u,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),a(qa)}catch(e){s({errorModalData:{error:e,previousScreen:o||qk}}),a(BQ)}else s({captchaModalData:{callback:t=>c({phoneNumber:e,captchaToken:t,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:qa,onErrorNavigateTo:BQ}}),a(WA)},defaultValue:r})}),(0,p.jsx)(Dp,{$if:e,children:(0,p.jsxs)(Du,{onClick:()=>{t(),setTimeout(()=>{n.current?.focus()},0)},children:[(0,p.jsx)(yW,{})," Continue with ",h?"WhatsApp":"SMS"]})})]})},zs={apple:{logo:(0,p.jsx)($1,{}),displayName:"Apple"},discord:{logo:(0,p.jsx)($2,{}),displayName:"Discord"},github:{logo:(0,p.jsx)($3,{}),displayName:"GitHub"},google:{logo:(0,p.jsx)($4,{}),displayName:"Google"},linkedin:{logo:(0,p.jsx)($8,{}),displayName:"LinkedIn"},spotify:{logo:(0,p.jsx)($9,{}),displayName:"Spotify"},instagram:{logo:(0,p.jsx)($6,{}),displayName:"Instagram"},twitter:{logo:(0,p.jsx)(Me,{}),displayName:"Twitter"},tiktok:{logo:(0,p.jsx)($7,{}),displayName:"TikTok"}},zo=({provider:e})=>{let{enabled:t,token:r}=Mg(),{navigate:n,setModalData:i,data:a}=RM(),[s,o]=(0,f.useState)(!1),{initLoginWithOAuth:l}=(0,l1.u)(),{accountType:c}=B_(),d=(0,f.useMemo)(()=>c&&"guest"!==c&&"authorization_key"!==c&&"cross_app"!==c?By(c):null,[c]),{displayName:u,logo:h}=zs[e];return(0,p.jsxs)(Du,{onClick:()=>{o(!0),setTimeout(()=>{o(!1)},2e3),t&&!r?(i({captchaModalData:{callback:t=>l(e,t,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:BQ}}),n(WA)):l(e,void 0,a?.login?.disableSignup)},disabled:s,children:[h," ",u,d?.loginMethod===e&&(0,p.jsx)(zl,{color:"gray",children:"Recent"})]})},zl=yR(Wx).withConfig({displayName:"StyledChip",componentId:"sc-f704c458-0"})(["margin-left:auto;"]);function zc(e){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 240 240",...e,children:[(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{x1:"120",y1:"240",x2:"120",gradientUnits:"userSpaceOnUse",id:"telegram-linear-gradient",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#1d93d2"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#38b0e3"})]})}),(0,p.jsx)("title",{children:"Telegram_logo"}),(0,p.jsx)("circle",{cx:"120",cy:"120",r:"120",fill:"url(#telegram-linear-gradient)"}),(0,p.jsx)("path",{d:"M81.229,128.772l14.237,39.406s1.78,3.687,3.686,3.687,30.255-29.492,30.255-29.492l31.525-60.89L81.737,118.6Z",fill:"#c8daea"}),(0,p.jsx)("path",{d:"M100.106,138.878l-2.733,29.046s-1.144,8.9,7.754,0,17.415-15.763,17.415-15.763",fill:"#a9c6d8"}),(0,p.jsx)("path",{d:"M81.486,130.178,52.2,120.636s-3.5-1.42-2.373-4.64c.232-.664.7-1.229,2.1-2.2,6.489-4.523,120.106-45.36,120.106-45.36s3.208-1.081,5.1-.362a2.766,2.766,0,0,1,1.885,2.055,9.357,9.357,0,0,1,.254,2.585c-.009.752-.1,1.449-.169,2.542-.692,11.165-21.4,94.493-21.4,94.493s-1.239,4.876-5.678,5.043A8.13,8.13,0,0,1,146.1,172.5c-8.711-7.493-38.819-27.727-45.472-32.177a1.27,1.27,0,0,1-.546-.9c-.093-.469.417-1.05.417-1.05s52.426-46.6,53.821-51.492c.108-.379-.3-.566-.848-.4-3.482,1.281-63.844,39.4-70.506,43.607A3.21,3.21,0,0,1,81.486,130.178Z",fill:"#fff"})]})}let zd={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=R8(),{app:i,setModalData:a,navigate:s,resetNavigation:o,data:l}=RM(),{initLoginWithTelegram:c,loginWithTelegram:d,updateWallets:u,setReadyToTrue:h,closePrivyModal:g,createAnalyticsEvent:m,getAuthMeta:y}=(0,l1.u)(),[w,v]=(0,f.useState)(!1),[b,x]=(0,f.useState)(void 0),E=Mg();async function _(){try{let t=await async function(){let t;if(!e){if(E.enabled&&"error"===E.status)throw new Mp(E.error,null,l1.a.CAPTCHA_FAILURE);return E.enabled&&"success"!==E.status&&(E.execute(),t=await E.waitForResult()),t}}();await d({captchaToken:t}),v(!0),h(!0)}catch(r){if(r?.privyErrorCode===l1.a.ALLOWLIST_REJECTED)return x(void 0),o(),void s(Wz);if(r?.privyErrorCode===l1.a.USER_LIMIT_REACHED)return console.error(new l1.ak(r).toString()),x(void 0),o(),void s(WG);if(r?.privyErrorCode===l1.a.USER_DOES_NOT_EXIST)return x(void 0),o(),void s(BM);if(r?.privyErrorCode===l1.a.ACCOUNT_TRANSFER_REQUIRED&&r.data?.data?.nonce)return x(void 0),o(),a({accountTransfer:{nonce:r.data?.data?.nonce,account:r.data?.data?.subject,telegramAuthResult:y()?.telegramAuthResult,telegramWebAppData:y()?.telegramWebAppData,displayName:r.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:r.data?.data?.otherUser?.embeddedWalletAddress}}),void s(Wi);let{retryable:e,detail:t}=My(r);x({retryable:e,detail:t,message:"Authentication failed"})}}(0,f.useEffect)(()=>{_()},[]),(0,f.useEffect)(()=>{if(!(r&&e&&w&&n))return;if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{s(Wf)},1400);return()=>clearTimeout(e)}if(BO(n,i.embeddedWallets)){let e=setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:"telegram",screen:"TelegramAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),s(Wh)},1400);return()=>clearTimeout(e)}u();let o=setTimeout(()=>g({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(o)},[r,e,w,n]);let C=w?"Successfully connected with Telegram":b?b.message:"Verifying connection to Telegram",k="";return k=w?"Youre good to go!":b?b.detail:"Just a few moments more",(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(zu,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:w,fail:!!b}),(0,p.jsx)(zc,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:C}),(0,p.jsx)("p",{children:k})]}),b&&b?.retryable?(0,p.jsx)(DT,{onClick:async()=>{try{x(void 0),l?.telegramAuthModalData?.seamlessAuth||await c(void 0,l?.login?.disableSignup),await _()}catch(r){let{retryable:e,detail:t}=My(r);x({retryable:e,detail:t,message:"Authentication failed"})}},disabled:!w&&!b?.retryable,children:"Retry"}):null]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DR,{})]})},isCaptchaRequired:!0},zu=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-491d0b9b-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),zh=()=>{let{enabled:e,token:t}=Mg(),{navigate:r,setModalData:n,data:i}=RM(),[a,s]=(0,f.useState)(!1),{initLoginWithTelegram:o}=(0,l1.u)(),{accountType:l}=B_();async function c(e){try{await o(e,i?.login?.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(zd)}catch(e){console.error(e),s(!1)}}return(0,p.jsxs)(Du,{onClick:async function(){if(s(!0),e&&!t)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:BQ}}),void r(WA);await c(t)},disabled:a,children:[(0,p.jsx)(zc,{}),"Telegram","telegram"===l&&(0,p.jsx)(zp,{color:"gray",children:"Recent"})]})},zp=yR(Wx).withConfig({displayName:"StyledChip",componentId:"sc-d81b85b5-0"})(["margin-left:auto;"]),zf=({icon:e,name:t})=>"string"==typeof e?(0,p.jsx)("img",{alt:`${t||"wallet"} logo`,src:e,style:{height:24,width:24,borderRadius:4}}):void 0===e?(0,p.jsx)(Ov,{}):e?(0,p.jsx)(e,{}):null;function zg(e){let t=e.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some(e=>t.includes(e))}let zm=e=>{let t=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter(e=>(0,v.q)(e,{strict:!0})).map(e=>(0,y.b)(e));return!!t?.length&&!!e?.linkedAccounts.filter(e=>"wallet"==e.type&&t.includes(e.address)).length},zy=(0,f.createContext)({plugins:{current:{}}}),zw=({children:e})=>{let t=(0,f.useRef)({});return(0,p.jsx)(zy.Provider,{value:{plugins:t},children:e})},zv=()=>{let{plugins:e}=(0,f.useContext)(zy);return(0,f.useCallback)(t=>e.current[t],[e])},zb=Symbol("solana-ledger-plugin"),zx=e=>(0,p.jsx)("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...e,children:(0,p.jsx)("g",{children:(0,p.jsx)("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),zE={component:function(){let{data:e,setModalData:t,navigateBack:r,lastScreen:n,navigate:i}=RM();function a(r){t("wallet"===r?{...e,login:{...e?.login,isSigningInWithLedgerSolana:!1}}:{...e,login:{...e?.login,isSigningInWithLedgerSolana:!0}}),i(zP)}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:n&&n!==zP?r:void 0}),(0,p.jsxs)(z_,{children:[(0,p.jsxs)(zC,{children:[(0,p.jsx)(M4,{style:{width:"48px",height:"48px"}}),(0,p.jsx)(OS,{width:24,height:24}),(0,p.jsx)(zx,{style:{width:"48px",height:"48px"}})]}),(0,p.jsxs)(zk,{children:[(0,p.jsx)(zA,{children:"Phantom supports Ledger"}),(0,p.jsxs)(zI,{children:["Are you using a Ledger hardware wallet?",(0,p.jsx)("br",{}),"Continue to sign with Ledger"]})]}),(0,p.jsxs)(zS,{children:[(0,p.jsx)(DI,{onClick:()=>a("wallet"),children:"Continue without Ledger"}),(0,p.jsx)(DE,{onClick:()=>a("ledger"),children:"Continue with Ledger"})]})]}),(0,p.jsx)(DM,{})]})}},z_=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8c598100-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),zC=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-8c598100-1"})(["display:flex;align-items:center;justify-content:center;gap:8px;"]),zk=yR.div.withConfig({displayName:"TextContainer",componentId:"sc-8c598100-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;"]),zA=yR.p.withConfig({displayName:"Title",componentId:"sc-8c598100-3"})(["&&{font-size:18px;font-weight:600;}"]),zI=yR.p.withConfig({displayName:"Subtitle",componentId:"sc-8c598100-4"})(["&&{font-size:14px;}"]),zS=yR.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-8c598100-5"})(["width:100%;display:flex;flex-direction:column;gap:10px;margin-top:24px;"]),zT=e=>e?.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER?MF.ERROR_USER_EXISTS:e instanceof MU&&!e.details.default?e.details:e instanceof MM?MF.ERROR_TIMED_OUT:e instanceof MR?MF.ERROR_USER_REJECTED_CONNECTION:e?.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE?MF.ERROR_USER_LIMIT_REACHED:MF.ERROR_WALLET_CONNECTION,zP={component:()=>{let e,[t,r]=(0,f.useState)(!1),[n,i]=(0,f.useState)(!1),[a,s]=(0,f.useState)(void 0),{authenticated:o,logout:l}=R8(),{app:c,navigate:d,navigateBack:u,lastScreen:h,currentScreen:g,setModalData:y,data:w}=RM(),{getAuthFlow:v,walletConnectionStatus:b,closePrivyModal:x,initLoginWithWallet:E,loginWithWallet:_,updateWallets:C,createAnalyticsEvent:k}=(0,l1.u)(),{walletConnectors:A}=R8(),[I,S]=(0,f.useState)(0),{user:T}=R8(),P=zv(),[j]=(0,f.useState)(T?.linkedAccounts.length||0),[N,O]=(0,f.useState)(""),[$,M]=(0,f.useState)(""),[R,D]=(0,f.useState)(!1),{hasTabbedAway:L}=function(){let[e,t]=(0,f.useState)(!1),r=(0,f.useCallback)(()=>{document.hidden&&t(!0)},[]);return(0,f.useEffect)(()=>(document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)),[r]),{hasTabbedAway:e,reset:()=>t(!1)}}(),{enabled:U,token:F}=Mg(),B=Rg(b?.connector?.walletClientType||"unknown"),W=m.Fr&&"wallet_connect_v2"===b?.connector?.connectorType||m.Fr&&"coinbase_wallet"===b?.connector?.connectorType||m.Fr&&"injected"===b?.connector?.connectorType&&"phantom"===b?.connector?.walletClientType,z="connected"===b?.status,q="switching_to_supported_chain"===b?.status;(0,f.useEffect)(()=>{let e=v(),t=e instanceof Ms||e instanceof Mc?e:void 0;z&&"solana"===b.connector?.chainType&&"phantom"===b.connector?.walletClientType&&P(zb)&&void 0===w?.login?.isSigningInWithLedgerSolana?d(zE,!1):(z&&!t&&(!U||F||o?E(b.connectedWallet,F,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{D(!0)}):(y({captchaModalData:{callback:e=>E(b.connectedWallet,e,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{D(!0)}),userIntentRequired:!1,onSuccessNavigateTo:zP,onErrorNavigateTo:BQ}}),d(WA,!1))),t instanceof Mc&&w?.login?.isSigningInWithLedgerSolana&&(t.messageType="transaction"),t&&W&&z&&!t.preparedMessage?t.buildMessage():t&&!W&&z&&(n||(async()=>{i(!0),s(void 0);try{"wallet_connect_v2"===b?.connector?.connectorType&&"metamask"===b?.connector?.walletClientType&&await $p(2500),await V()}catch(e){console.warn("Auto-prompted signature failed",e)}finally{i(!1)}})()))},[I,z,R]),(0,f.useEffect)(()=>{if(T&&t){if(c?.legal.requireUsersAcceptTerms&&!T.hasAcceptedTerms){let e=setTimeout(()=>{d(Wf)},900);return()=>clearTimeout(e)}if(BO(T,c.embeddedWallets)){let e=setTimeout(()=>{y({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),k({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),d(Wh)},900);return()=>clearTimeout(e)}C();let e=setTimeout(()=>x({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(e)}},[T,t]);let H=e=>{if(e?.privyErrorCode!==l1.a.ALLOWLIST_REJECTED){if(e?.privyErrorCode===l1.a.USER_LIMIT_REACHED)return console.error(new l1.ak(e).toString()),void d(WG);if(e?.privyErrorCode!==l1.a.USER_DOES_NOT_EXIST)return e?.privyErrorCode===l1.a.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce?(y({accountTransfer:{nonce:e.data?.data?.nonce,account:v()?.meta.address,displayName:e.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:v()?.meta.walletClientType,chainId:v()?.meta.chainId,connectorType:v()?.meta.connectorType},linkMethod:"siwe",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void d(Wi)):void s(zT(e));d(BM)}else d(Wz)};async function V(){try{await _(),r(!0)}catch(e){H(e)}finally{i(!1)}}(0,f.useEffect)(()=>{b?.connectError&&H(b?.connectError)},[b]),((e,t)=>{let r=(0,f.useRef)(()=>{});(0,f.useEffect)(()=>{r.current=e}),(0,f.useEffect)(()=>{if(null!==t){let e=setInterval(()=>r.current(),t||0);return()=>clearInterval(e)}},[t])})(()=>{let e="wallet_connect_v2"===G&&b?.connector instanceof RR?b.connector.redirectUri:void 0;e&&O(e);let t="wallet_connect_v2"===G&&b?.connector instanceof RR?b.connector.fallbackUniversalRedirectUri:void 0;t&&M(t)},b?.connector instanceof RR&&!N?500:null);let G=b?.connector?.connectorType||"injected",K=b?.connector?.walletClientType||"unknown",J=B?.metadata?.shortName||B?.name||b?.connector?.walletBranding.name||"Browser Extension",Y=B?.image_url?.md||b?.connector?.walletBranding.icon||(e=>(0,p.jsx)(M3,{...e})),Z="Browser Extension"===J?J.toLowerCase():J;e=t?`Successfully connected with ${Z}`:a?a.message:q?"Switching networks":z?n&&W?"Signing":"Sign to verify":`Waiting for ${Z}`;let Q="Dont see your wallet? Check your other browser windows.";t?Q=j===(T?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":I>=2&&a?Q="Unable to connect wallet":a?Q=a.detail:q?Q="Switch your wallet to the requested network.":z&&W?Q="Sign the message in your wallet to verify it belongs to you.":"metamask"===K&&m.Fr?Q="Click continue to open and connect MetaMask.":"metamask"===K?Q="For the best experience, connect only one wallet at a time.":"wallet_connect"===G?Q="Open your mobile wallet app to continue":"coinbase_wallet"===G?$o()||(Q=zm(T)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):w?.login?.isSigningInWithLedgerSolana&&(Q="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let X=A?.walletConnectors?.find(e=>"coinbase_wallet"===e.walletClientType),ee="coinbase_wallet"===K&&(zm(T)||a===MF.ERROR_USER_EXISTS);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:h&&g!==h?u:void 0}),(0,p.jsxs)(zj,{children:[(0,p.jsx)(zO,{walletLogo:Y,success:t,fail:!!a}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:e}),(0,p.jsx)("p",{children:Q}),z||!N||L?null:(0,p.jsxs)("p",{children:["Still here?"," ",(0,p.jsx)("a",{href:N,target:"_blank",style:{textDecoration:"underline"},children:"Try connecting again"}),$&&(0,p.jsxs)(p.Fragment,{children:[" ","or"," ",(0,p.jsx)("a",{href:$,target:"_blank",style:{textDecoration:"underline"},children:"use this different link"})]})]})]}),ee?(0,p.jsx)(DE,{onClick:()=>X&&X?.disconnect(),disabled:t,children:"Use a different wallet"}):a==MF.ERROR_USER_EXISTS&&g!==h?(0,p.jsx)(DE,{onClick:u,children:"Use a different wallet"}):z&&!t&&W?(0,p.jsx)(DE,{onClick:()=>{i(!0),V()},disabled:n,children:n?"Signing":"Sign with your wallet"}):!t&&a?.retryable&&I<2?(0,p.jsx)(DE,{onClick:()=>{S(I+1),s(void 0),z?(i(!0),V()):b?.connectRetry()},disabled:!t&&(!a?.retryable||I>=2),children:"Retry"}):t||a?null:(0,p.jsx)(DE,{onClick:()=>{},disabled:!0,children:"Connecting"})]}),(0,p.jsx)(DR,{})]})}},zj=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-a555d5b3-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),zN=yR.div.withConfig({displayName:"StackedContainer",componentId:"sc-a555d5b3-1"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),zO=e=>{let t=e.walletLogo;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(zN,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:e.success,fail:e.fail}),"string"==typeof t?(0,p.jsx)("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):(0,p.jsx)(t,{style:{width:"38px",height:"38px"}})]})})})},z$={component:()=>{let e,{navigateBack:t,navigate:r,lastScreen:n,currentScreen:i,data:a,setModalData:s}=RM(),{walletConnectionStatus:o,closePrivyModal:l}=(0,l1.u)(),[c,d]=(0,f.useState)(void 0),[u,h]=(0,f.useState)(0),g=Rg(o?.connector?.walletClientType||"unknown"),y="connected"===o?.status,w="switching_to_supported_chain"===o?.status;(0,f.useEffect)(()=>{if(y){let e;if(a?.externalConnectWallet?.onCompleteNavigateTo){let t=a.externalConnectWallet.onCompleteNavigateTo,n=o.connectedWallet?.address;e=setTimeout(()=>{a.funding&&s({...a,funding:{...a.funding,connectedWalletAddress:n}}),r(t({walletChainType:o.connector?.chainType}))},1400)}else e=setTimeout(l,1400);return()=>clearTimeout(e)}},[y]),(0,f.useEffect)(()=>{o?.connectError&&d(zT(o?.connectError))},[o]);let v=o?.connector?.connectorType||"injected",b=o?.connector?.walletClientType||"unknown",x=g?.metadata?.shortName||g?.name||o?.connector?.walletBranding.name||"Browser Extension",E=g?.image_url?.md||o?.connector?.walletBranding.icon||(e=>(0,p.jsx)(M3,{...e})),_="Browser Extension"===x?x.toLowerCase():x;e=y?`Successfully connected with ${_}`:c?c.message:w?"Switching networks":`Waiting for ${_}`;let C="Dont see your wallet? Check your other browser windows.";return y?C="Youre good to go!":u>=2&&c?C="Unable to connect wallet":c?C=c.detail:w?C="Switch your wallet to the requested network.":"metamask"===b&&m.Fr?C="Click to continue to open and connect MetaMask.":"metamask"===b?C="For the best experience, connect only one wallet at a time.":"wallet_connect_v2"===v?C="Open your mobile wallet app to continue":"coinbase_wallet"===v&&(C="Open the Coinbase app on your phone to continue."),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:i===n?void 0:t}),(0,p.jsxs)(zM,{children:[(0,p.jsx)(zO,{walletLogo:E,success:y,fail:!!c}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:e}),(0,p.jsx)("p",{children:C})]}),c==MF.ERROR_USER_EXISTS?(0,p.jsx)(DE,{onClick:t,children:"Use a different wallet"}):!y&&c?.retryable&&u<2?(0,p.jsx)(DE,{onClick:()=>{h(u+1),d(void 0),o?.connectRetry()},disabled:!y&&(!c?.retryable||u>=2),children:"Retry"}):!y&&c&&u>=2?(0,p.jsx)(DE,{onClick:t,children:"Use a different wallet"}):null]}),(0,p.jsx)(DR,{})]})}},zM=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-604d07cd-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),zR=({style:e,...t})=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"17",height:"17",viewBox:"0 0 17 17",style:{height:"1.25rem",width:"1.25rem",...e},...t,children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 8.67993C16.5 9.82986 15.853 10.8287 14.9032 11.3322C15.2188 12.3599 14.97 13.5237 14.1569 14.3368C13.3437 15.1499 12.18 15.3987 11.1523 15.0831C10.6488 16.0329 9.64993 16.6799 8.5 16.6799C7.35007 16.6799 6.35126 16.0329 5.84771 15.0831C4.82003 15.3987 3.65627 15.1499 2.84314 14.3368C2.03001 13.5237 1.78124 12.3599 2.09681 11.3322C1.14699 10.8287 0.5 9.82986 0.5 8.67993C0.5 7.53 1.14699 6.53119 2.0968 6.02764C1.78125 4.99996 2.03003 3.83621 2.84315 3.02309C3.65627 2.20997 4.82002 1.96119 5.8477 2.27675C6.35125 1.32692 7.35007 0.679932 8.5 0.679932C9.64992 0.679932 10.6487 1.32691 11.1523 2.27672C12.18 1.96115 13.3437 2.20993 14.1569 3.02305C14.97 3.83618 15.2188 4.99996 14.9032 6.02764C15.853 6.53119 16.5 7.53 16.5 8.67993ZM12.2659 6.68856C12.5654 6.40238 12.5761 5.92763 12.29 5.62818C12.0038 5.32873 11.529 5.31797 11.2296 5.60416C9.73022 7.03711 8.40877 8.65489 7.3018 10.4211L5.78033 8.89963C5.48744 8.60673 5.01256 8.60673 4.71967 8.89963C4.42678 9.19252 4.42678 9.66739 4.71967 9.96029L6.92031 12.1609C7.08544 12.3261 7.31807 12.4048 7.54957 12.374C7.78106 12.3432 7.98499 12.2064 8.1012 12.0038C9.23027 10.0356 10.6362 8.24613 12.2659 6.68856Z",fill:"var(--privy-color-accent)"})}),zD=yR.div.withConfig({displayName:"TodoList",componentId:"sc-491785d-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:4px;"]),zL=yR.div.withConfig({displayName:"TodoSpacer",componentId:"sc-491785d-1"})(["&&&{margin-left:7px;border-left:2px solid var(--privy-color-foreground-4);height:12px;}"]),zU=({children:e})=>(0,p.jsxs)(zF,{children:[(0,p.jsx)(zR,{style:{width:"16px",height:"16px"}}),e]}),zF=yR.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-491785d-2"})(["display:flex;justify-content:flex-start;justify-items:center;text-align:left;gap:8px;&&{a{text-decoration:underline;color:var(--privy-color-accent);}svg{margin-top:auto;margin-bottom:auto;}}"]),zB=({name:e,installLink:t})=>(0,p.jsxs)(LP,{children:[(0,p.jsx)(Fm,{title:`Create a ${e} wallet`.replace(/wallet wallet/gi,"wallet"),description:"Follow the instructions below to get started."}),(0,p.jsxs)(zD,{children:[(0,p.jsx)(zU,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"Install the "})," ",(0,p.jsxs)("a",{href:t,target:"_blank",children:[e," browser extension"]})]})}),(0,p.jsx)(zL,{}),(0,p.jsx)(zU,{children:"Set up your first wallet"}),(0,p.jsx)(zL,{}),(0,p.jsx)(zU,{children:"Store your recovery phrase in a safe place!"})]}),(0,p.jsx)(DT,{onClick:()=>window.location.reload(),style:{marginTop:"20px"},children:"Reload the page to use your wallet"})]}),zW={component:()=>{let{navigateBack:e,data:t}=RM();if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:r}=t.installWalletModalData;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:e},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(zB,{...r}),(0,p.jsx)(LL,{}),(0,p.jsxs)(DR,{children:[(0,p.jsx)("span",{children:"Still not sure? "}),(0,p.jsx)("a",{target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]})]})}},zz={component:()=>{let{ready:e}=R8(),{data:t}=RM(),[r,n]=(0,f.useState)(!1);if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:a,chainType:s}=t.installWalletModalData,o=i.getMobileRedirect({useUniversalLink:!r,isSolana:"solana"===s,connectOnly:a}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return e&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),r&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Fy,{title:c.title,description:c.description}),(0,p.jsxs)(LT,{children:[(0,p.jsx)(Dk,{href:o,onClick:()=>setTimeout(()=>n(!0),1e3),loading:e&&!o,children:r?"Go to App Store":"Continue"}),c.footnote?(0,p.jsx)("p",{children:c.footnote}):null]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},zq=({provider:e,displayName:t,logo:r,connectOnly:n,connector:i})=>{let a,{navigate:s,setModalData:o}=RM(),{connectWallet:l}=(0,l1.u)(),c=B_(),d=Rg(e),u="wallet_connect_v2"===i.connectorType?e:i.walletClientType,h=window.matchMedia("(display-mode: standalone)").matches,f=Ri({connectorType:i.connectorType,walletClientType:u});a=f&&f.chainTypes.includes(i.chainType)?()=>{f.isInstalled||"solana"===i.chainType&&"isInstalled"in i&&i.isInstalled?(l(i,u),s(n?z$:zP)):m.Fr?(o({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:n}}),s(zz)):(o({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:n}}),s(zW))}:"coinbase_wallet"!==i.connectorType||"eoaOnly"!==i.coinbaseWalletConfig.preference?.options||!m.Fr||h||$o()?()=>{(!zg(window.navigator.userAgent)||event?.isTrusted)&&(l(i,u),s(n?z$:zP))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let g=t||d?.metadata?.shortName||d?.name||i.walletClientType;return(0,p.jsxs)(zH,{onClick:a,children:[(0,p.jsx)(zf,{icon:r||d?.image_url?.md,name:g}),(0,p.jsx)("span",{children:g}),(0,p.jsxs)(zG,{id:"chip-container",children:[c?.walletClientType===u&&c?.chainType===i.chainType?(0,p.jsx)(zV,{color:"gray",children:"Recent"}):(0,p.jsx)("span",{id:"connect-text",children:"Connect"}),"solana"===i.chainType&&(0,p.jsx)(zV,{color:"gray",children:"Solana"})]})]})},zH=yR(Du).withConfig({displayName:"ConnectWalletButton",componentId:"sc-5903b412-0"})(["> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),zV=yR(Wx).withConfig({displayName:"StyledChip",componentId:"sc-5903b412-1"})(["margin-left:auto;"]),zG=yR.div.withConfig({displayName:"ChipContainer",componentId:"sc-5903b412-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]),zK=["coinbase_wallet"],zJ=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"],zY=["safe"],zZ=["phantom","backpack","solflare","universal_profile"],zQ=({wallets:e})=>{let{app:t}=RM();return 0===e.length?(0,p.jsx)(Ww,{chainType:t.appearance.walletChainType,withPadding:!0}):(0,p.jsx)(p.Fragment,{children:e})},zX=({walletList:e,walletChainType:t,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:a,forceWallet:s})=>{let o=[],l=[],c=[],d=r.filter(e=>"ethereum-only"===t?"ethereum"===e.chainType:"solana-only"!==t||"solana"===e.chainType),u=d.find(e=>"wallet_connect_v2"===e.connectorType);for(let[r,h]of(s?[s.wallet]:e).entries()){if("detected_ethereum_wallets"===h||"detected_wallets"===h)for(let[e,t]of d.filter(({chainType:e,connectorType:t,walletClientType:r})=>"solana"!==e&&("uniswap_wallet_extension"===r||"uniswap_extension"===r?!i.includes("uniswap"):"crypto.com_wallet_extension"===r||"crypto.com_onchain"===r?!i.includes("cryptocom"):"injected"===t&&!i.includes(r))).entries()){let{walletClientType:i,walletBranding:a,chainType:s}=t;("unknown"===i?l:o).push((0,p.jsx)(zq,{connectOnly:n,provider:i,logo:a.icon,displayName:a.name,connector:t},`${r}-${h}-${i}-${s}-${e}`))}if("detected_solana_wallets"===h||"detected_wallets"===h)for(let[e,a]of d.filter(({chainType:e,walletClientType:r})=>{if("solana"===e)return"ethereum-only"!==t&&!i.includes(r)}).entries()){let{walletClientType:t,walletBranding:i,chainType:s}=a;("unknown"===t?l:o).push((0,p.jsx)(zq,{connectOnly:n,provider:t,logo:i.icon,displayName:i.name,connector:a},`${r}-${h}-${t}-${s}-${e}`))}if(zZ.includes(h)){let e=d.find(e=>"injected"===e.connectorType&&e.walletClientType===h||e.connectorType===h);if(e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:e},`${r}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=d.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:e},`${h}-solana`))}}else if(zJ.includes(h)){let e=d.find(e=>"uniswap"===h?"uniswap_wallet_extension"===e.walletClientType||"uniswap_extension"===e.walletClientType:"cryptocom"===h?"crypto.com_wallet_extension"===e.walletClientType||"crypto.com_onchain"===e.walletClientType:"injected"===e.connectorType&&e.walletClientType===h);if(a&&!e&&(e=u),e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:e,logo:"injected"===e.connectorType?e.walletBranding.icon:void 0,displayName:"injected"===e.connectorType?e.walletBranding.name:void 0},`${r}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=d.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:e},`${h}-solana`))}}else if(zK.includes(h)){let e=d.find(({connectorType:e})=>e===h);e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:e},`${r}-${h}`))}else if(zY.includes(h))u&&c.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:u},`${r}-${h}`));else if("wallet_connect"===h)u&&c.push((0,p.jsx)(zq,{connectOnly:n,provider:h,connector:u,logo:u.walletBranding.icon,displayName:"Wallet Connect"},`${r}-${h}`));else if(h===s?.wallet){let t="ethereum"===s.chainType&&e.includes("detected_ethereum_wallets"),i="solana"===s.chainType&&e.includes("detected_solana_wallets");if(e.includes("detected_wallets")||t||i){let e=d.find(({walletClientType:e})=>e===h);e&&o.push((0,p.jsx)(zq,{connectOnly:n,provider:h,displayName:e.walletBranding?.name,logo:e.walletBranding?.icon,connector:e},`${r}-${h}`))}}}return[...l,...o,...c]},z0=({onClick:e,text:t})=>(0,p.jsxs)(Du,{onClick:e,children:[(0,p.jsx)(Ov,{}),(0,p.jsx)(Da,{children:t}),(0,p.jsx)(OT,{})]}),z1=({onClick:e,text:t,icon:r})=>(0,p.jsxs)(Du,{onClick:e,children:[r,(0,p.jsx)(Da,{children:t}),(0,p.jsx)(OT,{})]}),z2=({connectOnly:e})=>{let{closePrivyModal:t,connectors:r}=(0,l1.u)(),{data:n,onUserCloseViaDialogOrKeybindRef:i}=RM(),a=Rj(),{accountType:s,walletClientType:o,chainType:l}=B_(),c=(0,f.useMemo)(()=>s&&"guest"!==s&&"authorization_key"!==s&&"cross_app"!==s?By(s):null,[s]),d=n?.login,{email:u,sms:h,google:g,twitter:m,discord:y,github:w,spotify:v,instagram:b,tiktok:x,linkedin:E,apple:_,wallet:C,farcaster:k,telegram:A}=(0,f.useMemo)(()=>d?.loginMethods?rn(d.loginMethods,!0):null,[d])??a.loginMethods,{passkey:I}=a.loginMethods,S=[u&&"email",h&&"sms",g&&"google",m&&"twitter",y&&"discord",w&&"github",v&&"spotify",b&&"instagram",x&&"tiktok",E&&"linkedin",_&&"apple",k&&"farcaster",A&&"telegram"].filter(e=>!!e),T=S.length>0,P=(0,f.useMemo)(()=>C&&!T?"web3-first":C&&a?.appearance.loginGroupPriority||"web2-first",[C,T,a?.appearance.loginGroupPriority]),j=a?.appearance.hideDirectWeb2Inputs,[N,O]=(0,f.useState)("default"),[$,M]=(0,f.useState)(z8({mostRecentlyUsedAccountType:s,smsAvailable:h,emailAvailable:u,prefilledType:d?.prefill?.type}));(0,f.useEffect)(()=>{M(z8({mostRecentlyUsedAccountType:s,smsAvailable:h,emailAvailable:u,prefilledType:d?.prefill?.type}))},[u,h,s]);let R=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{O("default")},150)};i.current=R;let D=[];o&&C?D.push(o):c?.loginMethod&&S.includes(c.loginMethod)&&D.push(c.loginMethod);let L=t=>"email"===t?(0,p.jsx)(qx,{isEditable:"email"===$,setIsEditable:()=>{M("email")},defaultValue:"email"===d?.prefill?.type?d.prefill.value:void 0},t):"sms"===t?(0,p.jsx)(za,{isEditable:"sms"===$,setIsEditable:()=>{M("sms")},defaultValue:"phone"===d?.prefill?.type?d.prefill.value:void 0},t):"apple"===t?(0,p.jsx)(zo,{provider:"apple"},t):"discord"===t?(0,p.jsx)(zo,{provider:"discord"},t):"farcaster"===t?(0,p.jsx)(W1,{},t):"github"===t?(0,p.jsx)(zo,{provider:"github"},t):"google"===t?(0,p.jsx)(zo,{provider:"google"},t):"linkedin"===t?(0,p.jsx)(zo,{provider:"linkedin"},t):"tiktok"===t?(0,p.jsx)(zo,{provider:"tiktok"},t):"spotify"===t?(0,p.jsx)(zo,{provider:"spotify"},t):"instagram"===t?(0,p.jsx)(zo,{provider:"instagram"},t):"twitter"===t?(0,p.jsx)(zo,{provider:"twitter"},t):"telegram"===t?(0,p.jsx)(zh,{},t):zX({walletList:a.appearance.walletList,walletChainType:d?.walletChainType??a.appearance.walletChainType,connectors:r,connectOnly:e,ignore:[],walletConnectEnabled:a.externalWallets.walletConnect.enabled,forceWallet:{wallet:t,chainType:l??"ethereum"}}),U=zX({walletList:a.appearance.walletList.filter(e=>e!==o),walletChainType:d?.walletChainType??a.appearance.walletChainType,connectors:r,connectOnly:e,ignore:[...a.appearance.walletList,o],walletConnectEnabled:a.externalWallets.walletConnect.enabled}),F=S.filter(e=>e!==c?.loginMethod).flatMap(L),B=D.flatMap(L);"web3-first"===P&&"default"===N?U.unshift(...B):"web2-first"===P&&F.unshift(...B);let W=S.filter(e=>"email"!==e&&"sms"!==e),z=z5({priority:P,email:u,sms:h,social:W}),q=z4({priority:P,email:u,sms:h,social:W}),H=(0,p.jsx)(z0,{text:z6({priority:P}),onClick:()=>O("web3-overflow")}),V=(0,p.jsx)(z1,{text:z,icon:q,onClick:()=>O("web2-overflow")}),G=+!j,K=C&&U.length>0,J=0===F.length&&C&&0===U.length,Y=5-!!K,Z=U.length>0?U:(0,p.jsx)(Ww,{chainType:a.appearance.walletChainType,withPadding:!0});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{title:a.appearance.landingHeader,onClose:R,backFn:"default"===N?void 0:()=>{O("default")}}),"default"===N&&(0,p.jsx)(z3,{}),"default"===N&&("string"==typeof a.appearance.loginMessage?(0,p.jsx)(Dd,{children:a.appearance.loginMessage}):a.appearance.loginMessage),(0,p.jsx)(Ds,{style:{overflow:"hidden",padding:2},children:(0,p.jsxs)(Do,{children:["default"===N&&"web2-first"===P&&(0,p.jsxs)(p.Fragment,{children:[F.length>Y?F.slice(0,Y-1):F,F.length>Y&&V,K&&H,J&&(0,p.jsx)(Ww,{chainType:a.appearance.walletChainType})]}),"default"===N&&"web3-first"===P&&(0,p.jsxs)(p.Fragment,{children:[C&&(0,p.jsxs)(p.Fragment,{children:[U.length>Y?U.slice(0,Y-1):U,U.length>Y&&H]}),F.length>G&&V,F.length===G&&F[0],J&&(0,p.jsx)(Ww,{chainType:a.appearance.walletChainType})]}),"web2-overflow"===N&&(0,p.jsx)(p.Fragment,{children:"web3-first"===P?F:F.slice(3)}),"web3-overflow"===N?Z:[],I&&"default"===N&&(0,p.jsx)(W9,{})]})}),a&&(0,p.jsx)(D$,{app:a}),(0,p.jsx)(DM,{})]})},z3=yR(Bk).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-b8a55e6-0"})(["margin-bottom:16px;"]),z5=({priority:e,email:t,sms:r,social:n})=>"web2-first"===e?"Other socials":t&&r&&n.length>0||t&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":t&&r?"Continue with email or sms":t?"Continue with email":r?"Continue with sms":"Log in with a social account",z4=({priority:e,email:t,sms:r,social:n})=>"web2-first"===e||n.length>0?(0,p.jsx)(Om,{}):t&&r?(0,p.jsx)(Wy,{}):t?(0,p.jsx)(Oy,{}):r?(0,p.jsx)(yW,{}):null,z6=({priority:e})=>"web2-first"===e?"Continue with a wallet":"Other wallets",z8=({mostRecentlyUsedAccountType:e,smsAvailable:t,emailAvailable:r,prefilledType:n})=>r&&("email"===e&&"phone"!==n||"email"===n)||!t||"phone"!==e&&"phone"!==n?"email":"sms",z9={component:()=>{let{app:e}=RM();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,p.jsx)(qE,{connectOnly:!0}):(0,p.jsx)(z2,{connectOnly:!0})}},z7=Array(6).fill("");var qe,qt,qr,qn=((qt=qn||{})[qt.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",qt[qt.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",qt),qi=((qr=qi||{})[qr.EMAIL=0]="EMAIL",qr[qr.SMS=1]="SMS",qr);let qa={component:()=>{let{app:e,navigate:t,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:a}=RM(),{closePrivyModal:s,resendEmailCode:o,resendSmsCode:l,getAuthMeta:c,loginWithCode:d,updateWallets:u,createAnalyticsEvent:h}=(0,l1.u)(),{authenticated:g,logout:y,user:w}=R8(),{whatsAppEnabled:v}=Rj(),[b,x]=(0,f.useState)(z7),[E,_]=(0,f.useState)(!1),[C,k]=(0,f.useState)(null),[A,I]=(0,f.useState)(null),[S,T]=(0,f.useState)(0);a.current=()=>null;let P=+!c()?.email;(0,f.useEffect)(()=>{if(S){let e=setTimeout(()=>{T(S-1)},1e3);return()=>clearTimeout(e)}},[S]),(0,f.useEffect)(()=>{if(g&&E&&w){if(e?.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let e=setTimeout(()=>{t(Wf)},900);return()=>clearTimeout(e)}if(BO(w,e.embeddedWallets)){let e=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AwaitingPasswordlessCodeScreen"}}),y()},callAuthOnSuccessOnClose:!0}}),t(Wh)},900);return()=>clearTimeout(e)}{u();let e=setTimeout(()=>s({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(e)}}},[g,E,w]),(0,f.useEffect)(()=>{if(C&&0===A){let e=setTimeout(()=>{x(z7),k(null);let e=document.querySelector("input[name=code-0]");e?.focus()},1400);return()=>clearTimeout(e)}},[C]);let j=e=>{e.preventDefault();let n=e.currentTarget.value.replace(" ","");if(""===n)return;if(isNaN(Number(n)))return k("Code should be numeric"),void I(1);k(null),I(null);let a=Number(e.currentTarget.name?.charAt(5)),s=[...n||[""]].slice(0,6-a),o=[...b.slice(0,a),...s,...b.slice(a+s.length)];x(o);let l=Math.min(Math.max(a+s.length,0),5);if(!isNaN(Number(e.currentTarget.value))){let e=document.querySelector(`input[name=code-${l}]`);e?.focus()}if(o.every(e=>e&&!isNaN(+e))){let e=document.querySelector(`input[name=code-${l}]`);e?.blur(),d(o.join("")).then(()=>_(!0)).catch(e=>{if(e instanceof l1.N&&e.privyErrorCode===l1.a.INVALID_CREDENTIALS)k("Invalid or expired verification code");else if(e instanceof l1.N&&e.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE)k(e.message);else{if(e instanceof l1.N&&e.privyErrorCode===l1.a.USER_LIMIT_REACHED)return console.error(new l1.ak(e).toString()),void t(WG);if(e instanceof l1.N&&e.privyErrorCode===l1.a.USER_DOES_NOT_EXIST)return void t(BM);if(e instanceof l1.N&&e.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:e,previousScreen:r??qa}}),void t(BQ,!1);if(e instanceof l1.N&&e.privyErrorCode===l1.a.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:e}}),void t(z9,!1);if(e instanceof l1.N&&e.privyErrorCode===l1.a.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return i({accountTransfer:{nonce:e.data?.data?.nonce,account:0===P?c()?.email:c()?.phoneNumber,displayName:e.data?.data?.account?.displayName,linkMethod:0===P?"email":"sms",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void t(Wi);k("Issue verifying code")}I(0)})}},N=0==P?(0,p.jsx)(Oy,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"}):(0,p.jsx)(yW,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"}),O=(0,p.jsxs)("p",0==P?{children:["Please check ",(0,p.jsx)(qh,{children:c()?.email})," for an email from privy.io and enter your code below."]}:{children:["Please check ",(0,p.jsx)(qh,{children:c()?.phoneNumber})," for a",v?" WhatsApp":""," message from ",e?.name||"Privy"," and enter your code below."]});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:()=>n()},"header"),(0,p.jsxs)(qs,{children:[(0,p.jsx)(Fw,{title:"Enter confirmation code",description:O,icon:N}),(0,p.jsxs)(Lj,{children:[(0,p.jsxs)(qo,{children:[(0,p.jsx)(ql,{$fail:!!C,$success:E,children:(0,p.jsx)("span",{children:C||(E?"Success!":"")})}),(0,p.jsx)("div",{children:b.map((e,t)=>(0,p.jsx)("input",{name:`code-${t}`,type:"text",value:b[t],onChange:j,onKeyUp:e=>{"Backspace"===e.key&&(e=>{if(1===A&&(k(null),I(null)),x([...b.slice(0,e),"",...b.slice(e+1)]),e>0){let t=document.querySelector(`input[name=code-${e-1}]`);t?.focus()}})(t)},inputMode:"numeric",autoFocus:0===t,pattern:"[0-9]",className:`${E?"success":""} ${C?"fail":""}`,autoComplete:m.Fr?"one-time-code":"off"},t))})]}),(0,p.jsxs)(qc,{children:[(0,p.jsxs)("span",{children:["Didn't get ",0==P?"an email":"a message","?"]}),S?(0,p.jsxs)(qu,{children:[(0,p.jsx)(Ow,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),(0,p.jsx)("span",{children:"Code sent"})]}):(0,p.jsx)(qd,{children:(0,p.jsx)("button",{onClick:async()=>{T(30),0==P?await o():await l()},children:"Resend code"})})]})]})]}),(0,p.jsx)(DM,{})]})}},qs=yR.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-2171637e-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:auto;gap:16px;flex-grow:1;"]),qo=yR.div.withConfig({displayName:"CodeInput",componentId:"sc-2171637e-1"})(["display:flex;flex-direction:column;width:100%;gap:8px;> div:last-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ql=yR.div.withConfig({displayName:"InputHelp",componentId:"sc-2171637e-2"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-end;width:100%;"],e=>e.$success?"var(--privy-color-success)":e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),qc=yR.div.withConfig({displayName:"HelpText",componentId:"sc-2171637e-3"})(["font-size:13px;color:var(--privy-color-foreground);display:flex;gap:8px;align-items:center;width:100%;margin-top:16px;padding-bottom:32px;"]),qd=yR.div.withConfig({displayName:"ResendButtonContainer",componentId:"sc-2171637e-4"})(["color:var(--privy-color-accent);padding:2px 0;> button{text-decoration:underline;}"]),qu=yR.div.withConfig({displayName:"Badge",componentId:"sc-2171637e-5"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),qh=yR.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-2171637e-6"})(["font-weight:500;word-break:break-all;"]),qp=yR.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]),qf=yR.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-6423bc41-0"})(["display:block;position:relative;width:100%;> svg{position:absolute;margin:13px 17px;height:24px;width:24px;color:var(--privy-color-foreground-3);}&& > input{background-color:#f00;font-size:16px;line-height:24px;padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-mdlg);width:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:e})=>e?"none":"0 0 0 1px var(--privy-color-accent-light)"),qg=yR(qf).withConfig({displayName:"EmailUpdateForm",componentId:"sc-6423bc41-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),qm=yR(qf).withConfig({displayName:"EmailInputForm",componentId:"sc-6423bc41-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],e=>e.$stacked?"16px":"88px",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),qy=yR.div.withConfig({displayName:"InputContainerForm",componentId:"sc-6423bc41-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-mdlg);padding-bottom:5px;}"],qp),qw=(0,f.forwardRef)((e,t)=>{let[r,n]=(0,f.useState)(e.defaultValue||""),[i,a]=(0,f.useState)(""),[s,o]=(0,f.useState)(!1),{authenticated:l}=R8(),{initLoginWithEmail:c}=(0,l1.u)(),{navigate:d,setModalData:u,currentScreen:h,data:g}=RM(),{enabled:m,token:y}=Mg(),[w,v]=(0,f.useState)(!1),{accountType:b}=B_(),x=Rj();(0,f.useEffect)(()=>{!r&&x.disablePlusEmails&&g?.inlineError?.error instanceof l1.B&&g?.inlineError?.error.privyErrorCode===l1.a.DISALLOWED_PLUS_EMAIL&&!i&&a("Please enter a valid email address without a '+'."),i&&a("")},[r]);let E=$d(r),_=s||!E,C=()=>{u({login:g?.login,inlineError:void 0}),!m||y||l?(o(!0),c({email:r,captchaToken:y,disableSignup:g?.login?.disableSignup,withPrivyUi:!0}).then(()=>{d(qa)}).catch(e=>{u({errorModalData:{error:e,previousScreen:h||qk}}),d(BQ)}).finally(()=>{o(!1)})):(u({captchaModalData:{callback:e=>c({email:r,captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:qa,onErrorNavigateTo:BQ}}),d(WA))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(qv,{children:[i&&(0,p.jsx)(qp,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),(0,p.jsxs)(qb,{stacked:e.stacked,$error:!!i,children:[(0,p.jsx)(Oy,{}),(0,p.jsx)("input",{ref:t,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>v(!0),onChange:e=>n(e.target.value),onKeyUp:e=>{"Enter"===e.key&&C()},value:r,autoComplete:"email"}),"email"!==b||w?e.stacked?(0,p.jsx)("span",{}):(0,p.jsx)(DP,{isSubmitting:s,onClick:C,disabled:_,children:"Submit"}):(0,p.jsx)(Wx,{color:"gray",children:"Recent"})]})]}),e.stacked?(0,p.jsx)(DE,{loadingText:null,loading:s,disabled:_,onClick:C,children:"Submit"}):null]})}),qv=qy,qb=qm,qx=({isEditable:e,setIsEditable:t,defaultValue:r})=>{let n=(0,f.useRef)(null);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Dp,{$if:!e,children:(0,p.jsx)(qw,{ref:n,defaultValue:r})}),(0,p.jsx)(Dp,{$if:e,children:(0,p.jsxs)(Du,{onClick:()=>{t(),setTimeout(()=>{n.current?.focus()},0)},children:[(0,p.jsx)(Oy,{})," Continue with Email"]})})]})},qE=({connectOnly:e})=>{let{closePrivyModal:t,connectors:r}=(0,l1.u)(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:a}=RM(),{appearance:{palette:{colorScheme:s}}}=Rj(),{accountType:o,walletClientType:l,chainType:c}=B_(),d=(0,f.useMemo)(()=>o&&"guest"!==o&&"authorization_key"!==o&&"cross_app"!==o?By(o):null,[o]),u=n.loginMethodsAndOrder?.primary??[],h=n.loginMethodsAndOrder?.overflow??[],g=(0,f.useMemo)(()=>[...u,...h],[u,h]),m=n.loginMethods.passkey,y=a?.login,w=[];l&&g.includes(l)?w.push(l):o&&g.includes(d?.loginMethod)&&w.push(d?.loginMethod);let[v,b]=(0,f.useState)("default"),[x,E]=(0,f.useState)(z8({mostRecentlyUsedAccountType:o,smsAvailable:g.includes("sms"),emailAvailable:g.includes("email"),prefilledType:y?.prefill?.type}));(0,f.useEffect)(()=>{E(z8({mostRecentlyUsedAccountType:o,smsAvailable:g.includes("sms"),emailAvailable:g.includes("email"),prefilledType:y?.prefill?.type}))},[g,o]),(0,f.useEffect)(()=>{"phone"===o&&E("sms");let e=g.indexOf("sms"),t=g.indexOf("email");e>-1&&e<t&&E("sms")},[o,u,h]);let _=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{b("default")},150)};i.current=_;let C=t=>"email"===t?(0,p.jsx)(qx,{isEditable:"email"===x,setIsEditable:()=>{E("email")},defaultValue:"email"===y?.prefill?.type?y.prefill.value:void 0},t):"sms"===t?(0,p.jsx)(za,{isEditable:"sms"===x,setIsEditable:()=>{E("sms")},defaultValue:"phone"===y?.prefill?.type?y.prefill.value:void 0},t):"apple"===t?(0,p.jsx)(zo,{provider:"apple"},t):"discord"===t?(0,p.jsx)(zo,{provider:"discord"},t):"farcaster"===t?(0,p.jsx)(W1,{},t):"github"===t?(0,p.jsx)(zo,{provider:"github"},t):"google"===t?(0,p.jsx)(zo,{provider:"google"},t):"linkedin"===t?(0,p.jsx)(zo,{provider:"linkedin"},t):"spotify"===t?(0,p.jsx)(zo,{provider:"spotify"},t):"instagram"===t?(0,p.jsx)(zo,{provider:"instagram"},t):"tiktok"===t?(0,p.jsx)(zo,{provider:"tiktok"},t):"twitter"===t?(0,p.jsx)(zo,{provider:"twitter"},t):"telegram"===t?(0,p.jsx)(zh,{},t):t.startsWith("privy:")?(0,p.jsx)(BS,{appId:t.replace("privy:","")},t):zX({walletList:n.appearance.walletList,walletChainType:y?.walletChainType??n.appearance.walletChainType,connectors:r,connectOnly:e,ignore:g,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:t,chainType:c??"ethereum"}}),k=w.flatMap(C),A=u.filter(e=>e!==l&&e!==d?.loginMethod).flatMap(C),I=h.filter(e=>e!==l&&e!==d?.loginMethod).flatMap(C),[S,T]=((e,t)=>{let r=[],n=[];for(let[i,a]of e.entries())i<t?r.push(a):n.push(a);return[r,n]})([...k,...A,...I],q_({primary:A.length+k.length,overflow:I.length}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{title:n.appearance.landingHeader,onClose:_,backFn:"default"===v?void 0:()=>{b("default")}}),"default"===v&&(0,p.jsx)(qC,{}),"default"===v&&("string"==typeof n.appearance.loginMessage?(0,p.jsx)(Dd,{children:n.appearance.loginMessage}):n.appearance.loginMessage),(0,p.jsx)(Ds,{style:{overflow:"hidden"},children:(0,p.jsxs)(Dl,{$colorScheme:s,children:["default"===v&&(0,p.jsxs)(p.Fragment,{children:[S,T.length>0&&(0,p.jsx)(z1,{text:"More options",icon:(0,p.jsx)(Om,{}),onClick:()=>b("overflow")})]}),"overflow"===v&&(0,p.jsx)(p.Fragment,{children:T}),m&&"default"===v&&(0,p.jsx)(W9,{})]})}),n&&(0,p.jsx)(D$,{app:n}),(0,p.jsx)(DM,{})]})},q_=({primary:e,overflow:t})=>e<5?e:5===e&&0===t?5:4,qC=yR(Bk).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-2108f0c0-0"})(["margin-bottom:16px;"]),qk={component:()=>{let{app:e}=RM();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,p.jsx)(qE,{connectOnly:!1}):(0,p.jsx)(z2,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},qA={component:()=>{let[e,t]=(0,f.useState)(null),[r,n]=(0,f.useState)(!1),[i,a]=(0,f.useState)(null),[s,o]=(0,f.useState)(""),{authenticated:l,getAccessToken:c,user:d}=R8(),{walletProxy:u,refreshSessionAndUser:h,closePrivyModal:g,createAnalyticsEvent:m}=(0,l1.u)(),{app:y,navigate:w,data:v,onUserCloseViaDialogOrKeybindRef:b}=RM(),{onSuccess:x,onFailure:E}=v.setWalletPassword,_=MP(d),C="user-passcode"===e?.recoveryMethod,k="user-passcode"===_?.recoveryMethod;(0,f.useEffect)(()=>{l||(w(qk),E(new l1.al("User must be authenticated before setting a password on a Privy wallet")))},[l]);let A=()=>(i?E(i):C?x(e):E(new l1.aj("Exited before password was added to wallet")),void g({shouldCallAuthOnSuccess:!1}));return b.current=A,(0,p.jsx)(Bg,{appName:y?.name||"privy",config:{initiatedBy:"user",onCancel:A},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:s,isResettingPassword:k,onPasswordGenerate:()=>o(Bo()),onPasswordChange:o,onSubmit:async()=>{C?(x(e),g({shouldCallAuthOnSuccess:!1})):(n(!0),a(null),await (async()=>{let e=await c();if(e&&d&&_?.address&&s&&u)try{m({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}});let{entropyId:r,entropyIdVerifier:n}=MO(d);if(!(await u.setRecovery({accessToken:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:s,recoveryMethod:"user-passcode"})).entropyId)return a(new l1.aj("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"error setting password"}});let i=await h(),o=MP(i);if(!o)return a(new l1.aj("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"wallet disconnected"}});t(o),m({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}})}catch(e){console.warn(e),a(e instanceof Error?e:Error("Error setting password on privy wallet")),m({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:_.address,reason:e}})}})(),n(!1))},onClose:A})}},qI={component:()=>{let{closePrivyModal:e}=(0,l1.u)(),{data:t,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=RM(),{onFailure:i}=t.setWalletPassword,a=()=>{i(new l1.aj("Exited before password was added to wallet")),e({shouldCallAuthOnSuccess:!1})};return n.current=a,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:a}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsxs)(LU,{children:[(0,p.jsx)(Om,{stroke:"var(--privy-color-accent)",width:"64px",height:"64px"}),(0,p.jsx)(LB,{style:{width:24,height:24,position:"absolute",bottom:0,right:0},children:(0,p.jsx)(OU,{width:"12px",height:"12px",fill:"white"})})]}),(0,p.jsxs)(Fw,{title:"Secure Your Account",children:["Please set a password to secure your account.",(0,p.jsx)("p",{children:"Losing access to this password and this device will make your account inaccessible."})]})]}),(0,p.jsx)(DE,{onClick:()=>{r(qA)},children:"Add password"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},qS={component:()=>{let[e,t]=(0,f.useState)(!0),{authenticated:r,getAccessToken:n,user:i}=R8(),{walletProxy:a,closePrivyModal:s,createAnalyticsEvent:o}=(0,l1.u)(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:d}=RM(),[u,h]=(0,f.useState)(void 0),[g,m]=(0,f.useState)(""),[y,w]=(0,f.useState)(!1),{entropyId:v,entropyIdVerifier:b,onCompleteNavigateTo:x,onSuccess:E,onFailure:_}=c.recoverWallet,C=(e="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),_("string"==typeof e?new l1.aj(e):e)};return d.current=C,(0,f.useEffect)(()=>{if(!r)return C("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:C}),(0,p.jsx)(LD,{}),(0,p.jsxs)(qP,{children:[(0,p.jsxs)(qT,{children:[(0,p.jsx)(yz,{height:48,width:48,stroke:"var(--privy-color-accent)"}),(0,p.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Enter your password"}),(0,p.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please provision your account on this new device. To continue, enter your recovery password."})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(FH,{children:[(0,p.jsx)(Fz,{type:e?"password":"text",onChange:e=>(e=>{e&&h(e)})(e.target.value),disabled:y,style:{paddingRight:"2.3rem"}}),(0,p.jsx)(FY,{style:{right:"0.75rem"},children:e?(0,p.jsx)(FQ,{onClick:()=>t(!1)}):(0,p.jsx)(FX,{onClick:()=>t(!0)})})]}),!!g&&(0,p.jsx)(qj,{children:g})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(LR,{children:[(0,p.jsx)("h4",{children:"Why is this necessary?"}),(0,p.jsx)("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]}),(0,p.jsx)(qN,{loading:y||!a,disabled:!u,onClick:async()=>{w(!0);let e=await n(),t=MT(i,v);if(!e||!t||null===u)return C("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:t.address}}),await a?.recover({accessToken:e,entropyId:v,entropyIdVerifier:b,recoveryPassword:u}),m(""),x?l(x):s({shouldCallAuthOnSuccess:!1}),E?.(t),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:t.address}})}catch(e){!function(e){return Uh(e)&&("invalid_recovery_pin"===e.type||"invalid_request_arguments"===e.type)}(e)?m("An error has occurred, please try again."):m("Invalid recovery password, please try again.")}finally{w(!1)}},warn:!1,$hideAnimations:!v&&y,children:"Recover your account"})]})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},qT=yR.div.withConfig({displayName:"Header",componentId:"sc-93ed4ea8-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),qP=yR.div.withConfig({displayName:"Content",componentId:"sc-93ed4ea8-1"})(["display:flex;flex-direction:column;justify-content:space-between;"]),qj=yR.div.withConfig({displayName:"ErrorMessage",componentId:"sc-93ed4ea8-2"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),qN=yR(DE).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-93ed4ea8-3"})(["",""],({$hideAnimations:e})=>e&&yM(["&&{transition:none;}"])),qO={component:()=>{let{app:e,navigate:t,data:r,onUserCloseViaDialogOrKeybindRef:n}=RM(),[i,a]=(0,f.useState)(""),[s,o]=(0,f.useState)(!1),[l,c]=(0,f.useState)(),[d,u]=(0,f.useState)(null),{create:h}=FS(),{authenticated:g,user:m}=R8(),{closePrivyModal:y,isNewUserThisSession:w,initializeWalletProxy:v}=(0,l1.u)(),{onSuccess:b,onFailure:x,callAuthOnSuccessOnClose:E,shouldCreateEth:_,shouldCreateSol:C}=r.createWallet,[k,A]=(0,f.useState)(null),I=new $P(async()=>{try{let e;if(_&&C)e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m}),e=await h({chainType:"solana",walletIndex:0,latestUser:e.user});else if(C)e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:m});else{if(!_)throw Error("Invalid args to create wallet");e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m})}A(e),w?t(FT):(b(e),y({shouldCallAuthOnSuccess:E}))}catch(e){a(e.message)}});return(0,f.useEffect)(()=>{d||v(3e4).then(e=>u(e))},[d]),(0,f.useEffect)(()=>{if(!g||!m)return t(qk),void x(Error("User must be authenticated before creating a Privy wallet"))},[g]),n.current=()=>null,(0,p.jsx)(Bg,{config:{initiatedBy:"automatic"},appName:e?.name||"privy",loading:!d,buttonLoading:s,buttonHideAnimations:!k&&s,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{k&&"user-passcode"!==k.account.recoveryMethod?(x(new l1.aj("User created a wallet but failed to set a password for it")),y({shouldCallAuthOnSuccess:!1})):k?(b(k),y({shouldCallAuthOnSuccess:E})):(x(new l1.aj("User wallet creation failed")),y({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(Bo()),onSubmit:async()=>(o(!0),I.execute().then(()=>new Promise(e=>setTimeout(e,250))).finally(()=>o(!1)))})}},q$=yR.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],e=>e.$color??"var(--privy-color-accent)"),qM=yR.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),qR=yR.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),qD={component:()=>{let{user:e,getAccessToken:t}=R8(),{walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=(0,l1.u)(),a=RM(),{entropyId:s,entropyIdVerifier:o}=a.data?.recoverWallet,[l,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(null),[h,g]=(0,f.useState)(null);function m(){if(!l){if(h)return a.data?.setWalletPassword?.onFailure(h),void i();if(!d)return a.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}return a.onUserCloseViaDialogOrKeybindRef.current=m,(0,p.jsxs)(p.Fragment,h?{children:[(0,p.jsx)(DF,{onClose:m},"header"),(0,p.jsx)(q$,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:(0,p.jsx)(yJ,{height:38,width:38,stroke:"var(--privy-color-error)"})}),(0,p.jsx)(qR,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),(0,p.jsx)(Da,{style:{minHeight:"2rem"}}),(0,p.jsx)(D_,{onClick:()=>g(null),children:"Try again"}),(0,p.jsx)(DM,{})]}:{children:[(0,p.jsx)(DF,{onClose:m},"header"),(0,p.jsx)(OP,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),(0,p.jsx)(qR,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),(0,p.jsx)(qM,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),(0,p.jsx)(Da,{style:{minHeight:"2rem"}}),(0,p.jsx)(D_,{loading:l,disabled:!(!l&&!d),onClick:()=>(async function(){c(!0);try{let l=await t(),c=MT(e,s);if(!l||!r||!c)return;if(!(await r.setRecovery({accessToken:l,entropyId:s,entropyIdVerifier:o,existingRecoveryMethod:c.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let d=await n();if(!d)throw Error("Unable to set recovery on wallet");let h=MT(d,c.address);if(!h)throw Error("Unabled to set recovery on wallet");u(!!d),setTimeout(()=>{a.data?.setWalletPassword?.onSuccess(h),i()},1400)}catch(e){g(e)}finally{c(!1)}})(),children:d?"Success":"Confirm"}),(0,p.jsx)(DM,{})]})}};function qL({walletAction:e,availableRecoveryMethods:t,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?qD:r||1===t.length?function({isCreatingWallet:e,skipSplashScreen:t}){return e?qO:t?qA:qI}({isCreatingWallet:"create"===e,skipSplashScreen:n}):FD}function qU(e){switch(e){case"user-passcode":return qS;case"google-drive":case"icloud":return FO;default:throw Error("Recovery method not supported")}}let qF=({children:e,theme:t})=>(0,p.jsxs)(qB,{$theme:t,children:[(0,p.jsx)(OB,{width:"1.25rem",color:"dark"===t?"var(--privy-color-accent-light)":"var(--privy-color-accent-dark)",style:{minWidth:"1.25rem"}}),e]}),qB=yR.div.withConfig({displayName:"Container",componentId:"sc-c3403117-0"})(["display:flex;gap:0.5rem;background-color:var(--privy-color-warn-light);color:var(--privy-color-foreground);align-items:flex-start;text-align:left;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"]),qW=yR.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),qz=yR.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),qq=yM(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],e=>"error"===e.$state?"border-color: var(--privy-color-error);":""),qH=yR.div.withConfig({displayName:"Box",componentId:"sc-1660059c-0"})(["",""],qq),qV=({errMsg:e,balance:t,address:r,isLoading:n,className:i,title:a,isPulsing:s,showIcon:o,statusColor:l="green"})=>{let c;return c=l||(e?"red":"green"),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(qH,{className:i,$state:e?"error":void 0,children:[(0,p.jsxs)(qW,{children:[(0,p.jsx)(qz,{children:a||"Pay with"}),(0,p.jsx)(BU,{address:r,showCopyIcon:o||!!e})]}),void 0!==t&&(0,p.jsx)(Wx,{isLoading:n,isPulsing:s,color:c,children:t})]}),e&&(0,p.jsx)(qp,{style:{marginTop:"0.25rem"},children:e})]})};function qG({rpcConfig:e,appId:t,address:r,chain:n}){let{chains:i}=(0,l1.u)(),[a,s]=(0,f.useState)(0n),[o,l]=(0,f.useState)(!1),c=(0,f.useMemo)(()=>{let r=n||i[0];if(r)return hx({chain:n,transport:(0,hE.L)($c(r,e,t))})},[n,e,t]),d=(0,f.useCallback)(async()=>{if(!r||!c)return;l(!0);let e=await c.getBalance({address:r}).catch(console.error);return e?(s(e),l(!1),e):void 0},[c,r,s]);return(0,f.useEffect)(()=>{d().catch(console.error)},[]),{balance:a,isLoading:o,reloadBalance:d}}let qK="sdk_fiat_on_ramp_completed_with_status",qJ=async({chain:e,address:t,appId:r,rpcConfig:n,erc20Address:i})=>{let a=hx({chain:e,transport:(0,hE.L)($c(e,n,r))});return{balance:await a.readContract({address:i,abi:qY,functionName:"balanceOf",args:[t]}).catch(()=>0n),chain:e}},qY=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],qZ=Symbol("solana-funding-plugin"),qQ=async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:r,refreshSessionAndUser:n,user:i},{privateKey:a,chainType:s})=>{if("user-controlled-server-wallets-only"===Rj().embeddedWallets.mode)throw e("linkAccount","onError",l1.a.UNSUPPORTED_WALLET_TYPE,{linkMethod:"siwe"}),new l1.P("Importing wallets is only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Learn more about the difference at https://docs.privy.io/recipes/enclave-wallet-migration-guide");if(!i)throw e("linkAccount","onError",l1.a.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new l1.P("User must be authenticated before linking an account.");let[o,l]=await Promise.all([t(),r(15e3)]);if(!l||!o)throw e("linkAccount","onError",l1.a.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new l1.P("User must be authenticated before linking an account.");await l.importWallet({privateKey:a,accessToken:o,chainType:s});let c=await n(),d="solana"===s?MS(c):MI(c);if(!d)throw e("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",{wallet:d}),d};class qX{async handleSignMessage(e){if(!e.params||"string"!=typeof e.params.message)throw Error("Message must be provided as a string for Solana signMessage RPC");let t=await this.signMessage(Mo(e.params.message,"base64"));return{signature:Mo(t).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await KB())throw Error("User must be authenticated to use embedded Solana wallet");if(!await KG({address:this.address}))throw new l1.P("Unable to connect to Solana embedded wallet");if("signMessage"===e.method)return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,t,r){this.walletProxy=e,this.address=t,this.signMessage=r}}async function q0({tx:e,accessToken:t,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:a,transactingWalletIndex:s}){let o=Lp(e,a),l=Lh(e)?Mo(e.message.serialize()):e.serializeMessage(),{response:c}=await r.rpc({accessToken:t,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:s,request:{method:"signMessage",params:{message:l.toString("base64")}}}),d=Mo(c.data.signature,"base64");return e.addSignature(o,d),e}let q1=e=>e.reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null),q2=async({accessToken:e,appConfig:t,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:a,recoverEmbeddedWallet:s,user:o,walletIndex:l,setModalData:c,openModal:d,chainType:u,setUser:h})=>{if(l<0)throw n("createWallet","onError",l1.a.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=MP(o);if(l>0&&!p)throw n("createWallet","onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(t.embeddedWallets.requireUserOwnedRecoveryOnCreate&&"user-controlled-server-wallets-only"===t.embeddedWallets.mode)throw n("createWallet","onError",l1.a.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&t.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await q3({emitPrivyEvent:n,setModalData:c,openModal:d,chainType:u});let f=FA(o,{chainType:u,walletIndex:l})[0];if(f)return{user:o,account:f};if(0===l&&!i)return q3({emitPrivyEvent:n,setModalData:c,openModal:d,chainType:u});if(!i)throw n("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return FI({appConfig:t,walletIndex:l,chainType:u,user:o,accessToken:e,proxy:i,refreshSessionAndUser:a,privy:r,recoverEmbeddedWallet:s,setUser:h})},q3=async({emitPrivyEvent:e,setModalData:t,openModal:r,chainType:n})=>new Promise((i,a)=>{t({createWallet:{onSuccess:({user:t,account:r})=>{e("createWallet","onSuccess",{wallet:r}),i({user:t,account:r})},onFailure:t=>{e("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),a(t)},callAuthOnSuccessOnClose:!1,shouldCreateEth:"ethereum"===n,shouldCreateSol:"solana"===n}}),r(Wh)}),q5=()=>{let e=Rj(),t=Di(),{setModalData:r}=RM(),{getAccessToken:n}=R8(),{initializeWalletProxy:i,recoverEmbeddedWallet:a,setUser:s,openModal:o,refreshSessionAndUser:l,privy:c}=(0,l1.u)();return{create:async({chainType:d,options:u,latestUser:h})=>{let p=h;if(p||(p=await l()),!p)throw t("createWallet","onError",l1.a.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await (async({appConfig:e,getAccessToken:t,initializeWalletProxy:r,user:n,privy:i,emitPrivyEvent:a,recoverEmbeddedWallet:s,setModalData:o,openModal:l,setUser:c,options:d,timeoutDuration:u,refreshSessionAndUser:h,chainType:p})=>{let[f,g]=await Promise.all([r(u),t()]);if(!g||!n)throw a("createWallet","onError",l1.a.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!f&&e.customAuth?.enabled)throw a("createWallet","onError",l1.a.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(d&&"walletIndex"in d&&"number"==typeof d.walletIndex){if("user-controlled-server-wallets-only"===e.embeddedWallets.mode)throw a("createWallet","onError",l1.a.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return q2({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:a,openModal:l,proxy:f,refreshSessionAndUser:h,recoverEmbeddedWallet:s,setModalData:o,user:n,walletIndex:d.walletIndex,chainType:p,setUser:c})}let m=d&&"createAdditional"in d&&d.createAdditional,y=FA(n,{chainType:p});if(y[0]&&!m)throw a("createWallet","onError",l1.a.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return q2({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:a,openModal:l,proxy:f,recoverEmbeddedWallet:s,setModalData:o,user:n,walletIndex:(q1(y)?.walletIndex??-1)+1,chainType:p,refreshSessionAndUser:h,setUser:c})})({appConfig:e,privy:c,getAccessToken:n,refreshSessionAndUser:l,initializeWalletProxy:i,user:p,emitPrivyEvent:t,recoverEmbeddedWallet:a,setModalData:r,openModal:o,setUser:s,options:u,timeoutDuration:3e4,chainType:d})}}},q4=()=>{let{getAccessToken:e}=R8(),{walletProxy:t}=(0,l1.u)();return(0,f.useMemo)(()=>({signWithUserSigner:async({message:r})=>{if(!t)throw Error("Wallet proxy not initialized");let n=await e();if(!n)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:n,message:r});return{signature:i}}}),[t,e])};function q6(e){let{create:t}=q5();return Dr("createWallet",e),{createWallet:async e=>{e&&"target"in e&&e&&(e=void 0);let{account:r}=await t({chainType:"ethereum",options:e});return r}}}let q8=()=>{let{getAccessToken:e,user:t}=R8(),{refreshSessionAndUser:r,initializeWalletProxy:n}=(0,l1.u)(),i=Di();return{importWallet:(0,f.useCallback)(({privateKey:a})=>qQ({getAccessToken:e,user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i},{privateKey:a,chainType:"ethereum"}),[t,e,r,n,i])}},q9=()=>{let{importWallet:e}=q8(),{createWallet:t}=q6();return{...(0,f.useContext)(R6),importWallet:e,createWallet:t}},q7=e=>e.filter(e=>"wallets"===e.method||("exchange"===e.method?"coinbase"===e.provider:"card"===e.method||"payment-request"===e.method?"coinbase"===e.provider||"moonpay"===e.provider:(e.method,!1))),He=e=>!!e.fundingConfig&&q7(e.fundingConfig.options).length>=1,Ht=({children:e,theme:t})=>(0,p.jsxs)(Hr,{$theme:t,children:[(0,p.jsx)(yJ,{width:"3rem",color:"var(--privy-color-error)"}),e]}),Hr=yR.div.withConfig({displayName:"Container",componentId:"sc-5400b18f-0"})(["display:flex;gap:0.5rem;"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.75rem;font-weight:400;line-height:1.125rem;padding:0.5rem 0.75rem;&&{border:1px solid var(--privy-color-error);border-radius:var(--privy-border-radius-sm);}"],e=>"dark"===e.$theme?"color: var(--privy-color-error);":"background-color: var(--privy-color-error-light);"),Hn=e=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...e,children:(0,p.jsx)("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Hi=e=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...e,children:[(0,p.jsx)("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),(0,p.jsx)("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),(0,p.jsx)("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),(0,p.jsx)("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),(0,p.jsx)("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),(0,p.jsx)("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),(0,p.jsx)("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),Ha=e=>{let[t,r]=(0,f.useState)();return(0,f.useEffect)(()=>{e().then(e=>{r(e)}).catch(()=>{})},[]),t},Hs=({...e})=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,p.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,p.jsx)("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),(0,p.jsx)("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),Ho=async({address:e,chain:t,rpcConfig:r,privyAppId:n})=>{try{let i=hx({chain:t,transport:(0,hE.L)($c(t,r,n))}),[a,s]=await Promise.all([i.readContract({abi:Hl,address:e,functionName:"symbol"}),i.readContract({abi:Hl,address:e,functionName:"decimals"})]);return{decimals:s,symbol:a}}catch(e){return console.log(e),null}},Hl=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Hc=({size:e})=>(0,p.jsx)(Hd,{$size:e,children:(0,p.jsxs)(Hu,{children:[(0,p.jsx)(Hh,{}),(0,p.jsx)(Hp,{})]})}),Hd=yR.div.withConfig({displayName:"LoadingContainer",componentId:"sc-3ddaba1c-0"})(["--spinner-size:",";display:flex;justify-content:center;align-items:center;flex-grow:1;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),Hu=yR.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-3ddaba1c-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),Hh=yR.div.withConfig({displayName:"CircleFixed",componentId:"sc-3ddaba1c-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid #f1f2f9;border-radius:50%;}"]),Hp=yR.div.withConfig({displayName:"CircleRotate",componentId:"sc-3ddaba1c-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:#cbcde1 transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),Hf=yR.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Hg=yR.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),Hm=yR.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Hy=yR(Hm).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Hw=yR.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],Wb),Hv=e=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...e,children:[(0,p.jsxs)("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,p.jsx)("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),(0,p.jsxs)("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,p.jsx)("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),(0,p.jsxs)("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,p.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,p.jsx)("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]}),Hb={[S.id]:e=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...e,children:(0,p.jsx)("g",{id:"Layer_x0020_1",children:(0,p.jsxs)("g",{id:"_2405588477232",children:[(0,p.jsx)("rect",{fill:"none",width:"2500",height:"2500"}),(0,p.jsx)("g",{children:(0,p.jsxs)("g",{children:[(0,p.jsx)("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),(0,p.jsx)("g",{children:(0,p.jsxs)("g",{children:[(0,p.jsx)("g",{children:(0,p.jsx)("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),(0,p.jsx)("g",{children:(0,p.jsx)("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),(0,p.jsx)("g",{children:(0,p.jsx)("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),(0,p.jsx)("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),(0,p.jsxs)("g",{children:[(0,p.jsx)("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),(0,p.jsx)("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[P.id]:e=>(0,p.jsxs)("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[N.id]:e=>(0,p.jsxs)("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),(0,p.jsx)("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[$.id]:e=>(0,p.jsxs)("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),(0,p.jsx)("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[M.id]:e=>(0,p.jsxs)("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("rect",{width:"199.4",height:"207.623",fill:"#121212"}),(0,p.jsxs)("g",{"clip-path":"url(#clip0_2303_643)",children:[(0,p.jsx)("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),(0,p.jsx)("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_2303_643",children:(0,p.jsx)("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[R.id]:e=>(0,p.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...e,children:[(0,p.jsx)("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),(0,p.jsx)("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),(0,p.jsx)("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),(0,p.jsx)("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),(0,p.jsx)("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[D.id]:e=>(0,p.jsxs)("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),(0,p.jsx)("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),(0,p.jsx)("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[U.id]:e=>(0,p.jsxs)("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,p.jsx)("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),(0,p.jsx)("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[W.id]:e=>(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...e,children:[(0,p.jsx)("g",{clipPath:"url(#clip0)",children:(0,p.jsx)("g",{clipPath:"url(#clip1)",children:(0,p.jsx)("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),(0,p.jsxs)("defs",{children:[(0,p.jsxs)("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[(0,p.jsx)("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),(0,p.jsx)("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),(0,p.jsx)("stop",{offset:"0.4982",stopColor:"#4281D3"}),(0,p.jsx)("stop",{offset:"0.666667",stopColor:"#2E427D"}),(0,p.jsx)("stop",{offset:"0.822917",stopColor:"#230101"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#8F6B40"})]}),(0,p.jsx)("clipPath",{id:"clip0",children:(0,p.jsx)("rect",{width:"30",height:"30",fill:"white"})}),(0,p.jsx)("clipPath",{id:"clip1",children:(0,p.jsx)("rect",{width:"30",height:"30",fill:"white"})})]})]})},Hx=({chainId:e,...t})=>{if("solana"===e)return(0,p.jsx)(Hv,{...t});let r=Hb[e];return(0,p.jsx)(r||Oq,{...t})},HE=({wallet:e,displayName:t,addressToFund:r,chainId:n,chainName:i,isBridging:a,isErc20Flow:s,totalPriceInNativeCurrency:o,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:d})=>{let u=Rg(e.walletClientType);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Hc,{}),(0,p.jsx)(LP,{style:{marginTop:"16px"},children:(0,p.jsx)(zf,{icon:u?.image_url?.md,name:e.walletClientType})}),(0,p.jsx)(Fw,{style:{marginTop:"8px",marginBottom:"12px"},title:`${a?"Bridging":"Confirming"} with ${t}`}),!a&&!s&&(0,p.jsxs)(Hf,{children:[(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Total"}),(0,p.jsx)(Hw,{children:l||o})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"To"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:r,showCopyIcon:!1})})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Network"}),(0,p.jsx)(Hw,{children:(0,p.jsxs)(H_,{children:[(0,p.jsx)(Hx,{chainId:n,height:16,width:16})," ",i]})})]}),c&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Estimated fee"}),(0,p.jsx)(Hw,{children:d||c})]})]}),(0,p.jsx)(LF,{height:24}),(0,p.jsx)(DM,{})]})},H_=yR.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]),HC={component:()=>{let{closePrivyModal:e,createAnalyticsEvent:t}=(0,l1.u)(),{navigate:r,setModalData:n,app:i,data:a}=RM(),{wallets:s}=GI(),o=zv(),[l,c]=(0,f.useState)(0n),[d,u]=(0,f.useState)(null),[h,g]=(0,f.useState)(!1),[m,y]=(0,f.useState)(!1),w=(0,f.useRef)(!1);if(!a?.funding||"solana"!==a.funding.chainType)throw Error("Invalid funding data");let{address:v,amount:b,cluster:x,connectedWalletAddress:E}=a.funding,_=function({name:e,rpcUrl:t}){if(t)return t;switch(e){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(x),{tokenPrice:C}=Ui("solana"),{fundingAmountInBaseUnit:k,totalPriceInUsd:A,totalPriceInNativeCurrency:I,feePriceInNativeCurrency:S,feePriceInUsd:T}=Lc({amount:b,fee:l,tokenPrice:C,isUsdc:a.funding.isUSDC}),P=E?s.find(({address:e})=>e===E):s[0],j=Rg(P?.walletClientType||"unknown"),N=j?.name||"wallet";return(0,f.useEffect)(()=>{(async()=>{if("solana"===P?.type&&P.sendTransaction&&!h&&!w.current){w.current=!0;try{let e=o(qZ);if(!e)throw new l1.P("Unable to load solana plugin");let{connection:r,transaction:n}=a.funding?.isUSDC?await e.createSplTransferTransaction({from:P.address,to:v,amount:k,mintAddress:ri[x.name],cluster:x}):await e.createTransferTransaction({from:P.address,to:v,amount:k,cluster:x}),i=await n.getEstimatedFee(r);null!=i&&c(BigInt(i)),g(!0);let s=await r.simulateTransaction(n);if(s.value.err)return s.value.logs?.find(e=>/insufficient (lamports|funds)/gi.test(e))?void u(new l1.P(`Wallet ${$u(P.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",s.value.err),void u(new l1.P("Something went wrong",void 0,l1.a.TRANSACTION_FAILURE)));let l=await P.sendTransaction(n,r),{value:d,token:h}=a.funding?.isUSDC?{value:(0,rs.J)(k,6),token:"USDC"}:{value:(0,rs.J)(k,9),token:"SOL"};t({eventName:qK,payload:{provider:"external",status:"success",txHash:l,rpcEndpoint:_,address:P.address,value:d,chainType:"solana",clusterName:x.name,token:h,destinationAddress:v,destinationValue:d,destinationChainType:"solana",destinationClusterName:x.name,destinationToken:h}}),g(!1),y(!0)}catch(e){if(console.error(e),g(!1),/user rejected the request/gi.test(e.message||""))return void u(new l1.P("Transaction was rejected by the user",void 0,l1.a.TRANSACTION_FAILURE));u(new l1.P("Something went wrong",void 0,l1.a.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>w.current=!1)},[]),(0,f.useEffect)(()=>{d&&(n({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:d,previousScreen:Vo}}),r(BQ,!1))},[d]),(0,f.useEffect)(()=>{if(!m)return;let t=setTimeout(e,4e3);return()=>clearTimeout(t)},[m]),m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(OF,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Success!",description:`Youve successfully added ${b} ${a.funding?.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}):P&&h?(0,p.jsx)(HE,{wallet:P,displayName:N,addressToFund:v,isBridging:!1,isErc20Flow:!!a.funding?.isUSDC,totalPriceInUsd:A,totalPriceInNativeCurrency:I,gasPriceInUsd:T,gasPriceInNativeCurrency:S,chainId:"solana",chainName:x.name}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Hc,{}),(0,p.jsx)("div",{style:{marginTop:"1rem"}}),(0,p.jsx)(DM,{})]})}},Hk=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],HA=2n**256n-1n,HI=({amount:e,decimals:t})=>e===HA?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(Number(e)/10**t),HS=({chains:e,appId:t,address:r,rpcConfig:n})=>Promise.all(e.map(async e=>{let i=hx({chain:e,transport:(0,hE.L)($c(e,n,t))});return{balance:await i.getBalance({address:r}).catch(()=>0n),chain:e}})),HT=({balance:e,className:t,chain:r})=>(0,p.jsx)(qH,{className:t,$state:void 0,children:(0,p.jsx)(HP,{balance:e,chain:r})}),HP=({balance:e,chain:t})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Hj,{children:[(0,p.jsx)(HO,{chainId:"id"in t?t.id:"solana"}),(0,p.jsx)(Hw,{children:t.name})]}),(0,p.jsxs)(Wx,{isLoading:!1,isPulsing:!1,color:"gray",children:[(0,p.jsx)(HN,{children:(0,p.jsx)(Ov,{})}),e]})]}),Hj=yR.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),HN=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),HO=yR(Hx).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]),H$=({options:e,onSelect:t,selected:r,className:n})=>(0,p.jsxs)(E1,{as:HM,children:[(0,p.jsxs)(EQ,{as:HU,children:[(0,p.jsx)(HP,{balance:r.balance,chain:r.chain}),(0,p.jsx)(HL,{height:16})]}),(0,p.jsx)(EX,{as:HR,className:n,children:e.map((e,r)=>(0,p.jsx)(E0,{as:HD,onClick:()=>t(r),children:(0,p.jsx)(HP,{balance:e.balance,chain:e.chain})},r))})]}),HM=yR.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),HR=yR.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),HD=yR.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),HL=yR(yG).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),HU=yR.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],qq,HL,HL),HF=({passkeys:e,expanded:t,onUnlink:r,onExpand:n})=>{let[i,a]=(0,f.useState)([]),s=t?e.length:2,o=e=>e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device";return(0,p.jsxs)("div",{children:[(0,p.jsx)(HZ,{children:"Your passkeys"}),(0,p.jsxs)(HG,{children:[e.slice(0,s).map(e=>(0,p.jsxs)(H0,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(HQ,{children:o(e)}),(0,p.jsxs)(HX,{children:["Last used: ",(e.latestVerifiedAt??e.verifiedAt).toLocaleString()]})]}),(0,p.jsx)(H2,{disabled:i.includes(e.credentialId),onClick:()=>(async e=>{a(t=>t.concat([e])),await r(e),a(t=>t.filter(t=>t!==e))})(e.credentialId),children:i.includes(e.credentialId)?(0,p.jsx)(Dv,{}):(0,p.jsx)(O2,{height:"1.6em"})})]},e.credentialId)),e.length>2&&!t&&(0,p.jsx)(HV,{onClick:n,children:"View all"})]})]})},HB=()=>(0,p.jsxs)(HG,{children:[(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O3,{})}),"Log in with Touch ID, Face ID, or a security key."]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(OU,{})}),"More secure than a password."]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O1,{})}),"Takes seconds to set up and use."]})]}),HW={component:()=>{let{user:e,unlinkPasskey:t}=R8(),{linkWithPasskey:r,closePrivyModal:n}=(0,l1.u)(),i=e?.linkedAccounts.filter(e=>"passkey"===e.type),[a,s]=(0,f.useState)(!1),[o,l]=(0,f.useState)(""),[c,d]=(0,f.useState)(!1),[u,h]=(0,f.useState)(!1);(0,f.useEffect)(()=>{0===i.length&&h(!1)},[i.length]);let g=async e=>(s(!0),await t(e).then(()=>d(!0)).catch(e=>{e instanceof l1.B&&e.privyErrorCode===l1.a.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{s(!1)}));return(0,p.jsxs)(p.Fragment,c?{children:[(0,p.jsx)(DF,{onClose:()=>n()},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(OF,{})}),(0,p.jsx)(HK,{style:{marginBottom:"1.5rem"},children:"Passkeys updated"}),(0,p.jsx)(HJ,{children:" "}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{onClick:()=>n(),children:"Done"})}),(0,p.jsx)(DR,{})]}:u?{children:[(0,p.jsx)(DF,{backFn:()=>h(!1),onClose:()=>n()},"header"),(0,p.jsx)(HF,{passkeys:i,expanded:u,onUnlink:g,onExpand:()=>h(!0)}),(0,p.jsx)(DR,{})]}:{children:[(0,p.jsx)(DF,{onClose:()=>n()},"header"),(0,p.jsx)(Uv,{children:(0,p.jsxs)(Hz,{children:[(0,p.jsx)(UL,{}),(0,p.jsx)(W3,{})]})}),(0,p.jsx)(HK,{children:"Secure your account with a passkey"}),(0,p.jsx)(HY,{}),0===i.length?(0,p.jsx)(HB,{}):(0,p.jsx)(HF,{passkeys:i,expanded:u,onUnlink:g,onExpand:()=>h(!0)}),(0,p.jsxs)(UA,{style:{marginTop:"12px"},children:[o&&(0,p.jsx)(Hq,{$fail:!0,children:o}),(0,p.jsx)(DE,{onClick:()=>{s(!0),r().then(()=>d(!0)).catch(e=>{if(e instanceof l1.B){if(e.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(e.privyErrorCode===l1.a.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{s(!1)})},loading:a,children:"Add new passkey"})]}),(0,p.jsx)(DR,{})]})}},Hz=yR.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d6832d36-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]),Hq=yR.div.withConfig({displayName:"InputHelp",componentId:"sc-d6832d36-1"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-beginngin;width:100%;"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),HH=yM(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]),HV=yR.button.withConfig({displayName:"LinkButton",componentId:"sc-d6832d36-2"})(["",""],HH),HG=yR.div.withConfig({displayName:"List",componentId:"sc-d6832d36-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),HK=yR.div.withConfig({displayName:"ModalTitle",componentId:"sc-d6832d36-4"})(["font-size:18px;line-height:18px;text-align:center;font-weight:600;"]),HJ=yR.div.withConfig({displayName:"ModalSubTitle",componentId:"sc-d6832d36-5"})(["font-size:0.875rem;text-align:center;margin-top:10px;"]),HY=yR.div.withConfig({displayName:"SectionSpacer",componentId:"sc-d6832d36-6"})(["height:32px;"]),HZ=yR.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d6832d36-7"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),HQ=yR.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d6832d36-8"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),HX=yR.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d6832d36-9"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),H0=yR.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d6832d36-10"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),H1=yM([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),H2=yR.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d6832d36-11"})(["",""],H1),H3=yR.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),H5=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),H4=yR.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),H6=yR.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),H8=yR.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),H9=yR(H8).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),H7=yR.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Ve=yR.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),Vt=yR.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),Vr=yR.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Vn=({displayName:e,errorMessage:t,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:a,fundingAmountInUsd:s,options:o,selectedOption:l,isPreparing:c,isSubmitting:d,addressToFund:u,fundingWalletAddress:h,onSubmit:g,onSelect:m,onAmountChange:y})=>{let w=(0,f.useRef)(null);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(LD,{}),(0,p.jsx)(qR,{children:"Transfer from another network"}),(0,p.jsxs)(qM,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),(0,p.jsxs)(H4,{style:{marginTop:"2rem"},children:[(0,p.jsxs)(H6,{onClick:()=>w.current?.focus(),children:[(0,p.jsx)(H8,{ref:w,value:i,onChange:e=>{let t=e.target.value;if(/^[0-9.]*$/.test(t)&&t.split(".").length-1<=1){let e=/\.$/.test(t)?".":"",r=Number(t.replace(/\.$/,"")||"0");if(Number.isNaN(r))return void y("0");y(r.toString()+e)}}}),(0,p.jsx)(H7,{children:a})]}),s&&(0,p.jsx)(Ve,{children:s})]}),(0,p.jsxs)(Hg,{style:{marginTop:"1.5rem"},children:[(0,p.jsx)(Hm,{children:"From"}),(0,p.jsx)(Hm,{children:ro(h)})]}),(0,p.jsx)(H$,{selected:{chain:l.chain,balance:D9(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:o.map(({chain:e,balance:t})=>({chain:e,balance:D9(t,e.nativeCurrency.symbol,3,!0)})),onSelect:m}),(0,p.jsxs)(Hg,{style:{marginTop:"1.5rem"},children:[(0,p.jsx)(Hm,{children:"To"}),(0,p.jsx)(Hm,{children:ro(u)})]}),(0,p.jsx)(HT,{chain:r,balance:n}),(0,p.jsx)(qp,{style:{marginTop:"1rem"},children:t}),(0,p.jsxs)(D_,{style:{marginTop:"1rem"},loading:d||c,disabled:c||d,onClick:g,children:["Confirm with ",e]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},Vi={component:()=>{let{rpcConfig:e,appId:t,closePrivyModal:r,createAnalyticsEvent:n}=(0,l1.u)(),{navigate:i,setModalData:a,app:s,data:o}=RM(),{wallets:l}=Us(),[c,d]=(0,f.useState)(!1),[u,h]=(0,f.useState)(0n),[g,m]=(0,f.useState)(!1),[y,w]=(0,f.useState)(null),[v,b]=(0,f.useState)(null),[x,E]=(0,f.useState)([]),[_,C]=(0,f.useState)(0),[k,A]=(0,f.useState)(!1),[I,S]=(0,f.useState)(!1),[T,P]=(0,f.useState)(!1),[j,N]=(0,f.useState)(!1),[O,$]=(0,f.useState)(),[M,R]=(0,f.useState)();if(!o?.funding||"ethereum"!==o.funding.chainType)throw Error("Invalid funding data");let{erc20ContractInfo:D,chain:L,connectedWalletAddress:U}=o.funding,F=o.funding.address,B=o.funding.erc20Address,[W,z]=(0,f.useState)(o.funding.amount);(0,f.useEffect)(()=>{B&&!D&&w(Error("Unable to fetch token details"))},[]);let q=!!B&&!!D,H=q?BigInt(parseFloat(W)*10**D.decimals):hk(W),V=U?l.find(({address:e})=>e===U):l[0],G=Rg(V?.walletClientType||"unknown"),K=G?.name||"wallet",[J,Y]=(0,f.useState)(null);(0,f.useEffect)(()=>{(async()=>{if(!V)return;let e=await V.getEthereumProvider();Y(h1({account:V.address,transport:h3(e)}).extend(hb))})().catch(console.error)},[V]);let[Z,X]=(0,f.useState)(0n);(0,f.useEffect)(()=>{hx({chain:L,transport:(0,hE.L)($c(L,e,t))}).getBalance({address:F}).then(X).catch(console.error)},[]);let[ee,et]=(0,f.useState)(0n);(0,f.useEffect)(()=>{q&&qJ({chain:L,address:F,appId:t,rpcConfig:e,erc20Address:B}).then(e=>et(e.balance)).catch(console.error)},[]);let{tokenPrice:er}=Ui(L.id),[en,ei]=(0,f.useState)({to:F,chain:L,value:H,data:void 0});(0,f.useEffect)(()=>{(async()=>{let r,i;if(!J||!V||k||T)return;A(!0);let a=hx({chain:en.chain,transport:(0,hE.L)($c(en.chain,e,t))});if(q&&!en.data)return await a.simulateContract({address:B,chain:en.chain,abi:Hk,functionName:"transfer",args:[F,H],account:V.address}).catch(e=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",e)})?(A(!1),void ei({to:B,chain:en.chain,data:(0,l8.p)({abi:Hk,functionName:"transfer",args:[F,H]}),value:"0x0"})):(A(!1),void m(!0));try{r=await a.prepareTransactionRequest({account:V.address,to:en.to,chain:en.chain,data:en.data,value:BigInt(en.value??0)})}catch(e){if(console.error(e),x.length>1)b(e.shortMessage??"Something went wrong");else if(I&&0===x.length)return void w(new l1.P(`Wallet ${$u(V.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE))}if(!r)return A(!1),void m(!0);A(!1),P(!0),d(!0),h(r.gas);try{await J.switchChain({id:en.chain.id})}catch(e){await J.addChain({chain:en.chain}),await J.switchChain({id:en.chain.id})}try{i=await J.sendTransaction(r)}catch(e){if(console.error(e),"TransactionExecutionError"===e.name)if(x.length<1){let t=e.shortMessage;(e.shortMessage.includes("rejected the request")||e.details.includes("rejected the request"))&&(t="User rejected the request."),w(new l1.P(t,void 0,l1.a.TRANSACTION_FAILURE))}else b(e.shortMessage??"Something went wrong")}if(i)return await J.waitForTransactionReceipt({hash:i}),P(!1),I?($(i),void R("pending")):(N(!0),void n({eventName:qK,payload:{provider:"external",status:"success",txHash:i,address:V.address,chainId:en.chain.id,chainType:"ethereum",value:en.value?(0,rs.J)(BigInt(en.value),D?.decimals??18):void 0,token:D?.symbol??B??"ETH",destinationAddress:F,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:H?(0,rs.J)(H,D?.decimals??18):void 0,destinationToken:D?.symbol??B??L.nativeCurrency.name}}));P(!1)})().catch(console.error)},[J,en]),(0,f.useEffect)(()=>{(async()=>{if(!g||!J||!V)return;let r=Q(s.chains).filter(e=>e.id!==L.id&&!!e.testnet==!!L.testnet);q&&r.unshift(L);let n=await HS({chains:r,address:V.address,appId:t,rpcConfig:e}),i=q?n.filter(e=>e.balance>0n):n.filter(e=>e.balance>H);if(i.length<1)return void w(new l1.P(`Wallet ${$u(V.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(t.balance-e.balance));let a=(await Promise.allSettled(i.map(async e=>({quote:await BG({isTestnet:!!L.testnet,input:Bq({amount:H.toString(),user:V.address,recipient:F,destinationChainId:L.id,destinationCurrency:B,originChainId:e.chain.id})}),...e})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(a.length<1)return void w(new l1.P(`Wallet ${$u(V.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE));let o=a.map(e=>({bridgeTx:BK(e.quote),balance:e.balance,chain:e.chain})).filter(e=>!!e.bridgeTx);if(o.length>1)return void E(o);let l=o[0];l?(S(!0),ei({data:l.bridgeTx.data,to:l.bridgeTx.to,value:l.bridgeTx.value,chain:l.chain})):w(new l1.P(`Wallet ${$u(V.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE))})().catch(console.error)},[g]),BJ({transactionHash:O,wallet:V,isTestnet:!!L.testnet,bridgingStatus:M,setBridgingStatus:R,onSuccess({transactionHash:e,wallet:t}){S(!1),N(!0),n({eventName:qK,payload:{provider:"external",status:"success",txHash:e,address:t.address,chainId:en.chain.id,chainType:"ethereum",value:en.value?(0,rs.J)(BigInt(en.value),D?.decimals??18):void 0,token:D?.symbol??B??"ETH",destinationAddress:F,destinationChainId:L.id,destinationChainType:"ethereum",destinationValue:H?(0,rs.J)(H,D?.decimals??18):void 0,destinationToken:D?.symbol??B??L.nativeCurrency.name}})},onFailure({error:e}){S(!1),w(e)}}),(0,f.useEffect)(()=>{y&&(a({funding:o?.funding,sendTransaction:o?.sendTransaction,errorModalData:{error:y,previousScreen:Vo}}),i(BQ,!1))},[y]);let ea=!q&&er?D6(W??"0",er):void 0,es=q?u:Le([u,H]),eo=es&&er?D8(es,er):void 0,el=es?D9(es,o?.funding?.erc20Address?o?.funding?.erc20ContractInfo?.symbol||"ETH":o?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,ec=u&&er?D8(u,er):void 0,ed=u?D9(u,L?.nativeCurrency?.symbol||"ETH"):void 0;if((0,f.useEffect)(()=>{if(!j)return;let e=setTimeout(r,4e3);return()=>clearTimeout(e)},[j]),j)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(OF,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Success!",description:`Youve successfully added ${W} ${q?D.symbol:L.nativeCurrency.symbol} to your ${s.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]});let eu=q?`${HI({amount:ee,decimals:D.decimals})}  ${D.symbol}`:D9(Z,L.nativeCurrency.symbol,3,!0),eh=x[_];return x.length>1&&eh?(0,p.jsx)(Vn,{displayName:K,configuredFundingChain:L,formattedBalance:eu,fundingAmount:W,fundingCurrency:q?D.symbol:L.nativeCurrency.symbol,fundingAmountInUsd:ea,options:x,selectedOption:eh,isPreparing:k,isSubmitting:T,addressToFund:F,fundingWalletAddress:V?.address||"",errorMessage:v,onSubmit:()=>{o.funding?.amount!==W?(async function(){if(V&&eh)try{let e=await BG({isTestnet:!!L.testnet,input:Bq({amount:H.toString(),user:V.address,recipient:F,destinationChainId:L.id,destinationCurrency:B,originChainId:eh.chain.id})}),t=BK(e);if(!t)throw Error("Invalid transaction request");S(!0),ei({data:t.data,to:t.to,value:t.value,chain:eh.chain})}catch(e){console.error(e),w(new l1.P("Unable to fetch quotes for bridging",e,l1.a.INSUFFICIENT_BALANCE))}})().catch(console.error):ei({to:eh.bridgeTx.to,data:eh.bridgeTx.data,value:eh.bridgeTx.value,chain:eh.chain})},onSelect:e=>{e!==_&&(b(null),C(e))},onAmountChange:z}):c&&u&&V&&o?.funding?(0,p.jsx)(HE,{wallet:V,displayName:K,addressToFund:F,isBridging:I,isErc20Flow:q,totalPriceInUsd:eo,totalPriceInNativeCurrency:el,gasPriceInUsd:ec,gasPriceInNativeCurrency:ed,chainId:L.id,chainName:L.name}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Hc,{}),(0,p.jsx)("div",{style:{marginTop:"1rem"}}),(0,p.jsx)(DM,{})]})}},Va={component:function(){let{closePrivyModal:e,createAnalyticsEvent:t}=(0,l1.u)(),{navigate:r,setModalData:n,app:i,data:a}=RM(),{wallets:s}=GI(),o=(0,f.useRef)(!1),l=zv(),[c,d]=(0,f.useState)(!1),[u,h]=(0,f.useState)(!1),[g,m]=(0,f.useState)(null),[y,w]=(0,f.useState)(),[v,b]=(0,f.useState)();if(!a?.funding||"ethereum"!==a.funding.chainType)throw Error("Invalid funding data");let{amount:x,connectedWalletAddress:E,chain:_,cluster:C,isUSDC:k}=a.funding,A=a.funding.address,I=a.funding.erc20Address,S=a.funding.isUSDC?"USDC":_.nativeCurrency.symbol,T=C??{name:"mainnet-beta"},P=E?s.find(({address:e})=>e===E):s[0],j=Rg(P?.walletClientType||"unknown"),N=j?.name||"wallet";return(0,f.useEffect)(()=>{(async function(){if(!P||!_||o.current)return;let e=l(qZ);if(!e)return void m(new l1.P("Unable to solana plugin"));o.current=!0,_?.testnet&&console.warn("Solana testnets are not supported for bridging");let t=k?1e6*parseFloat(x):hk(x),r=await BG({isTestnet:!!_.testnet,input:Bq({amount:t.toString(),user:P.address,recipient:A,destinationChainId:_.id,originChainId:0x2f3fb341,originCurrency:k?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":RE,destinationCurrency:k?I:void 0})}).catch(console.error);if(!r)return void m(new l1.P(`Unable to fetch quotes for bridging. Wallet ${$h(P.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE));let n=await e.createBridgeTransactionFromRelayQuote({quote:r,from:P.address,cluster:T});if(n)try{d(!0);let{connection:e,transaction:t}=n,i=await e.simulateTransaction(t);if(i.value.err)return i.value.logs?.find(e=>/insufficient (lamports|funds)/gi.test(e))?void m(new l1.P(`Wallet ${$h(P?.address)} does not have enough funds. ${r.details.currencyIn.amountFormatted} ${S} are needed to complete the transaction.`,void 0,l1.a.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",i.value.err),void m(new l1.P("Something went wrong",void 0,l1.a.TRANSACTION_FAILURE)));let a=await P.sendTransaction(t,e),s=await e.confirmTransaction(a);if(s.value.err)return console.error("Transaction failed:",s.value.err),void m(new l1.P("Something went wrong",void 0,l1.a.TRANSACTION_FAILURE));w(a),b("pending")}catch(e){if(console.error(e),/user rejected the request/gi.test(e.message||""))return void m(new l1.P("Transaction was rejected by the user",void 0,l1.a.TRANSACTION_FAILURE));m(new l1.P("Something went wrong",void 0,l1.a.TRANSACTION_FAILURE))}else m(new l1.P(`Unable to select bridge option from quotes. Wallet ${$h(P.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),BJ({transactionHash:y,wallet:P,isTestnet:!1,bridgingStatus:v,setBridgingStatus:b,onSuccess({transactionHash:e,wallet:r}){d(!1),h(!0),t({eventName:qK,payload:{provider:"external",status:"success",txHash:e,address:r.address,chainType:"solana",clusterName:T.name,token:"SOL",destinationAddress:A,destinationChainId:_.id,destinationChainType:"ethereum",destinationValue:x,destinationToken:k?"USDC":"ETH"}})},onFailure({error:e}){d(!1),m(e)}}),(0,f.useEffect)(()=>{if(!u)return;let t=setTimeout(e,4e3);return()=>clearTimeout(t)},[u]),(0,f.useEffect)(()=>{g&&(n({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:g,previousScreen:Vo}}),r(BQ,!1))},[g]),u?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(OF,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Success!",description:`Youve successfully added ${x} ${S} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}):c&&P?(0,p.jsx)(HE,{wallet:P,displayName:N,addressToFund:A,isBridging:c,isErc20Flow:!1,chainId:_.id,chainName:_.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Hc,{}),(0,p.jsx)("div",{style:{marginTop:"1rem"}}),(0,p.jsx)(DM,{})]})}},Vs={component:()=>{let{data:e,setModalData:t}=RM(),r=e?.funding,n="solana"===r.chainType,i=(0,f.useRef)(null),{tokenPrice:a}=Ui(n?"solana":r.chain.id),s=n?void 0:r,o=!(!s?.erc20Address||s?.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?r.erc20ContractInfo?.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),d=!isNaN(c)&&c>0,u=a?D6(r.amount,a):void 0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(qR,{children:"Confirm or edit amount"}),(0,p.jsxs)(L$,{style:{marginTop:"32px"},children:[(0,p.jsx)(H4,{children:o?(0,p.jsx)(Hc,{size:"50px"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(H6,{onClick:()=>i.current?.focus(),children:[(0,p.jsx)(H9,{ref:i,value:r.amount,onChange:n=>{let i=n.target.value;/^[0-9.]*$/.test(i)&&i.split(".").length-1<=1&&t({...e,funding:{...r,amount:i}})}}),(0,p.jsx)(H7,{children:l})]}),!s?.erc20Address&&(0,p.jsx)(Ve,{children:u&&d?`${u} USD`:""})]})}),(0,p.jsx)(D_,{style:{marginTop:"1rem"},disabled:!d,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),(0,p.jsx)(DM,{})]})}},Vo={component:()=>{let e,{connectors:t}=(0,l1.u)(),{app:r,setModalData:n,data:i,navigate:a}=RM(),{wallets:s}=Us(),{wallets:o}=GI(),[l,c]=(0,f.useState)("default"),d="solana"===i?.funding?.chainType,u=!!i?.funding?.crossChainBridgingEnabled;e="ethereum"===i?.funding?.chainType?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":u&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":u&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let h=s.filter(e=>"privy"!==e.walletClientType),g=h.map(e=>e.walletClientType),m=o.filter(e=>"privy"!==e.walletClientType),y=m.map(e=>e.walletClientType),w=[],v={...i.funding};v.usingDefaultFundingMethod&&(v.usingDefaultFundingMethod=!1);let b=({address:e,walletChainType:t})=>{n({...i,funding:{...v,connectedWalletAddress:e,onContinueWithExternalWallet:()=>a(E({destChainType:d?"solana":"ethereum",sourceChainType:t}))}}),a(Vs)};"solana-only"!==e&&w.push(...h.map((e,t)=>(0,p.jsx)(Vl,{onClick:()=>b({address:e.address,walletChainType:"ethereum"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),"ethereum-only"!==e&&w.push(...m.map((e,t)=>(0,p.jsx)(Vl,{onClick:()=>b({address:e.address,walletChainType:"solana"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),w.push(...zX({walletList:r.appearance.walletList.filter(e=>!h.some(t=>t.walletClientType===e)&&!m.some(t=>t.walletClientType===e)),walletChainType:e,connectors:t,connectOnly:!0,ignore:[...r.appearance.walletList,...g,...y],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let x=(0,p.jsx)(z0,{text:"More wallets",onClick:()=>c("overflow")}),E=({sourceChainType:e,destChainType:t})=>"ethereum"===e&&"solana"===t?G0:"ethereum"===e&&"ethereum"===t?Vi:"solana"===e&&"ethereum"===t?Va:HC;return(0,f.useEffect)(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({walletChainType:e})=>(n({...i,funding:{...v,onContinueWithExternalWallet:()=>{a(E({destChainType:d?"solana":"ethereum",sourceChainType:e??"ethereum"}))}}}),Vs)}})},[]),(0,p.jsxs)(p.Fragment,"overflow"===l?{children:[(0,p.jsx)(DF,{backFn:()=>c("default")},"header"),(0,p.jsxs)(Do,{children:[(0,p.jsx)(qM,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),(0,p.jsx)(DM,{})]}:{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Fw,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),(0,p.jsxs)(Do,{children:[w.length>4?w.slice(0,3):w,w.length>4&&x]}),(0,p.jsx)(DM,{})]})}},Vl=({onClick:e,icon:t,name:r,chainType:n})=>(0,p.jsxs)(Du,{onClick:e,children:[(0,p.jsx)(H5,{style:{width:20},children:(0,p.jsx)("img",{src:t})}),r,(0,p.jsx)(Wx,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),"solana"===n&&(0,p.jsx)(Wx,{color:"gray",children:"Solana"})]}),Vc={component:()=>{let{data:e,setModalData:t,navigate:r,navigateBack:n}=RM(),{closePrivyModal:i,createAnalyticsEvent:a,client:s}=(0,l1.u)(),[o,l]=(0,f.useState)("pending-in-flow"),c=(0,f.useRef)(0),d={...e?.funding,showAlternateFundingMethod:!0};d.usingDefaultFundingMethod&&(d.usingDefaultFundingMethod=!1);let{partnerUserId:u,popup:h}=e?.coinbaseOnrampStatus??{};return(0,f.useEffect)(()=>{if("pending-in-flow"===o||"pending-after-flow"===o){let e=setInterval(async()=>{if(u)try{let{status:e}=await s.getCoinbaseOnRampStatus({partnerUserId:u});if("success"===e)return void l("success");if("failure"===e)throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return t({funding:d}),void r(VA);h?.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(e){console.error(e),l("error"),a({eventName:qK,payload:{status:"failure",provider:"coinbase-onramp",error:e.message}}),t({funding:{...d,errorMessage:"Something went wrong adding funds. Please try again or use another method."}}),r(VA)}},1500);return()=>clearInterval(e)}},[u,h,o]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{title:"Fund account",backFn:()=>{t({funding:d}),n()}},"header"),(0,p.jsx)(Vd,{status:o,onClickCta:i}),(0,p.jsx)(DM,{})]})}},Vd=({status:e,onClickCta:t})=>{let{title:r,body:n,cta:i}=(0,f.useMemo)(()=>(e=>{switch(e){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(e),[e]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Vp,{children:[(0,p.jsx)(Vu,{isSucccess:"success"===e}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:r}),(0,p.jsx)(Vh,{children:n})]})]}),i&&(0,p.jsx)(DE,{onClick:t,children:i})]})},Vu=({isSucccess:e})=>{if(!e){let e="var(--privy-color-foreground-4)";return(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(Dy,{color:e,style:{position:"absolute"}}),(0,p.jsx)(Dw,{color:e}),(0,p.jsx)(M$,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let t=e?OA:()=>(0,p.jsx)(OS,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}),r=e?"var(--privy-color-success)":"var(--privy-color-foreground-4)";return(0,p.jsx)("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,p.jsx)(t,{width:"4rem",height:"4rem",color:r})})},Vh=yR.p.withConfig({displayName:"StatusBody",componentId:"sc-ebf88779-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Vp=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-ebf88779-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),Vf={[R.id]:"ethereum",[N.id]:"base",[D.id]:"optimism",[U.id]:"polygon",[S.id]:"arbitrum"},Vg=(e,t,r,n,i,a)=>new Promise(async(s,o)=>{let l=Fu();if(!l)return void o(Error("Unable to initialize flow"));let c="ethereum"===t.chainType?function(e){let t=Vf[e];if(!t)throw new l1.P(`Unsupported chainId: ${e} for Coinbase Onramp`);return t}(t.chain.id):"solana",d=t.isUSDC?"USDC":"ethereum"===t.chainType?"ETH":"SOL",u=await e.initCoinbaseOnRamp({addresses:[{address:t.address,blockchains:[c]}],assets:[d]}),{url:h}=function({appId:e,input:t,amount:r,blockchain:n,asset:i,experience:a}){let s=new URL("https://pay.coinbase.com/buy/select-asset");return s.searchParams.set("appId",t.app_id),s.searchParams.set("sessionToken",t.session_token),s.searchParams.set("endPartnerName",`privy:${e}`),s.searchParams.set("defaultExperience",a),s.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),s.searchParams.set("defaultNetwork",n),s.searchParams.set("defaultPaymentMethod",ru[a]),s.searchParams.set("defaultAsset",rh[i]),s.searchParams.set("partnerUserId",t.partner_user_id),{url:s}}({appId:e.getAppId(),input:u,amount:t.amount,blockchain:c,asset:d,experience:a});l.location=h.toString();let p={...i?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,coinbaseOnrampStatus:{popup:l}}),n(Vc),e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.cluster.name}}),setTimeout(()=>{r({funding:p,coinbaseOnrampStatus:{partnerUserId:u.partner_user_id,popup:l}})},5e3),s()}),Vm=({size:e=61,...t})=>(0,p.jsx)("svg",{width:e,height:e,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,p.jsxs)("g",{id:"moonpay_symbol_wht 2",children:[(0,p.jsx)("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),(0,p.jsx)("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),Vy={component:()=>{let{app:e,data:t,setModalData:r,navigateBack:n}=RM(),{closePrivyModal:i}=(0,l1.u)(),{externalTransactionId:a}=t?.moonpayStatus,s=function(e,t=!1){let[r,n]=(0,f.useState)(null),{createAnalyticsEvent:i}=(0,l1.u)(),{data:a,navigate:s,setModalData:o}=RM(),l=a?.funding,c=(0,f.useRef)(0);return(0,f.useEffect)(()=>{let r=setInterval(async()=>{if(e)try{let[a]=await async function(e,t){return OY(`https://api.moonpay.com/v1/transactions/ext/${e}`,{query:{apiKey:t?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(e,t),c="waitingAuthorization"===a.status&&"credit_debit_card"===a.paymentMethod?"pending":a.status;if(["failed","completed","awaitingAuthorization"].includes(c)&&(i({eventName:qK,payload:{status:c,provider:VI,paymentMethod:a.paymentMethod,cardPaymentType:a.cardPaymentType,currency:a.currency?.code,baseCurrencyAmount:a.baseCurrencyAmount,quoteCurrencyAmount:a.quoteCurrencyAmount,feeAmount:a.feeAmount,extraFeeAmount:a.extraFeeAmount,networkFeeAmount:a.networkFeeAmount,isSandbox:t}}),clearInterval(r)),"failed"===c||"serviceFailure"===c)return o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),void s(VA);n(c)}catch(e){404!==e.response?.status&&(c.current+=1),c.current>=3&&(i({eventName:qK,payload:{status:"serviceFailure",provider:VI}}),clearInterval(r),o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),s(VA))}},3e3);return()=>clearInterval(r)},[e,c]),r}(a||null,e.fundingMethodConfig.moonpay.useSandbox??!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{title:"Fund account",backFn:()=>{let e={...t?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),r({funding:e}),n()}}),(0,p.jsx)(Vw,{status:s,onClickCta:i}),(0,p.jsx)(DM,{})]})}},Vw=({status:e,onClickCta:t})=>{let{title:r,body:n,cta:i}=(0,f.useMemo)(()=>(e=>{switch(e){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(e),[e]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Vx,{children:[(0,p.jsx)(Vv,{status:e}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:r}),(0,p.jsx)(Vb,{children:n})]})]}),i&&(0,p.jsx)(DE,{onClick:t,children:i})]})},Vv=({status:e})=>{if(!e||"pending"===e){let e="var(--privy-color-foreground-4)";return(0,p.jsxs)("div",{style:{position:"relative"},children:[(0,p.jsx)(Dy,{color:e,style:{position:"absolute"}}),(0,p.jsx)(Dw,{color:e}),(0,p.jsx)(Vm,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let t=(e=>{switch(e){case"completed":return OA;case"waitingAuthorization":return()=>(0,p.jsx)(OS,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(e),r=(e=>e?({completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"})[e]:"var(--privy-color-foreground-4)")(e);return(0,p.jsx)("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,p.jsx)(t,{width:"4rem",height:"4rem",color:r})})},Vb=yR.p.withConfig({displayName:"StatusBody",componentId:"sc-7f0a56e4-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Vx=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-7f0a56e4-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),VE=async(e,t,r,n,i,a,s,o)=>{let l=Fu();if(!l)throw Error("Unable to initialize flow");let c="ethereum"===t.chainType?t.moonpayConfigOverride?.currencyCode??function(e,t){switch(e){case S.id:return"native-currency"===t?"ETH_ARBITRUM":"USDC_ARBITRUM";case P.id:return"AVAX_CCHAIN";case N.id:return"native-currency"===t?"ETH_BASE":"USDC_BASE";case $.id:return"CELO_CELO";case U.id:return"native-currency"===t?"MATIC_POLYGON":"USDC_POLYGON";case R.id:return"native-currency"===t?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}(t.chain.id,n):t.isUSDC?"USDC_SOL":"SOL",{signedUrl:d,externalTransactionId:u}=await e.signMoonpayOnRampUrl({address:t.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...t.moonpayConfigOverride,paymentMethod:o,currencyCode:c,quoteCurrencyAmount:t.moonpayConfigOverride?.quoteCurrencyAmount??parseFloat(t.amount)}});e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.cluster.name}}),l.location=d;let h={...s?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h}),a(Vy),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:u},funding:h})},8e3)},V_=async e=>"undefined"!=typeof window&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:e}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment(),VC=()=>V_("https://apple.com/apple-pay"),Vk=()=>V_("https://google.com/pay"),VA={component:()=>{let{wallets:e}=Us(),{wallets:t}=GI(),{navigate:r,data:n,setModalData:i}=RM(),{client:a}=(0,l1.u)(),s=Rj(),o=n?.funding,l=Ha(VC),c=Ha(Vk),d="solana"===o.chainType,u=d?void 0:o,h=(0,f.useMemo)(()=>((e,t,r,n,i,a)=>{let s,o,l="solana"===r.chainType,c=l?void 0:r,d=r.isUSDC?"USDC":c?.erc20Address?void 0:"native-currency",u=!!l||d&&function(e,t){switch(t){case"native-currency":return rg.has(e);case"USDC":return rm.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}(Number(r.chain.id),d),h=!!l||d&&rp(Number(r.chain.id),d),p=[];for(let s of(r.preferredCardProvider&&r.supportedOptions.sort(e=>e.provider===r.preferredCardProvider?-1:1),r.supportedOptions))"card"===s.method&&"coinbase"===s.provider&&h&&p.push(()=>Vg(t,r,n,i,a,"buy")),"card"===s.method&&"moonpay"===s.provider&&u&&d&&p.push(()=>VE(t,r,e,d,n,i,a,"credit_debit_card"));for(let e of r.supportedOptions)"exchange"===e.method&&"coinbase"===e.provider&&h&&(s=()=>Vg(t,r,n,i,a,"buy"));for(let e of a?.funding?.supportedOptions??[])"wallets"===e.method&&(o=()=>i(Vo));return{onFundWithCard:p,onFundWithExchange:s,onFundWithWallet:o}})(s,a,o,i,r,n),[s,a,o,n,i,r]);(0,f.useEffect)(()=>{if(o?.defaultFundingMethod&&o.usingDefaultFundingMethod)switch(i({funding:{...o,usingDefaultFundingMethod:!1}}),o?.defaultFundingMethod){case"card":h.onFundWithCard[0]&&h.onFundWithCard[0]();break;case"exchange":h.onFundWithExchange&&h.onFundWithExchange();break;case"wallet":h.onFundWithWallet&&h.onFundWithWallet();break;case"manual":r(GS)}},[]),(0,f.useEffect)(()=>{u?.erc20Address&&!u.erc20ContractInfo&&Ho({address:u.erc20Address,chain:u.chain,rpcConfig:s.rpcConfig,privyAppId:s.id}).then(e=>{i({...n,funding:{...u,erc20ContractInfo:e?{symbol:e.symbol,decimals:e.decimals}:void 0}})}).catch(console.error)},[u?.erc20Address,u?.chain]);let g=d?t.find(({address:e})=>e===o.address):e.find(({address:e})=>(0,y.b)(e)===(0,y.b)(o.address)),m=Rg(g?.walletClientType||"unknown"),w=m?.name||"wallet",v=g&&"privy"!==g.walletClientType?w:s.name,b=!(!u?.erc20Address||u?.erc20ContractInfo);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsxs)("h3",{children:["Add funds to your"," ",v?.toLowerCase().endsWith("wallet")?v:v+" wallet"]}),(0,p.jsxs)(H3,{children:[o.errorMessage&&(0,p.jsx)(Ht,{theme:s.appearance.palette.colorScheme,children:o.errorMessage}),h.onFundWithCard?.[0]&&(0,p.jsxs)(Du,{disabled:b,onClick:h.onFundWithCard[0],children:[(0,p.jsx)(H5,{children:(0,p.jsx)(OW,{style:{width:24}})}),"Pay with card",l?(0,p.jsx)(Hn,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?(0,p.jsx)(Hi,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),h.onFundWithExchange&&(0,p.jsxs)(Du,{disabled:b,onClick:h.onFundWithExchange,children:[(0,p.jsx)(H5,{children:(0,p.jsx)(OS,{style:{width:24}})}),"Transfer from an exchange"]}),h.onFundWithWallet&&(0,p.jsxs)(Du,{disabled:b,onClick:h.onFundWithWallet,children:[(0,p.jsx)(H5,{children:(0,p.jsx)(Hs,{style:{width:24}})}),"Transfer from wallet"]}),(0,p.jsxs)(Du,{disabled:b,onClick:()=>r(GS),children:[(0,p.jsx)(H5,{children:(0,p.jsx)(Oz,{style:{width:24}})}),"Receive funds"]}),o?.showAlternateFundingMethod&&h.onFundWithCard?.[1]&&(0,p.jsx)(qF,{theme:s.appearance.palette.colorScheme,children:(0,p.jsxs)(Vt,{children:["Having trouble or facing location restrictions?"," ",(0,p.jsx)(Vr,{onClick:h.onFundWithCard[1],children:"Try a different provider."})]})})]}),(0,p.jsx)(DM,{})]})}},VI="moonpay";function VS(e){return!!e&&(void 0!==e.chain||void 0!==e.amount)}let VT={[R.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[B.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[D.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[L.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[U.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[F.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[N.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[O.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[P.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[j.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[S.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[T.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},VP=({address:e,appConfig:t,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:a=!1})=>{let s,o;if(!t.fundingConfig)throw Error("Wallet funding is not enabled");let l=q7(t.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");s=i||(VS(r)&&r.chain?r.chain.id:Fs(t.fundingConfig.defaultRecommendedCurrency.chain));let c=t.chains.find(e=>e.id===s);if(!c)throw new l1.P(`Funding chain ${s} is not in PrivyProvider chains list`);let d=VS(r)&&r.amount?r.amount:t.fundingConfig.defaultRecommendedAmount,u=!1;function h(){if(!s)return;let e=VT[s];l.find(e=>"wallets"===e.method)&&!e&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),o=e,u=!0}VS(r)&&"asset"in r?"USDC"===r.asset?h():"string"!=typeof r.asset&&"erc20"in r.asset&&(u=(o=r.asset.erc20)===VT[c.id]):"USDC"===t.fundingConfig.defaultRecommendedCurrency.asset&&h();let p=r?.defaultFundingMethod;return{chainType:"ethereum",address:e,amount:d,chain:c,erc20Address:o,erc20ContractInfo:u?{symbol:"USDC",decimals:6}:void 0,isUSDC:u,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:a,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:r?.card?.preferredProvider,crossChainBridgingEnabled:t.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:t.solanaClusters["mainnet-beta"].rpcUrl},...!function(e){return!!e&&void 0!==e.config&&void 0!==e.provider}(r)?{}:{moonpayConfigOverride:r.config},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0}},Vj=({children:e,theme:t})=>(0,p.jsxs)(VN,{$theme:t,children:[(0,p.jsx)(yJ,{width:"1.25rem",color:"dark"===t?"#FDE68A":"var(--privy-color-warn)"}),e]}),VN=yR.div.withConfig({displayName:"Container",componentId:"sc-97f152b3-0"})(["display:flex;gap:0.5rem;background-color:",";"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"],e=>"dark"===e.$theme?"var(--privy-color-background-2)":"var(--privy-color-warn-light)",e=>"dark"===e.$theme?"color: #FDE68A;":"");function VO(e){let[t,r]=(0,f.useState)(e.dimensions.width),[n,i]=(0,f.useState)(void 0),a=(0,f.useRef)(null);(0,f.useEffect)(()=>{if(a.current&&void 0===t){let{width:e}=a.current.getBoundingClientRect();r(e)}let e=getComputedStyle(document.documentElement);i({background:e.getPropertyValue("--privy-color-background"),background2:e.getPropertyValue("--privy-color-background-2"),foreground3:e.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:e.getPropertyValue("--privy-color-foreground-accent"),accent:e.getPropertyValue("--privy-color-accent"),accentDark:e.getPropertyValue("--privy-color-accent-dark"),success:e.getPropertyValue("--privy-color-success"),colorScheme:e.getPropertyValue("color-scheme")})},[]);let s="ethereum"===e.chainType&&!e.imported&&!e.isUnifiedWallet;return(0,p.jsx)("div",{ref:a,children:t&&(0,p.jsxs)(VR,{children:[(0,p.jsx)("iframe",{style:{position:"absolute",zIndex:1},width:t,height:e.dimensions.height,allow:"clipboard-write self *",src:$g(e.origin,`/apps/${e.appId}/embedded-wallets/export`,e.isUnifiedWallet?{v:"1-unified",wallet_id:e.walletId,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:s,...n}:{v:"1",entropy_id:e.entropyId,entropy_id_verifier:e.entropyIdVerifier,hd_wallet_index:e.hdWalletIndex,chain_type:e.chainType,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:s,...n},{token:e.accessToken})}),(0,p.jsx)(VD,{children:"Loading..."}),s&&(0,p.jsx)(VD,{children:"Loading..."})]})})}let V$={component:()=>{let[e,t]=(0,f.useState)(null),{authenticated:r,user:n,getAccessToken:i}=R8(),{closePrivyModal:a,createAnalyticsEvent:s,clientAnalyticsId:o}=(0,l1.u)(),l=Rj(),{data:c,onUserCloseViaDialogOrKeybindRef:d}=RM(),{onFailure:u,onSuccess:h,origin:g,appId:m,appClientId:y,entropyId:w,entropyIdVerifier:v,walletId:b,hdWalletIndex:x,chainType:E,address:_,isUnifiedWallet:C,imported:k}=c.keyExport,A=e=>{a({shouldCallAuthOnSuccess:!1}),u("string"==typeof e?Error(e):e)},I=()=>{a({shouldCallAuthOnSuccess:!1}),h(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:_}})};return(0,f.useEffect)(()=>{if(!r)return A("User must be authenticated before exporting their wallet");i().then(t,A)},[r,n]),d.current=I,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:I}),(0,p.jsxs)(VM,{children:[(0,p.jsx)(qR,{children:"Export wallet"}),(0,p.jsxs)(qM,{children:["Copy either your private key or seed phrase to export your wallet."," ",(0,p.jsx)("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),(0,p.jsx)(Vj,{theme:l.appearance.palette.colorScheme,children:"Never share your private key or seed phrase with anyone."}),(0,p.jsx)(qV,{isLoading:!1,isPulsing:!1,title:"Your wallet",address:_,showIcon:!0}),(0,p.jsx)("div",{style:{width:"100%"},children:e&&(0,p.jsx)(VO,{origin:g,appId:m,appClientId:y,accessToken:e,clientAnalyticsId:o,entropyId:w,entropyIdVerifier:v,walletId:b,hdWalletIndex:x,isUnifiedWallet:C,imported:k,chainType:E,dimensions:{height:"44px"}})})]}),(0,p.jsx)(DM,{})]})}},VM=yR.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-5f84798a-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),VR=yR.div.withConfig({displayName:"ButtonContainer",componentId:"sc-5f84798a-1"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),VD=yR.div.withConfig({displayName:"LoadingButton",componentId:"sc-5f84798a-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]),VL={component:()=>{let{authenticated:e,user:t,getAccessToken:r}=R8(),{closePrivyModal:n,createAnalyticsEvent:i,walletProxy:a}=(0,l1.u)(),{navigate:s,data:o,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=RM(),d=(0,f.useMemo)(()=>Date.now(),[]),[u,h]=(0,f.useState)(!1),{onCompleteNavigateTo:g,onFailure:m,shouldForceMFA:y,entropyId:w,entropyIdVerifier:v,recoveryMethod:b,connectingWalletAddress:x,isUnifiedWallet:E=!1}=o?.connectWallet,_=e=>{u||(h(!0),m("string"==typeof e?Error(e):e))};(0,f.useEffect)(()=>{let t;return e?a?((async()=>{let e=await r();if(!e)return _("User must be authenticated and have a Privy wallet before it can be connected");try{E||await a.connect({accessToken:e,entropyId:w,entropyIdVerifier:v}),y&&await a.verifyMfa({accessToken:e});let r=(Date.now()-d)/1e3;g===V$&&r<1?t=setTimeout(()=>{s(g,!1)},1e3*(1-r)):s(g,!1)}catch(e){if(Up(e)&&"privy"===b){let e=await r();if(!e)return _("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:x}});let t=await a?.recover({accessToken:e,entropyId:w,entropyIdVerifier:v});t?.entropyId||_(Error("Unable to recover wallet")),g?s(g):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:x}}),s(g)}catch(e){_("An error has occurred, please try again.")}}else Up(e)&&"privy"!==b&&"privy-v2"!==b?(l({...o,recoverWallet:{entropyId:w,entropyIdVerifier:v,onCompleteNavigateTo:g,onFailure:m},recoveryOAuthStatus:{provider:b,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),s(qU(b))):_(e)}})(),()=>clearTimeout(t)):void 0:_("User must be authenticated and have a Privy wallet before it can be connected")},[e,t,a]);let C=()=>{_("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})};return c.current=C,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:C}),u?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(LO,{children:[(0,p.jsx)(Ok,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Something went wrong",description:"Were on it. Please try again later."})]}),(0,p.jsx)(DE,{onClick:()=>n({shouldCallAuthOnSuccess:!1}),children:"Close"})]}):(0,p.jsx)(Wo,{}),(0,p.jsx)(VU,{})]})}},VU=yR.div.withConfig({displayName:"BottomSpacing",componentId:"sc-1ec92f42-0"})(["height:44px;"]),VF=yR(Hm).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var VB=({iconUrl:e,value:t,symbol:r,usdValue:n,nftName:i,nftCount:a,$isLoading:s})=>s?(0,p.jsx)(VW,{$isLoading:s}):(0,p.jsxs)("div",{children:[(0,p.jsxs)(VW,{$isLoading:s,children:[e&&(0,p.jsx)(Vq,{src:e,alt:"Token icon"}),a&&a>1?a+"x":void 0," ",i,t," ",r]}),n&&(0,p.jsxs)(Vz,{$isLoading:s,children:["$",n]})]});let VW=yR.span.withConfig({displayName:"Value",componentId:"sc-f3c0f2da-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],Wb),Vz=yR.span.withConfig({displayName:"Subvalue",componentId:"sc-f3c0f2da-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],Wb),Vq=yR.img.withConfig({displayName:"TokenIcon",componentId:"sc-f3c0f2da-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]),VH=e=>{let{chain:t,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=e,{action:a,functionName:s}=r;return(0,p.jsx)(qH,{children:(0,p.jsxs)(Hf,{children:["transaction"!==a&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Action"}),(0,p.jsx)(Hw,{children:s})]}),"mint"===s&&"args"in r&&r.args.filter(e=>e).map((e,r)=>(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:`Param ${r}`}),(0,p.jsx)(Hw,{children:"string"==typeof e&&(0,b.P)(e)?(0,p.jsx)(BU,{address:e,url:t?.blockExplorers?.default?.url,showCopyIcon:!1}):e?.toString()})]},r)),"setApprovalForAll"===s&&r.operator&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Operator"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:r.operator,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),"setApprovalForAll"===s&&void 0!==r.approved&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Set approval to"}),(0,p.jsx)(Hw,{children:r.approved?"true":"false"})]}),"transfer"===s||"transferFrom"===s||"safeTransferFrom"===s||"approve"===s?(0,p.jsxs)(p.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsxs)(Hw,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token ID"}),(0,p.jsx)(Hw,{children:r.tokenId.toString()})]})]}):null,"safeBatchTransferFrom"===s&&(0,p.jsxs)(p.Fragment,{children:["amounts"in r&&r.amounts&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amounts"}),(0,p.jsx)(Hw,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token IDs"}),(0,p.jsx)(Hw,{children:r.tokenIds.join(", ")})]})]}),"approve"===s&&r.spender&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Spender"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:r.spender,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===s||"safeTransferFrom"===s||"safeBatchTransferFrom"===s)&&r.transferFrom&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Transferring from"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:r.transferFrom,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===s||"safeTransferFrom"===s||"safeBatchTransferFrom"===s)&&r.transferTo&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Transferring to"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:r.transferTo,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},VV={success:"background: var(--privy-color-success-lightest, #dcfce7);",warn:"background: var(--privy-color-warn-lightest, #fff7e6);",error:"background: var(--privy-color-error-lightest, #fde8e8);"},VG=yR.div.withConfig({displayName:"Pill",componentId:"sc-8c138024-0"})(["border-radius:var(--privy-border-radius-md,8px);padding:12px;text-align:left;margin-top:23px;",""],e=>VV[e.variant]),VK=({variant:e,setPreventMaliciousTransaction:t,preventMaliciousTransaction:r})=>"warn"===e?(0,p.jsx)(VG,{variant:e,children:(0,p.jsxs)("div",{className:"flex flex-row",children:[(0,p.jsx)(VJ,{$variant:e}),(0,p.jsxs)("p",{children:[(0,p.jsx)("b",{children:"Warning: Suspicious transaction"}),(0,p.jsx)("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})]})}):"error"===e?(0,p.jsx)(VG,{variant:e,children:(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsxs)("div",{className:"flex flex-row",children:[(0,p.jsx)(VJ,{$variant:e}),(0,p.jsxs)("p",{children:[(0,p.jsx)("b",{children:"This is a malicious transaction"}),(0,p.jsx)("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})]}),(0,p.jsxs)("div",{className:"mt-3 flex flex-row gap-2",children:[(0,p.jsx)(F2,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>t(!r)}),(0,p.jsx)("p",{children:"I understand and want to proceed anyways."})]})]})}):void 0,VJ=yR(yJ).withConfig({displayName:"StyledExclamationTriangleIcon",componentId:"sc-91effb27-0"})(["width:20px;height:20px;stroke-width:2px;flex-shrink:0;display:inline-block;margin-right:8px;",";"],({$variant:e})=>"error"===e?"color: var(--privy-color-error)":"color: var(--privy-color-warn)"),VY=({transactionIndex:e,maxIndex:t})=>"number"!=typeof e||0===t?"":` (${e+1} / ${t+1})`,VZ=({img:e,submitError:t,prepareError:r,onClose:n,action:i,title:a,subtitle:s,txValue:o,to:l,tokenAddress:c,network:d,missingFunds:u,fee:h,from:g,cta:m,disabled:y,chain:w,isSubmitting:v,isPreparing:b,isTokenPriceLoading:x,isTokenContractInfoLoading:E,isSponsored:_,symbol:C,balance:k,onClick:A,transactionDetails:I,transactionIndex:S,maxIndex:T,onBack:P,chainName:j,validation:N,hasScanDetails:O,setIsScanDetailsOpen:$,preventMaliciousTransaction:M,setPreventMaliciousTransaction:R,tokensSent:D,tokensReceived:L,isScanning:U,isCancellable:F})=>{let{showTransactionDetails:B,setShowTransactionDetails:W,hasMoreDetails:z,isErc20Ish:q}=(e=>{let[t,r]=(0,f.useState)(!1),n=!0,i=!1;return(!e||e.isErc20Ish||"transaction"===e.action)&&(n=!1),n&&(i=Object.entries(e||{}).some(([e,t])=>t&&!["action","isErc20Ish","isNFTIsh"].includes(e))),{showTransactionDetails:t,setShowTransactionDetails:r,hasMoreDetails:n&&i,isErc20Ish:e?.isErc20Ish}})(I),H=q&&E||b||x||U;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:n,backFn:P}),e&&(0,p.jsx)(V2,{children:e}),(0,p.jsxs)(qR,{style:{marginTop:e?"1.5rem":0},children:[a,(0,p.jsx)(VY,{maxIndex:T,transactionIndex:S})]}),(0,p.jsx)(qM,{children:s}),(0,p.jsxs)(Hf,{style:{marginTop:"2rem"},children:[(!!D[0]||H)&&(0,p.jsxs)(Hg,{children:[L.length>0?(0,p.jsx)(Hm,{children:"Send"}):(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsx)("div",{className:"flex flex-col",children:D.map((e,t)=>(0,p.jsx)(VB,{iconUrl:e.iconUrl,value:e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount},t))})]}),L.length>0&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Receive"}),(0,p.jsx)("div",{className:"flex flex-col",children:L.map((e,t)=>(0,p.jsx)(VB,{iconUrl:e.iconUrl,value:e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount},t))})]}),I&&"spender"in I&&I?.spender?(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Spender"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:I.spender,url:w?.blockExplorers?.default?.url})})]}):null,l&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"To"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:l,url:w?.blockExplorers?.default?.url})})]}),c&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token address"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:c,url:w?.blockExplorers?.default?.url})})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Network"}),(0,p.jsx)(Hw,{children:d})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Estimated fee"}),(0,p.jsx)(Hw,{$isLoading:b||x||void 0===_,children:_?"Sponsored":h})]}),z&&!O&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Hg,{className:"cursor-pointer",onClick:()=>W(!B),children:(0,p.jsxs)(Hy,{className:"flex items-center gap-x-1",children:["Details"," ",(0,p.jsx)(yG,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:B?"rotate(180deg)":void 0}})]})}),B&&I&&(0,p.jsx)(VH,{action:i,chain:w,transactionDetails:I,isTokenContractInfoLoading:E,symbol:C})]}),O&&(0,p.jsx)(Hg,{children:(0,p.jsxs)(VF,{onClick:()=>$(!0),children:[(0,p.jsx)("span",{className:"text-color-primary",children:"Details"}),(0,p.jsx)(OZ,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),(0,p.jsx)(Da,{}),t?(0,p.jsx)(qp,{style:{marginTop:"2rem"},children:t.message}):r&&0===S?(0,p.jsx)(qp,{style:{marginTop:"2rem"},children:r.shortMessage??V1}):null,(0,p.jsx)(VK,{variant:N,preventMaliciousTransaction:M,setPreventMaliciousTransaction:R}),(0,p.jsx)(VX,{$useSmallMargins:!(!r&&!t&&"warn"!==N&&"error"!==N),title:Number(o)>0?void 0:!1!==_?"Your wallet":void 0,address:g,balance:k,isLoading:b||x,errMsg:b||r||t||!u?void 0:`Add funds on ${w?.name??j} to complete transaction.`}),(0,p.jsx)(DE,{style:{marginTop:"1rem"},loading:v,disabled:y||b,onClick:A,children:m}),F&&(0,p.jsx)(DP,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),(0,p.jsx)(DM,{})]})},VQ=({img:e,title:t,subtitle:r,cta:n,instructions:i,network:a,blockExplorerUrl:s,isMissingFunds:o,submitError:l,parseError:c,total:d,swap:u,transactingWalletAddress:h,fee:g,balance:m,disabled:y,isSubmitting:w,isPreparing:v,isTokenPriceLoading:b,onClick:x,onClose:E,onBack:_})=>{let C=v||b,[k,A]=(0,f.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E,backFn:_}),e&&(0,p.jsx)(V2,{children:e}),(0,p.jsx)(qR,{style:{marginTop:e?"1.5rem":0},children:t}),(0,p.jsx)(qM,{children:r}),(0,p.jsxs)(Hf,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(d||C)&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsx)(Hw,{$isLoading:C,children:d})]}),u&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Swap"}),(0,p.jsx)(Hw,{children:u})]}),a&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Network"}),(0,p.jsx)(Hw,{children:a})]}),(g||C)&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Estimated fee"}),(0,p.jsx)(Hw,{$isLoading:C,children:g})]})]}),(0,p.jsx)(Hg,{children:(0,p.jsxs)(VF,{onClick:()=>A(e=>!e),children:[(0,p.jsx)("span",{children:"Advanced"}),(0,p.jsx)(yG,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:k?"rotate(180deg)":void 0}})]})}),k&&(0,p.jsx)(p.Fragment,{children:i.map((e,t)=>"sol-transfer"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Transfer ",e.withSeed?"with seed":""]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsxs)(Hw,{children:[rl({amount:e.value,decimals:e.token.decimals})," ",e.token.symbol]})]}),!!e.toAccount&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Destination"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.toAccount,url:s})})]})]},t):"spl-transfer"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Transfer ",e.token.symbol]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsx)(Hw,{children:e.value.toString()})]}),!!e.fromAta&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Source"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.fromAta,url:s})})]}),!!e.toAta&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Destination"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.toAta,url:s})})]}),!!e.token.address&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.token.address,url:s})})]})]},t):"ata-creation"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsx)(qz,{children:"Create token account"})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Program ID"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.program,url:s})})]}),!!e.owner&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Owner"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.owner,url:s})})]})]},t):"create-account"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Create account ",e.withSeed?"with seed":""]})}),!!e.account&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Account"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.account,url:s})})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount"}),(0,p.jsxs)(Hw,{children:[rl({amount:e.value,decimals:9})," SOL"]})]})]},t):"spl-init-account"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsx)(qz,{children:"Initialize token account"})}),!!e.account&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Account"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.account,url:s})})]}),!!e.mint&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Mint"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mint,url:s})})]}),!!e.owner&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Owner"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.owner,url:s})})]})]},t):"spl-close-account"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsx)(qz,{children:"Close token account"})}),!!e.source&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Source"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.source,url:s})})]}),!!e.destination&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Destination"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.destination,url:s})})]}),!!e.owner&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Owner"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.owner,url:s})})]})]},t):"spl-sync-native"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsx)(qz,{children:"Sync native"})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Program ID"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.program,url:s})})]})]},t):"raydium-swap-base-input"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount in"}),(0,p.jsx)(Hw,{children:e.amountIn.toString()})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Minimum amount out"}),(0,p.jsx)(Hw,{children:e.minimumAmountOut.toString()})]}),e.mintIn&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token in"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintIn,url:s})})]}),e.mintOut&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token out"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintOut,url:s})})]})]},t):"raydium-swap-base-output"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Max amount in"}),(0,p.jsx)(Hw,{children:e.maxAmountIn.toString()})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount out"}),(0,p.jsx)(Hw,{children:e.amountOut.toString()})]}),e.mintIn&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token in"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintIn,url:s})})]}),e.mintOut&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token out"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintOut,url:s})})]})]},t):"jupiter-swap-shared-accounts-route"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"In amount"}),(0,p.jsx)(Hw,{children:e.inAmount.toString()})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Quoted out amount"}),(0,p.jsx)(Hw,{children:e.quotedOutAmount.toString()})]}),e.mintIn&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token in"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintIn,url:s})})]}),e.mintOut&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token out"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintOut,url:s})})]})]},t):"jupiter-swap-exact-out-route"===e.type?(0,p.jsxs)(V0,{children:[(0,p.jsx)(Hg,{children:(0,p.jsxs)(qz,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Quoted in amount"}),(0,p.jsx)(Hw,{children:e.quotedInAmount.toString()})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Amount out"}),(0,p.jsx)(Hw,{children:e.outAmount.toString()})]}),e.mintIn&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token in"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintIn,url:s})})]}),e.mintOut&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Token out"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.mintOut,url:s})})]})]},t):(0,p.jsxs)(V0,{children:[(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Program ID"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(BU,{address:e.program,url:s})})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Data"}),(0,p.jsx)(Hw,{children:e.discriminator})]})]},t))}),(0,p.jsx)(Da,{}),l?(0,p.jsx)(qp,{style:{marginTop:"2rem"},children:l.message}):c?(0,p.jsx)(qp,{style:{marginTop:"2rem"},children:V1}):null,(0,p.jsx)(VX,{$useSmallMargins:!(!c&&!l),title:"Your wallet",address:h,balance:m,isLoading:v||b,errMsg:v||c||l||!o?void 0:"Add funds on Solana to complete transaction."}),(0,p.jsx)(DE,{style:{marginTop:"1rem"},loading:w,disabled:y||v,onClick:x,children:n}),(0,p.jsx)(DM,{})]})},VX=yR(qV).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-c5b70898-0"})(["",""],e=>e.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),V0=yR(Hf).withConfig({displayName:"InstructionRows",componentId:"sc-c5b70898-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),V1="There was an error preparing your transaction. Your transaction request will likely fail.",V2=yR.div.withConfig({displayName:"ImageContainer",componentId:"sc-c5b70898-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),V3=()=>(0,p.jsxs)(V9,{children:[(0,p.jsx)(Ge,{}),(0,p.jsx)(V7,{})]}),V5=({transactionError:e,chainId:t,onClose:r,onRetry:n,network:i,connection:a,transactionHash:s})=>{let{chains:o}=(0,l1.u)(),[l,c]=(0,f.useState)(!1),{errorCode:d,errorMessage:u}=((e,t)=>{if("ethereum"===t)return{errorCode:e.details??e.message,errorMessage:e.shortMessage};let r=e.txSignature,n=e?.transactionMessage||"Something went wrong.";if(Array.isArray(e.logs)){let t=e.logs.find(e=>/insufficient (lamports|funds)/gi.test(e));t&&(n=t)}return{transactionHash:r,errorMessage:n}})(e,i),h=(({chains:e,chainId:t,network:r,connection:n,transactionHash:i})=>{var a,s;return"ethereum"===r?e.find(e=>e.id===t)?.blockExplorers?.default.url??"https://etherscan.io":(a=i||"",s=R_(n?.rpcEndpoint||""),`https://explorer.solana.com/tx/${a}?cluster=${s}`)})({chains:o,chainId:t,network:i,connection:a,transactionHash:s});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:r}),(0,p.jsxs)(V4,{children:[(0,p.jsx)(V3,{}),(0,p.jsx)(V6,{children:d}),(0,p.jsx)(V8,{children:"Please try again."}),(0,p.jsxs)(Gn,{children:[(0,p.jsx)(Gr,{children:"Error message"}),(0,p.jsx)(Ga,{$clickable:!1,children:u})]}),s&&(0,p.jsxs)(Gn,{children:[(0,p.jsx)(Gr,{children:"Transaction hash"}),(0,p.jsxs)(Gi,{children:["Copy this hash to view details about the transaction on a"," ",(0,p.jsx)("u",{children:(0,p.jsx)("a",{href:h,children:"block explorer"})}),"."]}),(0,p.jsxs)(Ga,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),c(!0)},children:[s,(0,p.jsx)(Gl,{clicked:l})]})]}),(0,p.jsx)(Gt,{onClick:()=>n({resetNonce:!!s}),children:"Retry transaction"})]}),(0,p.jsx)(DR,{})]})},V4=yR.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-92716bea-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),V6=yR.span.withConfig({displayName:"ErrorCode",componentId:"sc-92716bea-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),V8=yR.span.withConfig({displayName:"Subtitle",componentId:"sc-92716bea-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),V9=yR.div.withConfig({displayName:"CircleContainer",componentId:"sc-92716bea-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),V7=yR(OE).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-92716bea-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),Ge=yR.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-92716bea-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),Gt=yR(DE).withConfig({displayName:"RetryButton",componentId:"sc-92716bea-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),Gr=yR.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-92716bea-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),Gn=yR.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-92716bea-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),Gi=yR.text.withConfig({displayName:"HelperText",componentId:"sc-92716bea-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),Ga=yR.span.withConfig({displayName:"TextBox",componentId:"sc-92716bea-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],e=>e.$clickable&&"cursor: pointer;\n  transition: background-color 0.3s;\n  padding-right: 45px;\n\n  &:hover {\n    background-color: var(--privy-color-foreground-4);\n  }"),Gs=yR(OQ).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-92716bea-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),Go=yR(OD).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-92716bea-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),Gl=({clicked:e})=>(0,p.jsx)(e?Go:Gs,{}),Gc=({instruction:e,fees:t,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>(0,p.jsxs)(Hf,{children:[r?.action&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Action"}),(0,p.jsx)(Hw,{children:r.action})]}),null!=e?.total&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Total"}),(0,p.jsx)(Hw,{children:e.total})]}),!e?.total&&null!=e?.amount&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Total"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(LC,{quantities:[e.amount,t],tokenPrice:n})})]}),(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"Fees"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(LC,{quantities:[t],tokenPrice:n})})]}),e?.to&&(0,p.jsxs)(Hg,{children:[(0,p.jsx)(Hm,{children:"To"}),(0,p.jsx)(Hw,{children:(0,p.jsx)(L9,{walletAddress:e.to,rpcEndpoint:i,network:"solana"})})]})]}),Gd=({fees:e,onClose:t,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:a,rpcEndpoint:s,signOnly:o,instruction:l})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:t}),(0,p.jsx)(UD,{style:{marginBottom:"16px"},children:(0,p.jsxs)("div",{children:[(0,p.jsx)(B$,{color:"var(--privy-color-success-light)"}),(0,p.jsx)(OF,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),(0,p.jsx)(Fw,{title:r??`Transaction ${o?"signed":"complete"}!`,description:n??"You're all set."}),(0,p.jsx)(Gc,{solPrice:a,instruction:l,fees:e,transactionInfo:i,rpcEndpoint:s}),(0,p.jsx)(Da,{}),(0,p.jsx)(Gu,{loading:!1,onClick:t,children:"Close"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}),Gu=yR(DE).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),Gh={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:r,navigate:n}=RM(),{client:i,closePrivyModal:a,walletProxy:s,showFiatPrices:o}=(0,l1.u)(),l=Rj(),{user:c}=R8(),[d,u]=(0,f.useState)(e?.sendSolanaTransaction?.transactionRequest),[h,g]=(0,f.useState)(),[m,y]=(0,f.useState)(),[w,v]=(0,f.useState)({value:0n,isLoading:!1}),[b,x]=(0,f.useState)(!1),[E,_]=(0,f.useState)(),[C,k]=(0,f.useState)(),A=e?.sendSolanaTransaction?.connection,I=e?.sendSolanaTransaction?.transactingWallet,S=!!e?.sendSolanaTransaction?.signOnly,T=I?.imported?MS(c):MP(c),P=R_(A?.rpcEndpoint||""),{solPrice:j,isSolPriceLoading:N}=Un({enabled:o}),O=(0,f.useMemo)(()=>{if(!h)return;let e=h.spender,t=Lo(h.fee),r=Lo(w.value,3,!0),n=h.instructions.filter(e=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(e.type)),i=n.at(0);return!i||n.length>1?{fee:t,spender:e,balance:r}:"sol-transfer"===i.type?{fee:t,spender:e,balance:r,total:Lo(i.value)}:"spl-transfer"===i.type?{fee:t,spender:e,balance:r,total:`${rl({amount:i.value,decimals:i.token.decimals})} ${i.token.symbol}`}:"raydium-swap-base-input"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${rl({amount:i.amountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${rl({amount:i.minimumAmountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"raydium-swap-base-output"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${rl({amount:i.maxAmountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${rl({amount:i.amountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-shared-accounts-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${rl({amount:i.inAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${rl({amount:i.quotedOutAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-exact-out-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${rl({amount:i.quotedInAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${rl({amount:i.outAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:{fee:t,spender:e,balance:r}},[h,I?.address,w]),$=(0,f.useMemo)(()=>{let e;if(!h||!o||!j||N)return;function t(...e){return Ll(e.reduce((e,t)=>e+t,0n),j??0)}I?.address===h.spender&&(e=t(h.fee));let r=t(w.value),n=h.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type).at(0);return!n||h.instructions.length>1?{fee:e,balance:r}:"sol-transfer"===n.type?{fee:e,balance:r,total:t(n.value,I?.address===h.spender?h.fee:0n)}:"spl-transfer"===n.type?{fee:e,balance:r,total:`${rl({amount:n.value,decimals:n.token.decimals})} ${n.token.symbol}`}:{fee:e,balance:r}},[h,o,j,N,I?.address,w]);if((0,f.useEffect)(()=>{!async function(){if(d&&A&&i)try{y(void 0);let e=await Lm({tx:d,connection:A,client:i,checkFunds:!S});g(e)}catch(e){console.error("Failed to prepare transaction",e),y(e)}}()},[d,A,i,S]),(0,f.useEffect)(()=>{(async function(){if(!I||!A)return;v({value:w.value,isLoading:!0});let e=new rx({name:"mainnet-beta",rpcUrl:A.rpcEndpoint});v({value:await e.getBalance(I.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[h,A]),!(d&&e?.sendSolanaTransaction&&I&&A)){let t=Error("Invalid transaction request");return(0,p.jsx)(BX,{error:t,onClick:()=>{e?.sendSolanaTransaction?.onFailure(t),a({shouldCallAuthOnSuccess:!1})}})}let M=()=>{if(!b)return E?e?.sendSolanaTransaction?.onSuccess(E):e?.sendSolanaTransaction?.onFailure(C??m??Error("User exited the modal before submitting the transaction")),a({shouldCallAuthOnSuccess:!1})};t.current=M;let R=e.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,p.jsx)("img",{src:e.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,D=!!(e.funding&&e.funding.supportedOptions.length>0),L=!h?.hasFunds&&D;if(E){let t=h?.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type),r=1===t?.length?t?.at(0):void 0;return(0,p.jsx)(Gd,{fees:E.fees,onClose:M,transactionInfo:e.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:j,receiptHeader:e.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:e.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:A.rpcEndpoint,signOnly:S,instruction:"sol-transfer"===r?.type?{to:r.toAccount,amount:r.value}:{to:r?.toAccount||r?.toAta,total:O?.total}})}return C?(0,p.jsx)(V5,{transactionError:C,connection:A,onClose:M,network:"solana",onRetry:async()=>{k(void 0);let{blockhash:e}=await A.getLatestBlockhash();Lh(d)?d.message.recentBlockhash=e:d.recentBlockhash=e,u(d)}}):(0,p.jsx)(VQ,{img:R,title:e.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:e.sendSolanaTransaction?.uiOptions?.description||`${l.name} wants your permission to approve the following transaction.`,cta:L?"Add funds":e.sendSolanaTransaction?.uiOptions?.buttonText||"Approve",instructions:h?.instructions??[],network:"mainnet-beta"==P?"Solana":P,blockExplorerUrl:l.solanaClusters[P].blockExplorerUrl,total:o?$?.total:O?.total,fee:o?$?.fee:O?.fee,balance:o?$?.balance:O?.balance,swap:O?.swap,transactingWalletAddress:I.address,disabled:!h?.hasFunds&&!D,isSubmitting:b,isPreparing:!h||w.isLoading,isTokenPriceLoading:o&&N,isMissingFunds:!h?.hasFunds,submitError:C??void 0,parseError:m,onClick:L?async()=>{if(I){if(!D)throw Error("Funding wallet is not enabled");r({...e,funding:{...e.funding,methodScreen:VA}}),n(VA)}}:async()=>{try{if(x(!0),b||!I||!s||!c||!T)return;let t=await e.sendSolanaTransaction.onConfirm();_(t)}catch(e){console.warn({transaction:d,error:e}),k(e)}finally{x(!1)}},onClose:M})}},Gp=({privy:e,appConfig:t,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:a,openModal:s,walletProxy:o,user:l,signWithUserSigner:c,recoverEmbeddedWallet:d},{transaction:u,connection:h,transactionOptions:p,fundWalletConfig:f,uiOptions:g,address:m,signOnly:y})=>new Promise(async(w,v)=>{let{requesterAppId:b}=g||{},x=y?"signSolanaTransaction":"sendSolanaTransaction";if(!l)return i(x,"onError",l1.a.MUST_BE_AUTHENTICATED),void v(new l1.P("User must be authenticated before signing with a Privy wallet",l1.a.MUST_BE_AUTHENTICATED));let E=m?MT(l,m):MA(l);if(!E)return i(x,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),void v(new l1.P("Must have a Privy wallet before signing",l1.a.EMBEDDED_WALLET_NOT_FOUND));let _=MX(E);if(!await d({address:E.address}).catch(()=>!1))throw i(x,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),new l1.P(`Cannot sendSolanaTransaction before embedded wallet ${E.address} is connected`,l1.a.EMBEDDED_WALLET_NOT_FOUND);let C=async()=>{let t=await r();if(!t||!o)throw i(x,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),v(new l1.P("Must have valid access token and Privy wallet to send transaction",l1.a.EMBEDDED_WALLET_NOT_FOUND)),new l1.P("Must have valid access token and Privy wallet to send transaction",l1.a.EMBEDDED_WALLET_NOT_FOUND);try{let r,a;if(!await d({address:E.address}))throw i(x,"onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),v(new l1.P("Unable to connect to wallet",l1.a.UNKNOWN_CONNECT_WALLET_ERROR)),new l1.P("Unable to connect to wallet",l1.a.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:g?.showWalletUIs})&&!y)try{if(!await Lg(u,h))throw i(x,"onError",l1.a.INSUFFICIENT_BALANCE),v(new l1.P("Solana wallet has insufficient funds for this transaction.",l1.a.INSUFFICIENT_BALANCE)),new l1.P("Solana wallet has insufficient funds for this transaction.",l1.a.INSUFFICIENT_BALANCE)}catch(e){throw console.error(e),i(x,"onError",l1.a.TRANSACTION_FAILURE),v(new l1.P(e instanceof Error?e.message:"Transaction failed.",l1.a.TRANSACTION_FAILURE)),new l1.P(e instanceof Error?e.message:"Transaction failed.",l1.a.TRANSACTION_FAILURE)}let{entropyId:s,entropyIdVerifier:f}=MO(l);if(_){let t=Lh(u)?Mo(u.message.serialize()):u.serializeMessage(),n=await Y(e,c,{chain_type:"solana",method:"signMessage",params:{message:t.toString("base64"),encoding:"base64"},wallet_id:E.id});if(!n.data||!("signature"in n.data))throw Error("Failed to sign transaction");u.addSignature(Lp(u,E.address),Mo(n.data.signature,"base64")),r=u}else r=await q0({accessToken:t,tx:u,walletProxy:o,entropyId:s,entropyIdVerifier:f,transactingWalletAddress:E.address,transactingWalletIndex:E.walletIndex??0});if(y)return a=Lf("",r,null),i("signSolanaTransaction","onSuccess",{signedTransaction:r}),a;{let{signature:e,receipt:t}=await async function({tx:e,connection:t,transactionOptions:r}){let n;try{let i=e.serialize();n=await t.sendRawTransaction(i,r);let a=await t.confirmTransaction(n);if(a.value.err||a.value.err){let e=a.value.err||a.value.err;if("string"==typeof e)throw Error(e);throw e}return{signature:n,signedTransaction:e,receipt:await t.getParsedTransaction(n,{maxSupportedTransactionVersion:0})}}catch(e){throw e.txSignature=n,e}}({tx:r,connection:h,transactionOptions:p});a=Lf(e,u,t),i("sendSolanaTransaction","onSuccess",{response:a})}return w(a),a}catch(e){throw i(x,"onError",l1.a.TRANSACTION_FAILURE),v(e),e}};if(n({showWalletUIs:g?.showWalletUIs}))C();else{let{entropyId:e,entropyIdVerifier:r}=MO(l,E),n={recoveryMethod:E.recoveryMethod,connectingWalletAddress:E.address,entropyId:e,entropyIdVerifier:r,isUnifiedWallet:_,onCompleteNavigateTo:Gh,onFailure:e=>{i(x,"onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),v(e)}},o=He(t)?function({address:e,fundWalletConfig:t,appConfig:r,comingFromSendTransactionScreen:n,methodScreen:i}){if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let a=q7(r.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");if("USDC"===t?.asset&&"testnet"===t?.cluster?.name)throw Error("USDC funding is not supported on the Solana testnet");let s=t?.amount??r.fundingConfig.defaultRecommendedAmount,o=t?.defaultFundingMethod;return{chainType:"solana",address:e,supportedOptions:a,amount:s,isUSDC:"USDC"===t?.asset,methodScreen:i,comingFromSendTransactionScreen:n,cluster:{name:t?.cluster?.name??"mainnet-beta",rpcUrl:r.solanaClusters[t?.cluster?.name??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:o,preferredCardProvider:t?.card?.preferredProvider,usingDefaultFundingMethod:!!o,uiConfig:t?.uiConfig}}({address:E.address,appConfig:t,methodScreen:VA,fundWalletConfig:f,comingFromSendTransactionScreen:!0}):void 0;a({connectWallet:n,sendSolanaTransaction:{transactionRequest:u,connection:h,transactionOptions:p,transactingWallet:E,onConfirm:C,onSuccess:e=>{y?i("signSolanaTransaction","onSuccess",{signedTransaction:e.signedTransaction}):i("sendSolanaTransaction","onSuccess",{response:e}),w(e)},onFailure:e=>{i(x,"onError",l1.a.TRANSACTION_FAILURE),v(e)},uiOptions:g||{},requesterAppId:b,signOnly:y},funding:o}),s(VL)}}),Gf=yR.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],e=>"sm"===e.size?"65px":"140px",e=>"sm"===e.size?"65px":"140px"),Gg=({data:e})=>{let t=e=>"object"==typeof e&&null!==e?(0,p.jsx)(Gy,{children:Object.entries(e).map(([e,r])=>(0,p.jsxs)("li",{children:[(0,p.jsxs)("strong",{children:[e,":"]})," ",t(r)]},e))}):(0,p.jsx)("span",{children:String(e)});return(0,p.jsx)("div",{children:t(e)})},Gm=yR.div.withConfig({displayName:"Message",componentId:"sc-ccf49562-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Gy=yR.ul.withConfig({displayName:"MessageList",componentId:"sc-ccf49562-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]),Gw=({data:e})=>(0,p.jsx)(Gm,{children:(0,p.jsx)(Gg,{data:e})}),Gv=e=>{if(!(0,v.q)(e))return e;try{return(0,c4.IQ)(e)}catch{return e}},Gb=e=>JSON.stringify(e,null,2),Gx=e=>{let{types:t,primaryType:r,...n}=e.typedData;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Gw,{data:n}),(0,p.jsx)(WP,{text:Gb(e.typedData),itemName:"full payload to clipboard"})," "]})},GE={component:()=>{let{authenticated:e}=R8(),{initializeWalletProxy:t,closePrivyModal:r}=(0,l1.u)(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:a}=RM(),[s,o]=(0,f.useState)(!0),[l,c]=(0,f.useState)(""),[d,u]=(0,f.useState)(),[h,g]=(0,f.useState)(null),[m,y]=(0,f.useState)(!1),w=null!==h;(0,f.useEffect)(()=>{e||n(qk)},[e]),(0,f.useEffect)(()=>{t(3e4).then(e=>{o(!1),e||(c("An error has occurred, please try again."),u(new MU(new ML(l,A.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:v,data:b,confirmAndSign:x,onSuccess:E,onFailure:_,uiOptions:C}=i.signMessage,k={title:C?.title||"Sign message",description:C?.description||"Signing this message will not cost you any fees.",buttonText:C?.buttonText||"Sign and continue"},I=e=>{e?E(e):_(d||new MU(new ML("The user rejected the request.",A.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{g(null),c(""),u(void 0)},200)};return a.current=()=>{I(h)},(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:()=>I(h)}),(0,p.jsx)(LD,{}),C?.iconUrl&&"string"==typeof C.iconUrl?(0,p.jsx)(Gk,{children:(0,p.jsx)(Gf,{size:"sm",src:C.iconUrl,alt:"app image"})}):null,(0,p.jsx)(qR,{children:k.title}),(0,p.jsx)(qM,{children:k.description}),"personal_sign"===v&&(0,p.jsx)(Gm,{children:Gv(b)}),"eth_signTypedData_v4"===v&&(0,p.jsx)(Gx,{typedData:b}),"solana_signMessage"===v&&(0,p.jsx)(Gm,{children:b}),(0,p.jsx)(GA,{}),(0,p.jsx)(G_,{$fail:!0,children:l}),(0,p.jsx)(D_,{disabled:m||w||s,loading:m,onClick:async()=>{y(!0),c("");try{let e=await x();g(e),y(!1),setTimeout(()=>{I(e)},1400)}catch(e){console.error(e),c("An error has occurred, please try again."),u(new MU(new ML(l,A.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),y(!1)}},children:m?"Signing...":w?(0,p.jsxs)(GC,{children:[(0,p.jsx)(WS,{style:{height:"0.9rem",width:"0.9rem"},strokeWidth:2})," ",(0,p.jsx)("span",{children:"Success"})]}):k.buttonText}),C?.isCancellable&&(0,p.jsx)(DP,{style:{marginTop:"1rem"},onClick:()=>I(null),isSubmitting:!1,children:"Not now"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},G_=yR.div.withConfig({displayName:"InputHelp",componentId:"sc-1a9f17a4-0"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-start;width:100%;margin-top:16px;margin-bottom:4px;"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),GC=yR.span.withConfig({displayName:"ContentWithIcon",componentId:"sc-1a9f17a4-1"})(["display:flex;align-items:center;gap:8px;"]),Gk=yR.div.withConfig({displayName:"IconContainer",componentId:"sc-1a9f17a4-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;"]),GA=yR.div.withConfig({displayName:"Grow",componentId:"sc-1a9f17a4-3"})(["flex-grow:1;"]),GI=()=>{let{exportSolanaWallet:e,solanaWallets:t,walletProxy:r,recoverEmbeddedWallet:n,privy:i}=(0,l1.u)(),{sendTransaction:a}=function(e){let t=Rj(),{getAccessToken:r,user:n}=q9(),{setModalData:i}=RM(),{isHeadlessSigning:a,openModal:s,walletProxy:o,recoverEmbeddedWallet:l,privy:c}=(0,l1.u)(),d=Di(),{signWithUserSigner:u}=q4();return Dr("sendSolanaTransaction",void 0),{sendTransaction:async({transaction:e,connection:h,uiOptions:p,transactionOptions:f,fundWalletConfig:g,address:m})=>await Gp({privy:c,appConfig:t,getAccessToken:r,isHeadlessSigning:a,emitPrivyEvent:d,setModalData:i,openModal:s,walletProxy:o,user:n,signWithUserSigner:u,recoverEmbeddedWallet:l},{transaction:e,connection:h,transactionOptions:f,uiOptions:p,fundWalletConfig:g,address:m,signOnly:!1})}}(),{signMessage:s}=function(e){let{isHeadlessSigning:t,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:a,privy:s}=(0,l1.u)(),{user:o,getAccessToken:l}=q9(),c=Di(),{setModalData:d}=RM(),{signWithUserSigner:u}=q4();return Dr("signSolanaMessage",void 0),{signMessage:({message:e,options:h})=>new Promise(async(p,f)=>{if(!o)return c("signSolanaMessage","onError",l1.a.MUST_BE_AUTHENTICATED),void f(Error("User must be authenticated before signing with a Privy wallet"));let g=h?.address?MT(o,h.address):MA(o);if(!g)return c("signSolanaMessage","onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),void f(Error("Must have a Privy wallet before signing"));let{entropyId:m,entropyIdVerifier:y}=MO(o,g),w=MX(g),v=Mo(e).toString("base64");if(v.length<1)return c("signMessage","onError",l1.a.INVALID_MESSAGE),void f(Error("Message must be a non-empty string"));let b=async()=>{let e;if(!o)throw Error("User must be authenticated before signing with a Privy wallet");let t=await l();if(!t)throw Error("User must be authenticated to use their embedded wallet.");let a=r??await n(15e3);if(!a)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:g.address}))throw Error("Unable to connect to wallet");if(w){let t=await Y(s,u,{chain_type:"solana",method:"signMessage",params:{message:v,encoding:"base64"},wallet_id:g.id});if(!t.data||!("signature"in t.data))throw Error("Failed to sign message");e=t.data.signature}else{let{response:r}=await a.rpc({accessToken:t,entropyId:m,entropyIdVerifier:y,chainType:"solana",hdWalletIndex:g.walletIndex??0,request:{method:"signMessage",params:{message:v}}});e=r.data.signature}return e};if(t({showWalletUIs:h?.uiOptions?.showWalletUIs}))try{let e=await b(),t=new Uint8Array(Mo(e,"base64"));c("signSolanaMessage","onSuccess",{signature:t}),p(t)}catch(e){f(e)}else d({signMessage:{method:"solana_signMessage",data:v,confirmAndSign:b,onSuccess:e=>{let t=new Uint8Array(Mo(e,"base64"));c("signSolanaMessage","onSuccess",{signature:t}),p(t)},onFailure:e=>{f(e)},uiOptions:h?.uiOptions},connectWallet:{recoveryMethod:g.recoveryMethod,connectingWalletAddress:g.address,entropyId:m,entropyIdVerifier:y,isUnifiedWallet:w,onCompleteNavigateTo:GE,onFailure:e=>{c("signSolanaMessage","onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),f(e)}}}),a(VL)})}}(),{create:o}=q5(),{signWithUserSigner:l}=q4(),{user:c,getAccessToken:d}=q9(),{ready:u}=Us(),h=(0,f.useMemo)(()=>{if(!r)return t;let e=[...Mk(c),MS(c)].filter(e=>!!e).map(e=>({type:"solana",imported:e.imported,address:e.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:e.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new l1.P("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new l1.P("Cannot unlink an embedded Solana wallet")},async getProvider(){return new qX(r,e.address,this.signMessage)},signMessage:async t=>await s({message:t,options:{address:e.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(t,r,n){let{signature:i}=await a({transaction:t,connection:r,transactionOptions:n,address:e.address});return i},async signTransaction(t){let a=await d();if(!a||!r)throw new l1.P("Must have valid access token and Privy wallet to send transaction",l1.a.MUST_BE_AUTHENTICATED);if(!await n({address:e.address}).catch(()=>!1))throw new l1.P("Wallet couldn't be connected",l1.a.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:s,entropyIdVerifier:o}=MO(c,e);if(MX(e)){let r=Lh(t)?Mo(t.message.serialize()):t.serializeMessage(),n=await Y(i,l,{chain_type:"solana",method:"signMessage",params:{message:r.toString("base64"),encoding:"base64"},wallet_id:e.id});if(n.data&&"signature"in n.data)return t.addSignature(Lp(t,e.address),Mo(n.data.signature,"base64")),t;throw Error("Failed to sign transaction")}return await q0({tx:t,accessToken:a,walletProxy:r,entropyId:s,entropyIdVerifier:o,transactingWalletAddress:e.address,transactingWalletIndex:e.walletIndex??0})},async signAllTransactions(t){let a=await d();if(!a||!r)throw new l1.P("Must have valid access token and Privy wallet to send transaction",l1.a.MUST_BE_AUTHENTICATED);if(!await n({address:e.address}).catch(()=>!1))throw new l1.P("Wallet couldn't be connected",l1.a.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:s,entropyIdVerifier:o}=MO(c,e);if(MX(e))return await Promise.all(t.map(async t=>{let r=Lh(t)?Mo(t.message.serialize()):t.serializeMessage(),n=await Y(i,l,{chain_type:"solana",method:"signMessage",params:{message:r.toString("base64"),encoding:"base64"},wallet_id:e.id});if(n.data&&"signature"in n.data)return t.addSignature(Lp(t,e.address),Mo(n.data.signature,"base64")),t;throw Error("Failed to sign transaction")}));for(let n of t)await q0({tx:n,accessToken:a,walletProxy:r,entropyId:s,entropyIdVerifier:o,transactingWalletAddress:e.address,transactingWalletIndex:e.walletIndex??0});return t},loginOrLink:async()=>{throw new l1.P("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return t.concat(e)},[c,r,d,t]);return{ready:!(!u||!r),createWallet:async e=>{e&&"target"in e&&e&&(e=void 0);let{account:t}=await o({chainType:"solana",options:e});return t},exportWallet:e,wallets:h}},GS={component:()=>{let{wallets:e}=Us(),{wallets:t}=GI(),{data:r,setModalData:n,navigate:i,lastScreen:a}=RM(),{rpcConfig:s,appId:o,createAnalyticsEvent:l,closePrivyModal:c}=(0,l1.u)(),d=Rj(),[u,h]=(0,f.useState)(void 0),[g,m]=(0,f.useState)(!1),y=zv(),w=r?.funding,{reloadBalance:v}=qG({rpcConfig:s,appId:o,address:"ethereum"===w.chainType?w.address:void 0,chain:"ethereum"===w.chainType?w.chain:void 0}),b="solana"===w.chainType,x=b?w.isUSDC?"USDC":"SOL":w.erc20Address?w.erc20ContractInfo?.symbol:w.chain.nativeCurrency.symbol,E=b?t.find(({address:e})=>e===w.address):e.find(({address:e})=>$u(e)===$u(w.address));if(!w)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:a||VA},funding:r?.funding,sendTransaction:r?.sendTransaction}),i(BQ),(0,p.jsx)(p.Fragment,{});(0,f.useEffect)(()=>{let e=b?async function(){if("solana"!==w.chainType)return;let e=y(qZ);e?(w.isUSDC?e.getTokenBalance({address:w.address,cluster:w.cluster,mintAddress:ri[w.cluster.name]}).then(({amount:e})=>e):e.getBalance({address:w.address,cluster:w.cluster})).then(e=>{let t=BigInt(e);u&&t>u&&(m(!0),l({eventName:qK,payload:{provider:"manual",status:"success",chainType:"solana",address:E?.address,value:w.isUSDC?(0,rs.J)(t-u,6):(0,rs.J)(t-u,9),token:w.isUSDC?"USDC":"SOL"}})),h(t)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){"ethereum"===w.chainType&&(async()=>{if(!w.erc20Address)return await v()??BigInt(0);{let{balance:e}=await qJ({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:s,appId:o});return e}})().then(e=>{u&&e>u&&(m(!0),l({eventName:qK,payload:{provider:"manual",status:"success",chainType:"ethereum",address:E?.address,chainId:w.chain.id,value:(0,rs.J)(e-u,w.erc20ContractInfo?.decimals??18),token:w.erc20ContractInfo?.symbol??w.erc20Address??"ETH"}})),h(e)}).catch(()=>h(void 0))},t=setInterval(e,2e3);return e(),()=>clearInterval(t)},[u]);let _=(0,f.useMemo)(()=>void 0!==u&&u>=parseFloat(w.amount),[u,w.amount]),C=(0,f.useMemo)(()=>null==u?"":w.isUSDC?rl({amount:u,decimals:6}):b?Lo(u,3,!0,!0):null!=w.erc20ContractInfo?.decimals?rl({amount:u,decimals:w.erc20ContractInfo.decimals}):function({wei:e,precision:t=3}){return parseFloat((0,ra.c)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"")}({wei:u}),[u,b,w]),k="ethereum"===w.chainType?w.chain.name:GP[w.cluster.name],A=(0,f.useMemo)(()=>""===w.uiConfig?.receiveFundsTitle?null:(0,p.jsx)(qR,{children:w.uiConfig?.receiveFundsTitle??`Receive ${w.amount} ${x??""}`.trim()}),[w.uiConfig?.receiveFundsTitle,w.amount,x]),I=(0,f.useMemo)(()=>""===w.uiConfig?.receiveFundsSubtitle?null:(0,p.jsx)(qM,{children:w.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${k}.`}),[w.uiConfig?.receiveFundsSubtitle,k]),S="solana"===w.chainType&&w.isUSDC&&ri[w.cluster.name]?`?spl-token=${ri[w.cluster.name]}`:"";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),A,I,(0,p.jsxs)(L$,{style:{gap:"1rem",margin:A||I?"1rem 0":"0"},children:[(0,p.jsx)(WW,{url:`${w.chainType}:${w.address}${S}`,size:200,squareLogoElement:GT}),(0,p.jsxs)(qF,{theme:d.appearance.palette.colorScheme,children:["Make sure to send funds on ",k,"."]}),(0,p.jsx)(qV,{title:"Your wallet",errMsg:void 0,showIcon:!0,isLoading:!w||void 0===u,isPulsing:!_,balance:`${C} ${x}`,address:w.address,statusColor:_?"green":"gray"}),g&&(0,p.jsx)(DE,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),(0,p.jsx)(DM,{})]})}},GT=({...e})=>(0,p.jsx)(MY,{color:"black",...e}),GP={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},Gj=yR.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var GN=({onBack:e,details:t})=>(0,p.jsxs)(Gj,{children:[(0,p.jsx)(DF,{backFn:e}),(0,p.jsx)(Gw,{data:t}),(0,p.jsx)(DM,{})]});let GO=({gasUsed:e,effectiveGasPrice:t})=>{if(e&&t)try{return(0,w.nj)(e*t)}catch(e){return}},G$=({txn:e,receipt:t,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:a,receiptHeader:s,receiptDescription:o})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:n}),(0,p.jsx)(Fm,{title:s??"Transaction complete!",description:o??"You're all set."}),(0,p.jsx)(Ue,{tokenPrice:i,from:t.from,to:t.to,gas:GO(t),txn:e,transactionInfo:r,tokenSymbol:a}),(0,p.jsx)(Da,{}),(0,p.jsx)(GM,{loading:!1,onClick:n,children:"All Done"}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}),GM=yR(DE).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),GR=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],GD=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],GL=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],GU=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],GF=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],GB=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],GW=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Gz=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Gq=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],GH=(e,t)=>{let r=GV(GL,e);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=GV(Hk,e);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!t)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=GV(GR,e);if(i&&"string"==typeof i.args[1]){let e=GG(i.args[1]);if(e&&e[4].encodedInitData)return GH(e[4].encodedInitData,t)}let a=GV(GB,e);if(a)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:a.args[0],approved:a.args[1]};let s=GV(GW,e);if(s)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:s.args[0],transferTo:s.args[1],tokenId:s.args[2]};let o=GV(GF,e);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let l=GV(Gq,e);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=GV(Gz,e);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let d=GV(GU,e);return d?{action:"mint",functionName:d.functionName,isNFTIsh:!0,isErc20Ish:!1,args:d.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}},GV=(e,t)=>{try{let r=(0,h5.J)({abi:e,data:t});return{functionName:r.functionName,args:r.args||[]}}catch(e){return null}},GG=e=>{try{if("string"==typeof e)return(0,dH.n)(GD,`0x${e.slice(10)}`)}catch(e){return null}},GK=e=>`${parseFloat(e).toFixed(2)}`,GJ=(e,t,r,n)=>{let[i,a]=(0,f.useState)(null),{getAccessToken:s}=R8(),{walletProxy:o}=(0,l1.u)();return(0,f.useEffect)(()=>{i&&a(null),(async()=>{if(!await s()||!o||!t)return null;let i=[],a=!0,l=await Uo(e,r,t,n).catch(t=>(t.message.includes("Insufficient balance for transaction")||t.details.includes("insufficient funds")?a=!1:i.push(t),e));return{tx:l,totalGasEstimate:l.gas,hasFunds:a,errors:i}})().then(a)},[e]),i},GY=new MU(new ML("There was an issue preparing your transaction",A.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),GZ=(e,t)=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?e.sendTransaction.transactionRequest:e.sendTransaction.transactionRequests[t]:void 0,GQ={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:r,navigate:n}=RM(),{rpcConfig:i,chains:a,closePrivyModal:s,walletProxy:o,showFiatPrices:l}=(0,l1.u)(),{getAccessToken:c,user:d}=R8(),u=Rj(),[h,g]=(0,f.useState)(0),[m,y]=(0,f.useState)(0),[w,v]=(0,f.useState)(GZ(e,h)),[b,x]=(0,f.useState)(null),[E,_]=(0,f.useState)(),[C,k]=(0,f.useState)(!1),[I,S]=(0,f.useState)(null),[T,P]=(0,f.useState)(null),[j,N]=(0,f.useState)(null),[O,$]=(0,f.useState)(void 0),[M,R]=(0,f.useState)(void 0),[D,L]=(0,f.useState)(!1),[U,F]=(0,f.useState)(!1),[B,W]=(0,f.useState)([]),[z,q]=(0,f.useState)([]),[H,V]=(0,f.useState)("uninitiated"),[G,K]=(0,f.useState)(void 0);if(!w||!e?.sendTransaction||!e?.sendTransaction)return(0,p.jsx)(BX,{error:Error("Invalid transaction request"),onClick:()=>{e?.sendTransaction?.onFailure(GY),s({shouldCallAuthOnSuccess:!1})}});let{entropyId:J,entropyIdVerifier:Y,transactingWalletIndex:Z,transactingWalletAddress:Q}=e.sendTransaction,X=(0,f.useMemo)(()=>a.find(e=>Number(e.id)===Number(w.chainId)),[w.chainId]),ee=X?.nativeCurrency.symbol??"ETH",et=(0,f.useMemo)(()=>GH(w.data,!!u.embeddedWallets.extendedCalldataDecoding),[w.data]),{action:er,isErc20Ish:en,isNFTIsh:ei}=et,{toAddress:ea,tokenAddress:es}=(0,f.useMemo)(()=>({toAddress:et.isErc20Ish?et.transferTo:w.to??void 0,tokenAddress:et.isErc20Ish?w.to:void 0}),[et]);(0,f.useEffect)(()=>{w.to&&X&&en&&Ho({address:w.to,chain:X,rpcConfig:u.rpcConfig,privyAppId:u.id}).then(x).catch(console.error)},[w.to,X]);let{tokenPrice:eo,isTokenPriceLoading:el}=Ui(w.chainId),{balance:ec}=qG({rpcConfig:u.rpcConfig,appId:u.id,address:Q,chain:X}),ed=(0,f.useMemo)(()=>$l(Number(w.chainId),a,i,{appId:u.id}),[w.chainId,i]),eu=GJ(w,Q,ed,e?.sendTransaction?.prepareTransactionRequest);(0,f.useEffect)(()=>{v(GZ(e,h))},[h]),(0,f.useEffect)(()=>{e.sendTransaction?.getIsSponsored?e.sendTransaction.getIsSponsored().then(_).catch(console.error):_(!1)},[e.sendTransaction.getIsSponsored]);let eh=()=>{if(!C)return I?e?.sendTransaction?.onSuccess({hash:I}):j||eu?.errors[0]?e?.sendTransaction?.onFailure(j??eu?.errors[0]??GY):e?.sendTransaction?.onFailure(new MU(new ML("The user rejected the request",A.E4001_USER_REJECTED_REQUEST.eipCode))),s({shouldCallAuthOnSuccess:!1})};t.current=eh;let ep=!!(e.funding&&e.funding.supportedOptions.length>0),ef=D9(BigInt(eu?.totalGasEstimate??0n),ee),eg=l&&eo?D8(BigInt(eu?.totalGasEstimate??0n),eo):void 0,em=D9(ec??0n,ee,void 0,!0),ey=l&&eo?D8(ec??0n,eo):void 0,ew=e.sendTransaction?.uiOptions?.transactionInfo?.title;ew||(ew="approve"===er?en?"Confirm address":"Confirm action":`Approve ${er}`);let ev=e.sendTransaction?.uiOptions?.description||(en&&"approve"===er?`${u.name} would like your permission for ${$u(et.spender)} to spend tokens on your behalf.`:`${u.name} wants your permission to approve the following transaction.`),eb=e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,p.jsx)("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ex=!(!eu||eu.errors[0]||eu.hasFunds||!1!==E),eE=ex&&ep,e_=eE?"Add funds":e.sendTransaction?.uiOptions?.buttonText||(h<m?"Continue":"Approve"),eC=e=>{if(!e)throw Error("Transaction scan failed");if("Success"===e.validation.status&&("Benign"===e.validation.result_type?R("safe"):"Warning"===e.validation.result_type?R("warn"):"Malicious"===e.validation.result_type&&(R("error"),F(!0))),"Success"!==e.simulation.status)throw Error("Simulation failed");{$(e.simulation.params);let{assetsIn:t,assetsOut:r}=function(e,t){let r=[],n=[];if(e){for(let t of e)if(t.in[0]){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.in[0].value?{nftName:t.asset.name,nftCount:t.in.length}:{iconUrl:t.asset.logo_url,value:t.in[0].value,symbol:t.asset.symbol,usdValue:t.in[0].usd_price?GK(t.in[0].usd_price):void 0},r.push(e)}else if(t.out[0]?.value){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.out[0].value?{nftName:t.asset.name}:{iconUrl:t.asset.logo_url,value:t.out[0].value,symbol:t.asset.symbol,usdValue:t.out[0].usd_price?GK(t.out[0].usd_price):void 0},n.push(e)}}for(let e of t)for(let t of Object.keys(e.spenders)){let r;r="ERC721"===e.asset.type||"approve_for_all"===e.spenders[t]?.value?{nftName:e.asset.name}:{iconUrl:e.asset.logo_url,value:e.spenders[t]?.value,symbol:e.asset.symbol,usdValue:e.spenders[t]?.usd_price?GK(e.spenders[t]?.usd_price):void 0},n.push(r)}return{assetsIn:r,assetsOut:n}}(e.simulation.assets_diffs,e.simulation.exposures);if(0===r.length&&0===t.length)throw Error("No tokens found");W(r),q(t)}};if((0,f.useEffect)(()=>{e.sendTransaction?.scanTransaction&&u.embeddedWallets.transactionScanning.enabled&&"uninitiated"===H&&(V("in progress"),e.sendTransaction.scanTransaction().then(e=>{eC(e),V("completed")}).catch(()=>V("failed")))},[!!e.sendTransaction?.scanTransaction]),(0,f.useEffect)(()=>{e.sendTransaction?.scanTransaction&&"failed"!==H||((t,r,n)=>{if(y((e=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?0:e.sendTransaction.transactionRequests.length-1:0)(e)),r.isErc20Ish&&r.amount&&n){let e=HI({amount:r.amount,decimals:n.decimals});K(e),W([{value:e,symbol:n?.symbol}])}else if(t.value){let e=BigInt(t.value),r=eo&&D8(e,eo);W(l&&r?[{value:r}]:[{value:D7(e),symbol:ee}])}else W(l?[{value:"$0"}]:[{value:"0",symbol:ee}])})(eu?.tx??w,et,b)},[w,eu?.tx,et,b,H]),T)return(0,p.jsx)(G$,{txn:eu?.tx??w,onClose:eh,receipt:T,transactionInfo:e.sendTransaction?.uiOptions.transactionInfo,tokenPrice:eo,tokenSymbol:ee,receiptHeader:e.sendTransaction?.uiOptions.successHeader,receiptDescription:e.sendTransaction?.uiOptions.successDescription});if(j)return(0,p.jsx)(V5,{transactionError:j,transactionHash:I??void 0,network:"ethereum",chainId:eu?.tx.chainId??w.chainId,onClose:eh,onRetry:({resetNonce:e})=>{N(null);let t={...eu?.tx??w};e&&(t.nonce=void 0),v(t)}});let ek=0!==m&&"number"==typeof h&&0!==h?()=>{g(h-1)}:void 0;return D&&O?(0,p.jsx)(GN,{details:O,onBack:()=>L(!1)}):(0,p.jsx)(VZ,{transactionIndex:h,onBack:ek,maxIndex:m,disabled:ex&&!ep||U,isSubmitting:C,submitError:j,isPreparing:!eu,isTokenPriceLoading:el,isTokenContractInfoLoading:!ei&&!b,prepareError:eu?.errors[0],symbol:b?.symbol,chain:X,img:eb,title:ew,subtitle:ev,txValue:w.value,fee:eg??ef,isSponsored:E,from:Q??"",to:ea,tokenAddress:es??void 0,network:u.chains.find(e=>e.id===w.chainId)?.name??"",transactionDetails:{...et,formattedAmount:G},cta:e_,missingFunds:ex,action:er,balance:ey??em,onClose:eh,onClick:eE?async()=>{if(Q){if(!ep)throw Error("Funding wallet is not enabled");r({...e,funding:{...e.funding,methodScreen:VA,chainType:"ethereum",amount:(0,ra.c)(BigInt(eu?.tx.value??0)+BigInt(eu?.totalGasEstimate?.toString()??0)),chain:X}}),n(VA)}}:async()=>{if(h<m)g(h+1);else{k(!0);try{let t=await c();if(C||!t||!o||!d)return;let r=e?.sendTransaction?.onConfirm?await e.sendTransaction.onConfirm():await async function({accessToken:e,entropyId:t,entropyIdVerifier:r,transactingWalletIndex:n,walletProxy:i,transactionRequest:a,publicClient:s,requesterAppId:o}){let l=await Fi({accessToken:e,entropyId:t,entropyIdVerifier:r,transactingWalletIndex:n,walletProxy:i,transactionRequest:a,requesterAppId:o});return await s.sendRawTransaction({serializedTransaction:l})}({accessToken:t,transactingWalletIndex:Z,entropyId:J,entropyIdVerifier:Y,walletProxy:o,transactionRequest:eu?.tx??w,publicClient:ed,requesterAppId:e.sendTransaction?.requesterAppId});if(S(r),e.sendTransaction?.signOnly)return await new Promise(e=>setTimeout(e,1400)),e?.sendTransaction?.onSuccess({hash:r}),s({shouldCallAuthOnSuccess:!1});let n=await ed.waitForTransactionReceipt({hash:r});if("reverted"===n.status)throw Error("Transaction failed");P(n)}catch(e){console.warn({transaction:eu?.tx??w,error:e}),N(e)}finally{k(!1)}}},validation:M,hasScanDetails:!!O,setIsScanDetailsOpen:L,preventMaliciousTransaction:U,setPreventMaliciousTransaction:F,tokensSent:B,tokensReceived:z,isScanning:"in progress"===H,isCancellable:e.sendTransaction?.uiOptions?.isCancellable??!1})}};function GX({title:e}){let{currentScreen:t,navigateBack:r,navigate:n,data:i,setModalData:a}=RM();return(0,p.jsx)(DF,{title:e,backFn:t===GS?r:t===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>n(GQ):void 0:i?.funding?.methodScreen?()=>{let e=i.funding;e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),a({funding:e}),n(e.methodScreen)}:void 0})}let G0={component:()=>{let{rpcConfig:e,appId:t,closePrivyModal:r,createAnalyticsEvent:n}=(0,l1.u)(),{navigate:i,setModalData:a,app:s,data:o}=RM(),{wallets:l}=Us(),c=zv(),[d,u]=(0,f.useState)(null),[h,g]=(0,f.useState)(null),[m,y]=(0,f.useState)([]),[w,v]=(0,f.useState)(0),[b,x]=(0,f.useState)(!1),[E,_]=(0,f.useState)(!1),[C,k]=(0,f.useState)(!1),[A,I]=(0,f.useState)(!1),[S,T]=(0,f.useState)(),[P,j]=(0,f.useState)();if(!o?.funding||"solana"!==o.funding.chainType)throw Error("Invalid funding data");let{address:N,cluster:O,connectedWalletAddress:$}=o.funding,[M,R]=(0,f.useState)(o.funding.amount),D=$?l.find(({address:e})=>e===$):l[0],L=Rg(D?.walletClientType||"unknown"),U=L?.name||"wallet",[F,B]=(0,f.useState)(null);(0,f.useEffect)(()=>{(async()=>{if(!D)return;let e=await D.getEthereumProvider();B(h1({account:D.address,transport:h3(e)}).extend(hb))})().catch(console.error)},[D]);let[W,z]=(0,f.useState)(0n),q=Lo(W);(0,f.useEffect)(()=>{let e=c(qZ);e?e.getBalance({address:N,cluster:O}).then(e=>z(BigInt(e))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[H,V]=(0,f.useState)(),{tokenPrice:G}=Ui("solana"),{fundingAmountInBaseUnit:K,fundingAmountInUsd:J}=Lc({amount:M,fee:0n,tokenPrice:G,isUsdc:o.funding.isUSDC});if((0,f.useEffect)(()=>{(async()=>{if(!F||!D)return;let r=["testnet","devnet"].includes(O.name);r&&console.warn("Solana testnets are not supported for bridging");let n=Q(s.chains).filter(({testnet:e})=>!!e===r),i=(await HS({chains:n,address:D.address,appId:t,rpcConfig:e})).filter(e=>e.balance>0n);if(i.length<1)return void u(new l1.P(`Wallet ${$u(D.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(t.balance-e.balance));let a=(await Promise.allSettled(i.map(async e=>({...e,quote:await BG({isTestnet:!1,input:Bq({amount:K.toString(),user:D.address,recipient:N,destinationChainId:0x2f3fb341,destinationCurrency:RE,originChainId:e.chain.id})})})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(a.length<1)return void u(new l1.P(`Unable to fetch quotes for bridging. Wallet ${$u(D.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE));let o=a.map(({quote:e,balance:t,chain:r})=>({bridgeTx:BK(e),balance:t,chain:r})).filter(({bridgeTx:e})=>!!e);if(o.length>1)return void y(o);let l=o.at(0);l?(_(!0),V({data:l.bridgeTx.data,to:l.bridgeTx.to,value:l.bridgeTx.value,chain:l.chain})):u(new l1.P(`Unable to select bridge option from quotes. Wallet ${$u(D.address)} does not have enough funds.`,void 0,l1.a.INSUFFICIENT_BALANCE))})().catch(console.error)},[F]),(0,f.useEffect)(()=>{(async()=>{let r,i;if(!F||!D||b||C||!H)return;x(!0);let a=hx({chain:H.chain,transport:(0,hE.L)($c(H.chain,e,t))});try{r=await a.prepareTransactionRequest({account:D.address,to:H.to,chain:H.chain,data:H.data,value:BigInt(H.value??0)})}catch(e){console.error(e),m.length>1&&g(e.shortMessage??"Something went wrong")}if(r){x(!1),k(!0);try{await F.switchChain({id:H.chain.id})}catch(e){await F.addChain({chain:H.chain}),await F.switchChain({id:H.chain.id})}try{i=await F.sendTransaction(r)}catch(e){console.error(e),"TransactionExecutionError"===e.name&&(m.length<1?u(new l1.P(e.shortMessage,void 0,l1.a.TRANSACTION_FAILURE)):g(e.shortMessage??"Something went wrong"))}if(i)return await F.waitForTransactionReceipt({hash:i}),E?(j("pending"),void T(i)):(k(!1),I(!0),void n({eventName:qK,payload:{provider:"external",status:"success",txHash:i,address:D.address,chainId:H.chain.id,chainType:"ethereum",value:H.value?(0,rs.J)(BigInt(H.value),18):void 0,token:"ETH",destination:N,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,rs.J)(K,9),destinationToken:"SOL"}}));k(!1)}else x(!1)})().catch(console.error)},[F,H]),BJ({transactionHash:S,wallet:D,isTestnet:!1,bridgingStatus:P,setBridgingStatus:j,onSuccess({transactionHash:e,wallet:t}){_(!1),I(!0),n({eventName:qK,payload:{provider:"external",status:"success",txHash:e,address:t.address,chainId:H?.chain.id,chainType:"ethereum",value:H?.value?(0,rs.J)(BigInt(H.value),18):void 0,token:"ETH",destination:N,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,rs.J)(K,9),destinationToken:"SOL"}})},onFailure({error:e}){_(!1),u(e)}}),(0,f.useEffect)(()=>{d&&(a({funding:o?.funding,sendTransaction:o?.sendTransaction,errorModalData:{error:d,previousScreen:Vo}}),i(BQ,!1))},[d]),(0,f.useEffect)(()=>{if(!A)return;let e=setTimeout(r,4e3);return()=>clearTimeout(e)},[A]),A)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(LO,{children:[(0,p.jsx)(OF,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(Fw,{title:"Success!",description:`Youve successfully added ${M} SOL to your ${s.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]});let Y=m[w];return m.length>1&&Y?(0,p.jsx)(Vn,{displayName:U,configuredFundingChain:O,formattedBalance:q,fundingAmount:M,fundingCurrency:"SOL",fundingAmountInUsd:J,options:m,selectedOption:Y,isPreparing:b,isSubmitting:C,addressToFund:N,fundingWalletAddress:D?.address||"",errorMessage:h,onSubmit:()=>{o.funding?.amount!==M?(async function(){if(D&&Y)try{let e=await BG({isTestnet:!1,input:Bq({amount:K.toString(),user:D.address,recipient:N,destinationChainId:0x2f3fb341,destinationCurrency:RE,originChainId:Y.chain.id})}),t=BK(e);if(!t)throw Error("Invalid transaction request");_(!0),V({data:t.data,to:t.to,value:t.value,chain:Y.chain})}catch(e){console.error(e),u(new l1.P("Unable to fetch quotes for bridging",e,l1.a.INSUFFICIENT_BALANCE))}})().catch(console.error):V({to:Y.bridgeTx.to,data:Y.bridgeTx.data,value:Y.bridgeTx.value,chain:Y.chain})},onSelect:e=>{e!==w&&(g(null),v(e))},onAmountChange:R}):C&&D?(0,p.jsx)(HE,{wallet:D,displayName:U,addressToFund:N,isBridging:E,isErc20Flow:!1,chainId:"solana",chainName:O.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(GX,{}),(0,p.jsx)(Hc,{}),(0,p.jsx)("div",{style:{marginTop:"1rem"}}),(0,p.jsx)(DM,{})]})}},G1=new Map([[VA,null],[Vo,"external"],[Vi,"external"],[HC,"external"],[G0,"external"],[Va,"external"],[GS,"manual"],[Vy,"moonpay"]]),G2={component:()=>{let{app:e,data:t}=RM(),r=Rj(),n=t?.externalConnectWallet?.suggestedAddress,i=n?`Connect the wallet with address ${$u(n)} ${e?.name?`to ${e.name}.`:"."}`:`Connect a wallet to ${e?.name}`,{connectors:a}=(0,l1.u)(),s=zX({walletList:t?.externalConnectWallet?.walletList??e.appearance.walletList,walletChainType:t?.externalConnectWallet?.walletChainType??e.appearance.walletChainType,connectors:a,connectOnly:!0,ignore:e.appearance.walletList,walletConnectEnabled:e.externalWallets.walletConnect.enabled});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),s.length>0&&(0,p.jsx)(Fy,{title:"Connect your wallet",description:i}),(0,p.jsx)(Dl,{$colorScheme:r.appearance.palette.colorScheme,children:(0,p.jsx)(zQ,{wallets:s})}),(0,p.jsx)(DM,{})]})}},G3={component:()=>{let{app:e,data:t}=RM(),r=Rj(),n=t?.externalConnectWallet?.suggestedAddress,i=n?(0,p.jsxs)("span",{children:["Connect the wallet with address ",(0,p.jsx)(BU,{showCopyIcon:!1,address:n})," ",e?.name?`to ${e.name}.`:"."]}):`Connect a wallet to your ${e?.name} account`,{connectors:a}=(0,l1.u)(),s=zX({walletList:t?.externalConnectWallet?.walletList??e.appearance.walletList,walletChainType:t?.externalConnectWallet?.walletChainType??e.appearance.walletChainType,connectors:a,connectOnly:!0,ignore:e.appearance.walletList,walletConnectEnabled:e.externalWallets.walletConnect.enabled});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),s.length>0&&(0,p.jsx)(Fm,{title:"Connect your wallet",description:i}),(0,p.jsx)(Dl,{$colorScheme:r.appearance.palette.colorScheme,children:(0,p.jsx)(zQ,{wallets:s})}),e&&(0,p.jsx)(D$,{app:e,alwaysShowImplicitConsent:!0}),(0,p.jsx)(DM,{})]})},isUnauthenticatedScreem:!0},G5={component:()=>{let e=Rj(),{data:t,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=RM(),{crossAppAuthFlow:a,updateWallets:s,closePrivyModal:o,createAnalyticsEvent:l}=(0,l1.u)(),{logout:c}=function(e){let{logout:t}=(0,f.useContext)(R6);return Dr("logout",void 0),{logout:t}}(),[d,u]=(0,f.useState)({}),h=t?.crossAppAuth,g={id:h.appId,name:h.name,logoUrl:h.logoUrl},m=new l1.P(`There was an issue connecting your ${g.name} account. Please try again.`),y=new $P(async e=>{if(h.popup)try{let t=await a({appId:e,popup:h.popup,action:h.action});u({data:t})}catch(e){e instanceof l1.P?u({error:e}):(e instanceof l1.N&&h.popup&&h.popup.close(),u({error:m}))}else u({error:m})}),w=()=>{d.data&&(s(),h.onSuccess(d.data),o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(d.error??new l1.P("User canceled flow")),o({shouldCallAuthOnSuccess:!1,isSuccess:!1})};i.current=w,(0,f.useEffect)(()=>{g.id.length&&y.execute(g.id)},[g.id]),(0,f.useEffect)(()=>{if(!d.data)return;let t=d.data;if(e.legal.requireUsersAcceptTerms&&!t.hasAcceptedTerms){let e=setTimeout(()=>{r(Wf)},1400);return()=>clearTimeout(e)}if(BO(t,e.embeddedWallets)){let e=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:`privy:${g.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(Wh)},1400);return()=>clearTimeout(e)}let i=setTimeout(w,1400);return()=>clearTimeout(i)},[d.data]);let{title:v,subtitle:b}=(0,f.useMemo)(()=>d.data?{title:`Successfully connected with ${g.name}`,subtitle:"You're good to go!"}:d.error?{title:"Authentication failed",subtitle:d.error.message}:{title:`Connecting to ${g.name}`,subtitle:`Please check the pop-up from ${g.name} to continue`},[d,g.name]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:w}),(0,p.jsx)(LD,{}),(0,p.jsxs)(G4,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:!!d.data,fail:!!d.error}),(0,p.jsx)(BI,{name:g.name,logoUrl:g.logoUrl})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:v}),(0,p.jsx)("p",{children:b})]})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DR,{})]})}},G4=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-33c02367-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),G6={component:()=>{let{app:e,data:t}=RM(),{closePrivyModal:r}=(0,l1.u)(),[n,i]=(0,f.useState)(!1),[a,s]=(0,f.useState)(),{address:o,onDelegate:l,onSuccess:c,onError:d}=t.delegatedActions.consent,u=async()=>{n?c():d(a??new l1.P("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return(0,f.useEffect)(()=>{if(!n&&!a)return;let e=setTimeout(u,2500);return()=>clearTimeout(e)},[n,a]),(0,p.jsxs)(p.Fragment,n||a?{children:[(0,p.jsx)(DF,{onClose:u}),(0,p.jsx)(LD,{}),(0,p.jsxs)(Lj,{children:[a?(0,p.jsx)(OE,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,p.jsx)(OF,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(LF,{height:20}),(0,p.jsx)(Fw,{title:a?"Something went wrong":"Success!",description:a?"Please try again.":`Youve successfully granted delegated action permissions to ${e.name}.`})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}:{children:[(0,p.jsx)(DF,{closeable:!0,onClose:u}),(0,p.jsx)(OX,{width:56,height:56,style:{margin:"auto"}}),(0,p.jsx)(Ub,{style:{marginTop:24,color:"var(--privy-color-foreground)"},children:"Enable offline access"}),(0,p.jsxs)(Ux,{style:{marginBottom:24,textWrap:"pretty"},children:["By confirming, ",e.name," will be able to use your wallet for you even when you're not around. You can revoke this later."]}),(0,p.jsx)(G9,{showIcon:!0,address:o,title:"Wallet",isLoading:!1}),(0,p.jsxs)(G8,{style:{marginTop:24},children:[(0,p.jsx)(DI,{onClick:u,children:"Not now"}),(0,p.jsx)(DE,{onClick:async()=>{try{await l(),i(!0)}catch(e){s(e)}},children:"Accept"})]}),(0,p.jsx)(DM,{})]})}},G8=yR.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-bdb7bc51-0"})(["display:flex;gap:10px;"]),G9=yR(qV).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-bdb7bc51-1"})(["margin-top:1.5rem;"]),G7={component:()=>{let{app:e,data:t}=RM(),{closePrivyModal:r}=(0,l1.u)(),[n,i]=(0,f.useState)(!1),[a,s]=(0,f.useState)(),{onRevoke:o,onSuccess:l,onError:c}=t.delegatedActions.revoke,d=async()=>{n?l():c(a??new l1.P("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return(0,f.useEffect)(()=>{if(!n&&!a)return;let e=setTimeout(d,2500);return()=>clearTimeout(e)},[n,a]),(0,p.jsxs)(p.Fragment,n||a?{children:[(0,p.jsx)(DF,{onClose:d}),(0,p.jsx)(LD,{}),(0,p.jsxs)(Lj,{children:[a?(0,p.jsx)(OE,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,p.jsx)(OF,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,p.jsx)(LF,{height:20}),(0,p.jsx)(Fw,{title:a?"Something went wrong":"Success!",description:a?"Please try again.":"You've successfully revoked permissions."})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]}:{children:[(0,p.jsx)(DF,{closeable:!0,onClose:d}),(0,p.jsx)(O0,{width:56,height:56,style:{margin:"auto"}}),(0,p.jsx)(Ub,{style:{marginTop:24},children:"Revoke offline access to wallet"}),(0,p.jsxs)(Ux,{children:["By confirming, ",e.name," will no longer be able to use this wallet on your behalf when you are not online."]}),(0,p.jsxs)(Ke,{style:{marginTop:24},children:[(0,p.jsx)(DI,{onClick:d,children:"Deny"}),(0,p.jsx)(DE,{onClick:async()=>{try{await o(),i(!0)}catch(e){s(e)}},children:"Confirm"})]}),(0,p.jsx)(DM,{})]})}},Ke=yR.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-993a839-0"})(["display:flex;gap:10px;"]),Kt="#8a63d2",Kr={component:()=>{let{lastScreen:e,navigateBack:t,data:r,app:n}=RM(),{requestFarcasterSignerStatus:i,closePrivyModal:a}=(0,l1.u)(),[s,o]=(0,f.useState)(void 0),[l,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1),h=(0,f.useRef)([]),g=r?.farcasterSigner;(0,f.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{if(!g?.public_key)return clearInterval(t),void o({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});"approved"===g.status&&(clearInterval(t),c(!1),u(!0),h.current.push(setTimeout(()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0}),1400)));let r=await i(g?.public_key),n=Date.now()-e;"approved"===r.status?(clearInterval(t),c(!1),u(!0),h.current.push(setTimeout(()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0}),1400))):n>3e5?(clearInterval(t),o({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):"revoked"===r.status&&(clearInterval(t),o({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(t),h.current.forEach(e=>clearTimeout(e))}},[]);let y="pending_approval"===g?.status?g.signer_approval_url:void 0;return(0,p.jsxs)(p.Fragment,m.Fr||l?{children:[(0,p.jsx)(DF,{backFn:e?t:void 0,onClose:a},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(p.Fragment,m.un?{children:(0,p.jsxs)(Ki,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:d,fail:!!s}),(0,p.jsx)(W_,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)(Ub,{children:s?s.message:"Add a signer to Farcaster"}),(0,p.jsx)(Ux,{children:s?s.detail:"This will allow "+n.name+" to add casts, likes, follows, and more on your behalf."})]}),y&&(0,p.jsx)(DE,{onClick:e=>{e.preventDefault(),window.location.href=y},children:"Open Warpcast app"})]})}:{children:(0,p.jsxs)(Kn,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:d,fail:!!s}),(0,p.jsx)(W_,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)(Ub,{children:s?s.message:"Requesting signer from Farcaster"}),(0,p.jsx)(Ux,{children:s?s.detail:"This should only take a moment"}),(0,p.jsx)(LP,{children:y&&m.Fr&&(0,p.jsx)(WN,{text:"Take me to Warpcast",url:y,color:Kt})})]})]})}),(0,p.jsx)(DR,{})]}:{children:[(0,p.jsx)(DF,{backFn:e?t:void 0,onClose:a},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Kn,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Ub,{children:"Add a signer to Farcaster"}),(0,p.jsxs)(Ux,{children:["This will allow ",n.name," to add casts, likes, follows, and more on your behalf."]}),(0,p.jsx)(LN,{children:"pending_approval"===g?.status?(0,p.jsx)(WW,{url:g.signer_approval_url,size:275,squareLogoElement:W_}):(0,p.jsx)(Dy,{})}),(0,p.jsxs)(LP,{children:[(0,p.jsx)(Ux,{children:"Or copy this link and paste it into a phone browser to open the Warpcast app."}),"pending_approval"===g?.status&&(0,p.jsx)(WP,{text:g.signer_approval_url,itemName:"link",color:Kt})]})]})}),(0,p.jsx)(DR,{})]})}},Kn=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-6e8f76e5-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),Ki=yR.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-6e8f76e5-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),Ka={component:()=>{let{closePrivyModal:e}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(Ks,{children:(0,p.jsx)(O_,{style:{width:32,height:32}})}),(0,p.jsx)(Fy,{title:"Could not log in with provider",description:"It looks like you're using an in-app browser.  To log in, please try again using an external browser.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),(0,p.jsx)(LT,{children:(0,p.jsx)(DE,{onClick:()=>e(),children:"Close"})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},Ks=yR.div.withConfig({displayName:"StyledCircle",componentId:"sc-7bde5742-0"})(["border-radius:50%;height:68px;width:68px;display:flex;align-items:center;justify-content:center;background-color:var(--privy-color-accent);color:white;margin:0 auto 24px auto;"]),Ko={component:()=>{let{app:e}=RM();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Fw,{title:"Connect your email",description:`Add your email to your ${e?.name} account`,icon:(0,p.jsx)(Oy,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,p.jsx)(LT,{children:(0,p.jsx)(qw,{stacked:!0})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},Kl={component:()=>{let{app:e,currentScreen:t,data:r,navigate:n,setModalData:i}=RM(),{initLoginWithSms:a}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Fw,{title:"Connect your phone",description:`Add your number to your ${e?.name} account`,icon:(0,p.jsx)(yW,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"})}),(0,p.jsx)(LT,{children:(0,p.jsx)(zr,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:e}){try{await a({phoneNumber:e,withPrivyUi:!0}),n(qa)}catch(e){i({errorModalData:{error:e,previousScreen:r?.errorModalData?.previousScreen||t||Kl}}),n(BQ)}},hideRecent:!0})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},Kc={component:()=>{let{app:e,data:t}=RM(),r=t?.externalConnectWallet?.suggestedAddress,n=r?(0,p.jsxs)("span",{children:["Link the wallet with address ",(0,p.jsx)(BU,{showCopyIcon:!1,address:r})," ",e?.name?`to ${e.name}.`:"."]}):`Link a wallet to your ${e?.name} account`,{connectors:i}=(0,l1.u)(),a=zX({walletList:t?.externalConnectWallet?.walletList??e.appearance.walletList,walletChainType:t?.externalConnectWallet?.walletChainType??e.appearance.walletChainType,connectors:i,connectOnly:!1,ignore:e.appearance.walletList,walletConnectEnabled:e.externalWallets.walletConnect.enabled});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),a.length>0&&(0,p.jsx)(Fy,{title:"Link your wallet",description:n}),(0,p.jsx)(Do,{children:(0,p.jsx)(zQ,{wallets:a})}),(0,p.jsx)(DM,{})]})}},Kd=({style:e,...t})=>(0,p.jsxs)("svg",{width:"164",height:"164",viewBox:"0 0 164 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,p.jsx)("circle",{cx:"82",cy:"82",r:"80",stroke:"#EC6351","stroke-width":"4","stroke-linecap":"round"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M81.9999 100.788C93.3288 100.788 102.513 91.6043 102.513 80.2754C102.513 68.9465 93.3288 59.7626 81.9999 59.7626C70.671 59.7626 61.4871 68.9465 61.4871 80.2754C61.4871 91.6043 70.671 100.788 81.9999 100.788ZM88.3236 71.8304C88.9093 71.2446 89.8591 71.2446 90.4449 71.8304C91.0307 72.4161 91.0307 73.3659 90.4449 73.9517L84.121 80.2756L90.445 86.5996C91.0308 87.1854 91.0308 88.1351 90.445 88.7209C89.8592 89.3067 88.9095 89.3067 88.3237 88.7209L81.9997 82.3969L75.6756 88.7209C75.0899 89.3067 74.1401 89.3067 73.5543 88.7209C72.9685 88.1351 72.9685 87.1854 73.5543 86.5996L79.8783 80.2756L73.5544 73.9517C72.9686 73.3659 72.9686 72.4161 73.5544 71.8304C74.1402 71.2446 75.09 71.2446 75.6758 71.8304L81.9997 78.1543L88.3236 71.8304Z",fill:"#EC6351"})]}),Ku={component:()=>{let{closePrivyModal:e}=(0,l1.u)(),{navigate:t}=RM();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Kd,{style:{width:"160px",height:"160px",margin:"0 auto 20px"}}),(0,p.jsx)(Fy,{title:"Could not connect with wallet",description:"Please check that Phantom multichain is enabled and try again.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),(0,p.jsxs)(LT,{children:[(0,p.jsx)(DE,{onClick:()=>t(qk),children:"Try again"}),(0,p.jsx)(DI,{onClick:()=>e(),children:"Cancel"})]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}};function Kh(){let{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenroll:s,enrollInMfa:o}=(0,f.useContext)(R6);return{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenrollWithSms:()=>s("sms"),unenrollWithTotp:()=>s("totp"),unenrollWithPasskey:e=>s("passkey",e),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}let Kp=e=>(0,p.jsxs)(Kf,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...e,children:[(0,p.jsx)("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]}),Kf=yR.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],e=>"success"===e.color?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"),Kg=({showIntro:e,userMfaMethods:t,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:a,error:s,onClose:o,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:d})=>{let u=t.reduce((e,t)=>({...e,[t]:!0}),{}),h=r.reduce((e,t)=>({...e,[t]:!0}),{});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:e?l:void 0,onClose:o},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yz,{})}),(0,p.jsx)(Ub,{children:"Choose a verification method"}),t.length>0?(0,p.jsx)(Ux,{children:"To add or delete verification methods, verification is required."}):(0,p.jsx)(Ux,{children:"How would you like to verify your identity? You can change this later."}),s&&(0,p.jsx)(UR,{style:{marginTop:"1.25rem"},children:s.message}),(0,p.jsxs)(UI,{children:[(h.totp||u.totp)&&(0,p.jsxs)(US,{children:[(0,p.jsx)(Du,{style:{justifyContent:"center"},disabled:u.totp||i,onClick:()=>c("totp"),children:i?(0,p.jsx)(Dy,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,p.jsxs)(UN,{children:[(0,p.jsxs)(UP,{children:[(0,p.jsx)(yF,{}),"Authenticator app"]}),u.totp?(0,p.jsx)(Km,{color:"green",children:"Enabled"}):(0,p.jsx)(Uj,{children:"Recommended"})]})}),u.totp&&(0,p.jsx)(UT,{style:{position:"absolute",right:0},onClick:()=>d("totp"),children:(0,p.jsx)(O4,{})})]},"totp"),(h.sms||u.sms)&&(0,p.jsxs)(US,{children:[(0,p.jsx)(Du,{disabled:u.sms||n,onClick:()=>c("sms"),children:(0,p.jsxs)(UN,{children:[(0,p.jsxs)(UP,{children:[(0,p.jsx)(yW,{}),"SMS"]}),u.sms&&(0,p.jsx)(Km,{color:"green",children:"Enabled"}),n&&(0,p.jsx)(Uj,{children:"Disabled"})]})}),u.sms&&(0,p.jsx)(UT,{style:{position:"absolute",right:0},onClick:()=>d("sms"),children:(0,p.jsx)(O4,{})})]},"sms"),(h.passkey||u.passkey)&&(0,p.jsxs)(US,{children:[(0,p.jsx)(Du,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:u.passkey||a,children:a?(0,p.jsx)(Dy,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,p.jsxs)(UN,{children:[(0,p.jsxs)(UP,{children:[(0,p.jsx)(yB,{}),"Passkey"]}),u.passkey?(0,p.jsx)(Km,{color:"green",children:"Enabled"}):(0,p.jsx)(Uj,{isAccent:!0,children:(0,p.jsx)(OT,{})})]})}),u.passkey&&(0,p.jsx)(UT,{style:{position:"absolute",right:0},onClick:()=>d("passkey"),children:(0,p.jsx)(O4,{})})]},"passkey")]}),(0,p.jsx)(DR,{})]})},Km=yR(Wx).withConfig({displayName:"StyledChip",componentId:"sc-998ca5bc-0"})(["margin-right:1.5rem;"]),Ky=({appName:e,onComplete:t,onClose:r,onReset:n})=>{let{user:i}=R8(),{data:a}=RM(),{initLinkWithPasskey:s,linkWithPasskey:o}=(0,l1.u)(),{initEnrollmentWithPasskey:l,submitEnrollmentWithPasskey:c}=Kh(),[d,u]=(0,f.useState)(!1),[h,g]=(0,f.useState)(!1),[m,y]=(0,f.useState)(!1),[w,v]=(0,f.useState)(null),b=(0,f.useMemo)(()=>i?.linkedAccounts.filter(e=>"passkey"===e.type)??[],[i]),x=()=>{a?.mfaEnrollmentFlow?.onSuccess(),t()},E=async e=>{u(!0);try{await l(),await c({credentialIds:e},{removeForLogin:a?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),y(!0)}catch(e){v(e)}finally{u(!1)}},_=async()=>{g(!0),v(null);try{await s();let e=await o(),t=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];await E(t)}catch(e){v(e)}finally{g(!1)}};return 0===b.length||h?(0,p.jsx)(Kw,{onReset:n,onClose:r,onClick:_,isCreating:h}):m?(0,p.jsx)(Kb,{appName:e,onClick:x,onClose:x}):w?(0,p.jsx)(BX,{error:w,backFn:()=>v(null),onClick:()=>v(null)}):(0,p.jsx)(Kv,{passkeys:b,isSubmitting:d,isCreating:h,onReset:n,onClose:r,onSubmitEnrollment:()=>E(b.map(e=>e.credentialId)),onAddPasskey:_})},Kw=({onReset:e,onClose:t,onClick:r,isCreating:n})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:e,onClose:t},"header"),(0,p.jsx)(Uv,{children:(0,p.jsxs)(Hz,{children:[(0,p.jsx)(UL,{}),(0,p.jsx)(W3,{})]})}),(0,p.jsx)(Ub,{children:"Set up passkey verification"}),(0,p.jsxs)(U_,{children:[(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(yz,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O1,{})}),"Takes seconds to set up and use"]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O6,{})}),"Use your passkey to verify transactions and login to your account"]})]}),(0,p.jsx)(DE,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),(0,p.jsx)(DR,{})]}),Kv=({onReset:e,onClose:t,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:a,isCreating:s})=>{let[o,l]=(0,f.useState)(!1),c=o?i.length:i.length>3?2:3;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:o?()=>l(!1):e,onClose:t},"header"),!o&&(0,p.jsx)(Uv,{children:(0,p.jsxs)(Hz,{children:[(0,p.jsx)(UL,{}),(0,p.jsx)(W3,{})]})}),(0,p.jsx)(Ub,{children:"Enable your passkeys for verification"}),(0,p.jsxs)(U_,{children:[i.slice(0,c).map(e=>(0,p.jsxs)(Kx,{children:[(0,p.jsx)(KE,{children:KC(e)}),(0,p.jsxs)(K_,{children:["Last used: ",e.latestVerifiedAt?.toLocaleString()]})]},e.credentialId)),!o&&i.length>3&&(0,p.jsx)(Kk,{onClick:()=>l(!0),children:"View All"})]}),(0,p.jsx)(DE,{style:{marginTop:"1.5rem"},onClick:n,loading:a,children:"Enable passkeys"}),i.length<5&&(0,p.jsx)(Kk,{style:{marginTop:"0.5rem"},onClick:r,disabled:s,children:s?(0,p.jsx)(Dy,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),(0,p.jsx)(DR,{})]})},Kb=({appName:e,onClick:t,onClose:r})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:r},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(OF,{})}),(0,p.jsx)(Ub,{children:"Passkey verification added"}),(0,p.jsxs)(Ux,{children:["From now on, you'll use the passkey whenever you use your ",e," wallet."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{onClick:t,children:"Done"})}),(0,p.jsx)(DR,{})]}),Kx=yR.div.withConfig({displayName:"PasskeyItem",componentId:"sc-d5b2bf9c-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),KE=yR.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d5b2bf9c-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),K_=yR.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d5b2bf9c-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),KC=e=>e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device",Kk=yR.button.withConfig({displayName:"StyledLink",componentId:"sc-d5b2bf9c-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),KA=({appName:e,onComplete:t,onReset:r,onClose:n})=>{let[i,a]=(0,f.useState)(""),[s,o]=(0,f.useState)(!1),[l,c]=(0,f.useState)(null),[d,u]=(0,f.useState)("enroll"),{initEnrollmentWithSms:h,submitEnrollmentWithSms:g}=Kh(),{app:m,data:y}=RM();function w(){y?.mfaEnrollmentFlow?.onSuccess(),t()}return l?(0,p.jsx)(BX,{error:l,backFn:()=>c(null),onClick:()=>c(null)}):(0,p.jsxs)(p.Fragment,"enroll"===d?{children:[(0,p.jsx)(DF,{backFn:r,onClose:n},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yW,{})}),(0,p.jsx)(Ub,{children:"Set up SMS verification"}),(0,p.jsxs)(Ux,{children:["We'll text a verification code to this mobile device whenever you use your ",e," ","wallet."]}),(0,p.jsxs)(UE,{children:[(0,p.jsx)(zr,{onSubmit:async function({qualifiedPhoneNumber:e}){try{await h({phoneNumber:e}),a(e),u("verify")}catch(e){c(e)}},hideRecent:!0}),(0,p.jsxs)(UO,{children:["By providing your mobile number, you agree to receive text messages from ",m?.name,". Some carrier charges may apply"]})]}),(0,p.jsx)(DR,{})]}:s?{children:[(0,p.jsx)(DF,{onClose:w},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(OF,{})}),(0,p.jsx)(Ub,{children:"SMS verification added"}),(0,p.jsxs)(Ux,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",e," wallet."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{onClick:w,children:"Done"})}),(0,p.jsx)(DR,{})]}:{children:[(0,p.jsx)(DF,{backFn:function(){"verify"===d?u("enroll"):r()},onClose:n},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yW,{})}),(0,p.jsx)(Ub,{children:"Enter enrollment code"}),(0,p.jsxs)(UE,{children:[(0,p.jsx)(DQ,{onChange:async function(e){try{if(!e)return;await g({phoneNumber:i,mfaCode:e}),o(!0)}catch(e){if(Um(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(Ug(e))throw Error("The code you entered is not valid");if(Uf(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw Uy(e)?Error("Verification canceled"):Error("Unknown error")}}}),(0,p.jsxs)(Ux,{children:["To continue, enter the 6-digit code sent to ",(0,p.jsx)("strong",{children:t9(i)})]})]}),(0,p.jsx)(DR,{})]})},KI=({size:e,authUrl:t})=>(0,p.jsx)(WW,{url:t,squareLogoElement:O8,size:e,fgColor:"#1F1F1F"}),KS=({onComplete:e,onClose:t,onReset:r,totpInfo:n})=>{let[i,a]=(0,f.useState)("enroll"),[s,o]=(0,f.useState)(!1),{submitEnrollmentWithTotp:l}=Kh(),{data:c}=RM();function d(){c?.mfaEnrollmentFlow?.onSuccess(),e()}return(0,p.jsxs)(p.Fragment,"enroll"===i?{children:[(0,p.jsx)(DF,{backFn:r,onClose:t},"header"),(0,p.jsx)(Ub,{children:"Scan QR code"}),(0,p.jsx)(Ux,{children:"Open your authenticator app and scan the QR code to continue."}),(0,p.jsx)(LN,{children:(0,p.jsx)(KI,{authUrl:n.authUrl,size:200})}),(0,p.jsxs)(UA,{children:[(0,p.jsx)(LP,{children:(0,p.jsx)(WP,{itemName:"setup key",text:n.secret})}),(0,p.jsx)(DE,{onClick:function(){a("verify")},children:"Continue"})]}),(0,p.jsx)(DR,{})]}:s?{children:[(0,p.jsx)(DF,{onClose:d},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(OF,{})}),(0,p.jsx)(Ub,{children:"Authenticator app verification added"}),(0,p.jsxs)(Ux,{children:["From now on, you'll enter the verification code generated by your authenticator app whenever you use your ",n.appName," wallet."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{onClick:d,children:"Done"})}),(0,p.jsx)(DR,{})]}:{children:[(0,p.jsx)(DF,{backFn:function(){"verify"===i?a("enroll"):r()},onClose:t},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yF,{})}),(0,p.jsx)(Ub,{children:"Enter enrollment code"}),(0,p.jsx)(UE,{children:(0,p.jsx)(DQ,{onChange:async function(e){try{if(!e)return;await l({mfaCode:e}),o(!0)}catch(e){if(Um(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(Ug(e))throw Error("The code you entered is not valid");if(Uf(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw Uy(e)?Error("Verification canceled"):Error("Unknown error")}}})}),(0,p.jsxs)(Ux,{children:["To continue, enter the 6-digit code generated from your ",(0,p.jsx)("strong",{children:"authenticator app"})]}),(0,p.jsx)(DR,{})]})},KT={component:()=>{let{user:e,enrollInMfa:t,ready:r}=R8(),[n,i]=(0,f.useState)(null),{unenrollWithSms:a,unenrollWithTotp:s,unenrollWithPasskey:o}=Kh(),{app:l,data:c,onUserCloseViaDialogOrKeybindRef:d}=RM(),{closePrivyModal:u}=(0,l1.u)(),{promptMfa:h}=Uw(),{initEnrollmentWithTotp:g}=Kh(),[m,y]=(0,f.useState)(!1),[w,v]=(0,f.useState)(null),[b,x]=(0,f.useState)(null),E=()=>{u({shouldCallAuthOnSuccess:!0}),t(!1),setTimeout(()=>{i(null),v(null)},500)},{initEnrollmentWithPasskey:_,submitEnrollmentWithPasskey:C}=Kh(),[k,A]=(0,f.useState)(!1),[I,S]=(0,f.useState)(null);d.current=E;let T=e?.mfaMethods.includes("sms"),P=!!e?.phone,j=e?.mfaMethods.includes("totp"),N=e?.mfaMethods.includes("passkey"),O=T||j||N,$=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];function M(){i(null),v(null)}if((0,f.useEffect)(()=>{O&&y(!0)},[O]),!r||!e||!l)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E},"header"),(0,p.jsx)(Uv,{children:(0,p.jsx)(Kp,{})}),(0,p.jsx)(UE,{children:(0,p.jsx)(Dy,{})}),(0,p.jsx)(DR,{})]});if("sms"===n)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:M,onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yH,{})}),(0,p.jsx)(Ub,{children:"Remove SMS verification?"}),(0,p.jsxs)(Ux,{children:["MFA adds an extra layer of security to your ",l?.name," account. Make sure you have other methods to secure your account."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{warn:!0,onClick:async function(){i(null);try{await a()}catch(e){i(null)}},children:"Remove SMS for MFA"})}),(0,p.jsx)(DR,{})]});if("totp"===n)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:M,onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yH,{})}),(0,p.jsx)(Ub,{children:"Remove Authenticator App verification?"}),(0,p.jsxs)(Ux,{children:["MFA adds an extra layer of security to your ",l?.name," account. Make sure you have other methods to secure your account."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{warn:!0,onClick:async function(){i(null);try{await s()}catch(e){i(null)}},children:"Remove Authenticator App for MFA"})}),(0,p.jsx)(DR,{})]});if("passkey"===n){let e=c?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{backFn:M,onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yH,{})}),(0,p.jsx)(Ub,{children:"Are you sure you want to remove this passkey?"}),(0,p.jsx)(Ux,{children:e?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{warn:!0,onClick:async function(){i(null);try{await o({removeForLogin:c?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch(e){i(null)}},children:"Yes, remove"})}),(0,p.jsx)(DR,{})]})}if(0===c.mfaEnrollmentFlow.mfaMethods.length&&!O)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yz,{})}),(0,p.jsx)(Ub,{children:"Add more security"}),(0,p.jsxs)(Ux,{children:[l?.name," does not have any verification methods enabled."]}),(0,p.jsx)(UA,{children:(0,p.jsx)(DE,{onClick:E,children:"Close"})}),(0,p.jsx)(DR,{})]});let R=!O&&!m;return R?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{onClose:E},"header"),(0,p.jsx)(UM,{style:{marginBottom:"1.5rem"},children:(0,p.jsx)(yz,{})}),(0,p.jsx)(Ub,{children:"Transaction Protection"}),(0,p.jsx)(Ux,{children:"Set up transaction protection to add an extra layer of security to your account"}),(0,p.jsxs)(U_,{children:[(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O3,{})}),"Enable 2-Step verification for your ",l?.name," wallet."]}),(0,p.jsxs)(Uk,{children:[(0,p.jsx)(UC,{children:(0,p.jsx)(O5,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),(0,p.jsxs)(UA,{children:[(0,p.jsx)(DE,{onClick:()=>y(!0),children:"Continue"}),(0,p.jsx)(DI,{onClick:E,children:"Not now"})]}),(0,p.jsx)(DR,{})]}):"sms"===w?(0,p.jsx)(KA,{appName:l?.name||"Privy",onComplete:E,onReset:M,onClose:E}):"totp"===w&&b?(0,p.jsx)(KS,{onComplete:E,onClose:E,onReset:M,totpInfo:{...b,appName:l?.name||"Privy"}}):"passkey"===w?(0,p.jsx)(Ky,{appName:l?.name||"Privy",onComplete:E,onReset:M,onClose:E}):(0,p.jsx)(Kg,{showIntro:R,userMfaMethods:e.mfaMethods,appMfaMethods:l.mfa.methods,userHasAuthSms:P,onBackToIntro:function(){y(!1)},handleSelectMethod:async function(e){return await h().catch(S),"totp"===e?(v(e),x(null),void g().then(e=>{x(e)}).catch(()=>{x(null),M()})):"passkey"===e&&1===$.length?await async function(){A(!0);try{await _(),await C({credentialIds:$},{removeForLogin:c?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch(e){S(e)}finally{A(!1)}}():void v(e)},isTotpLoading:"totp"===w&&!b,isPasskeyLoading:k,error:I,onClose:E,setRemovingMfaMethod:async e=>{await h().catch(S),i(e)}})}},KP={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=R8(),{app:i,setModalData:a,navigate:s,resetNavigation:o}=RM(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:d,updateWallets:u,setReadyToTrue:h,closePrivyModal:g,createAnalyticsEvent:m}=(0,l1.u)(),[y,w]=(0,f.useState)(!1),[v,b]=(0,f.useState)(void 0),x=l()?.provider||"google",{name:E,component:_}=Mr(x);(0,f.useEffect)(()=>{d(x).then(()=>{w(!0),h(!0)}).catch(e=>{if(h(!1),e?.privyErrorCode===l1.a.ALLOWLIST_REJECTED)return b(void 0),o(),void s(Wz);if(e?.privyErrorCode===l1.a.USER_LIMIT_REACHED)return console.error(new l1.ak(e).toString()),b(void 0),o(),void s(WG);if(e?.privyErrorCode===l1.a.USER_DOES_NOT_EXIST)return b(void 0),o(),void s(BM);if(e?.privyErrorCode===l1.a.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return b(void 0),o(),a({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:l()?.provider,embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:e.data?.data?.otherUser?.oAuthUserInfo}}),void s(Wi);let{retryable:t,detail:r}=function(e,t){let r={detail:"",retryable:!1},n=$0(t);if(e?.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER&&(r.detail="This account has already been linked to another user."),e?.privyErrorCode===l1.a.INVALID_CREDENTIALS&&(r.retryable=!0,r.detail="Something went wrong. Try again."),e.privyErrorCode===l1.a.OAUTH_USER_DENIED&&(r.detail=`Retry and check ${n} to finish connecting your account.`,r.retryable=!0),e?.privyErrorCode===l1.a.TOO_MANY_REQUESTS&&(r.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===l1.a.TOO_MANY_REQUESTS&&e.message.includes("provider rate limit")){let e=Mr(t).name;r.detail=`Request limit reached for ${e}. Please wait a moment and try again.`}if(e?.privyErrorCode===l1.a.OAUTH_ACCOUNT_SUSPENDED){let e=Mr(t).name;r.detail=`Your ${e} account is suspended. Please try another login method.`}return e?.privyErrorCode===l1.a.CANNOT_LINK_MORE_OF_TYPE&&(r.detail="You cannot authorize more than one account for this user."),e?.privyErrorCode===l1.a.OAUTH_UNEXPECTED&&t.startsWith("privy:")&&(r.detail="Something went wrong. Please try again."),r}(e,x);b({retryable:t,detail:r,message:"Authentication failed"})}).finally(()=>{Mn()})},[E,x]),(0,f.useEffect)(()=>{if(r&&e&&y&&n){if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{s(Wf)},1400);return()=>clearTimeout(e)}if(BO(n,i.embeddedWallets)){let e=setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:x,screen:"OAuthStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),s(Wh)},1400);return()=>clearTimeout(e)}{let e=setTimeout(()=>g({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return u(),()=>clearTimeout(e)}}},[r,e,y,n]);let C=y?`Successfully connected with ${E}`:v?v.message:`Verifying connection to ${E}`,k="";return k=y?"Youre good to go!":v?v.detail:"Just a few moments more",(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{}),(0,p.jsx)(LD,{}),(0,p.jsxs)(Kj,{children:[(0,p.jsx)(UD,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Dm,{success:y,fail:!!v}),(0,p.jsx)(_,{style:{width:"38px",height:"38px"}})]})}),(0,p.jsxs)(LM,{children:[(0,p.jsx)("h3",{children:C}),(0,p.jsx)("p",{children:k})]}),v&&v?.retryable?(0,p.jsx)(DT,{onClick:()=>{Mn(),c(x),b(void 0)},disabled:!y&&!v?.retryable,children:"Retry"}):null]}),(0,p.jsx)(LL,{}),(0,p.jsx)(DR,{})]})}},Kj=yR.div.withConfig({displayName:"ConnectContainer",componentId:"sc-89bb91a9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),KN=(0,f.forwardRef)((e,t)=>{let[r,n]=(0,f.useState)(""),[i,a]=(0,f.useState)(""),[s,o]=(0,f.useState)(!1),{authenticated:l,user:c}=R8(),{initUpdateEmail:d}=(0,l1.u)(),{navigate:u,setModalData:h,currentScreen:g}=RM(),{enabled:m,token:y}=Mg(),w=Rj(),v=$d(r)&&(w.disablePlusEmails&&r.includes("+")?(i||a("Please enter a valid email address without a '+'."),!1):(i&&a(""),!0)),b=s||!v,x=()=>{!m||y||l?(async e=>{if(!c?.email)throw Error("User is required to have an email address to update it.");o(!0);try{await d(c.email.address,r,e),u(qa)}catch(e){h({errorModalData:{error:e,previousScreen:g||qk}})}o(!1)})(y):(h({captchaModalData:{callback:e=>{if(!c?.email)throw Error("User is required to have an email address to update it.");return d(c.email.address,r,e)},userIntentRequired:!1,onSuccessNavigateTo:qa,onErrorNavigateTo:BQ}}),u(WA))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(KO,{children:[i&&(0,p.jsx)(qp,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),(0,p.jsxs)(K$,{$error:!!i,children:[(0,p.jsx)(Oy,{}),(0,p.jsx)("input",{ref:t,id:"email-input",type:"email",placeholder:"your@email.com",onChange:e=>n(e.target.value),onKeyUp:e=>{"Enter"===e.key&&x()},value:r,autoComplete:"email"}),e.stacked?null:(0,p.jsx)(DP,{isSubmitting:s,onClick:x,disabled:b,children:"Submit"})]})]}),e.stacked?(0,p.jsx)(DE,{loadingText:null,loading:s,disabled:b,onClick:x,children:"Submit"}):null]})}),KO=qy,K$=qg,KM={component:()=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Fw,{title:"Update your email",description:"Add the email address you'd like to use going forward. We'll send you a confirmation code",icon:(0,p.jsx)(Oy,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,p.jsx)(LT,{children:(0,p.jsx)(KN,{stacked:!0})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})},KR={component:()=>{let{currentScreen:e,data:t,navigate:r,setModalData:n}=RM(),{user:i}=R8(),{initUpdatePhone:a}=(0,l1.u)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(DF,{},"header"),(0,p.jsx)(LD,{}),(0,p.jsx)(Fw,{title:"Update your phone number",description:"Add the phone number you'd like to use going forward. We'll send you a confirmation code",icon:(0,p.jsx)(yW,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,p.jsx)(LT,{children:(0,p.jsx)(zr,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:s}){try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await a(i?.phone?.number,s),r(qa)}catch(i){n({errorModalData:{error:i,previousScreen:t?.errorModalData?.previousScreen||e||Kl}}),r(BQ)}},hideRecent:!0})}),(0,p.jsx)(LL,{}),(0,p.jsx)(DM,{})]})}},KD=(0,Od.v)(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function KL({customAuth:e}){let{jwtAuthFlowState:t}=function({customAuth:e}){let t=Di(),r=(0,f.useRef)(),n=(0,f.useCallback)(e=>(r.current=e,()=>{r.current=void 0}),[]),i=e?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:a}=function({subscribe:e,getExternalJwt:t,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:a}){let{client:s,onCustomAuthAuthenticated:o}=(0,l1.u)(),{logout:l,authenticated:c,ready:d}=q9();if(!s)throw new l1.P("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[u,h]=(0,f.useState)({status:"initial"}),p=(0,f.useRef)(),g=(0,f.useRef)(!1),m=(0,f.useRef)(t);(0,f.useEffect)(()=>{m.current=t},[t]);let y=(0,f.useRef)(n);(0,f.useEffect)(()=>{y.current=n},[n]);let w=(0,f.useRef)(i);(0,f.useEffect)(()=>{w.current=i},[i]);let v=(0,f.useRef)(a);return(0,f.useEffect)(()=>{v.current=a},[a]),(0,f.useEffect)(()=>{if(!r||!d)return;let t=async()=>{if(!g.current){g.current=!0;try{h({status:"loading"});let e=await m.current();if(void 0!==p.current&&p.current===e)return void h({status:"done"});if(!e)return c&&(await l(),w.current?.()),p.current=e,void h({status:"done"});s.startAuthFlow(new Rz(e));let{user:t,isNewUser:r=!1}=await s.authenticate();if(!t)throw new l1.P("Failed to sync with custom auth provider");y.current?.({user:t,isNewUser:r}),o(t,r),p.current=e,h({status:"done"})}catch(e){if(console.warn(e),await l().catch(()=>{}),w.current?.(),e instanceof l1.N&&e.privyErrorCode===l1.a.LINKED_TO_ANOTHER_USER)return h({status:"initial"}),void setTimeout(()=>{t()},0);v.current?.(e),h({status:"error",error:e})}finally{g.current=!1}}};return t(),e(t)},[e,s,o,c,l,r,d]),r?{state:u}:{state:{status:"not-enabled"}}}({enabled:!0===e?.enabled,subscribe:n,getExternalJwt:i,onAuthenticated:({user:e,isNewUser:r})=>{t("login","onComplete",{user:e,isNewUser:r,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),t("customAuth","onAuthenticated",{user:e})},onUnauthenticated:()=>{t("customAuth","onUnauthenticated")},onError:e=>{t("login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR)}});return(0,f.useEffect)(()=>{(async()=>{e&&!e.isLoading&&r.current?.()})()},[e?.enabled,e?.getCustomAccessToken,e?.isLoading]),{jwtAuthFlowState:a}}({customAuth:e});return(0,f.useEffect)(()=>{KD.setState({jwtAuthFlowState:t})},[t]),null}let KU=(0,f.createContext)(!1);function KF(){return s?s.getCustomerAccessToken():Promise.resolve($i.get($O)||null)}async function KB(){return s?s.getAccessToken():Promise.resolve($i.get($R)||$i.get($O)||null)}let KW=(e,t)=>o(e,t),Kz=(e,t)=>l(e,t),Kq=(e,t)=>c(e,t),KH=(e,t)=>d(e,t),KV=e=>u(e),KG=e=>h(e),KK=({config:e,...t})=>{var r;if((()=>{if((0,f.useContext)(KU))throw new l1.P("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),"undefined"!=typeof window&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&"https:"!==window.location.protocol)throw new l1.P("Embedded wallet is only available over HTTPS");if("string"!=typeof(r=t.appId)||25!==r.length)throw new l1.P("Cannot initialize the Privy provider with an invalid Privy app ID");s||(s=new R3({appId:t.appId,appClientId:t.clientId,apiUrl:t.apiUrl}));let n=Object.assign({},e),i=(0,f.useMemo)(()=>new l0({appId:t.appId,clientId:t.clientId,storage:$i,baseUrl:t.apiUrl,sdkVersion:"react-auth:2.13.8"}),[]);return(0,p.jsx)(RP,{client:i,legacyClient:s,clientConfig:n,children:(0,p.jsx)(zw,{children:(0,p.jsx)(KJ,{...t,client:s,privy:i})})})},KJ=e=>{let t=e.client,n=e.privy,i=zv();Fa();let[a,s]=(0,f.useState)(!1),[g,x]=(0,f.useState)(!1),[E,_]=(0,f.useState)(!1),[C,k]=(0,f.useState)(null),[A,I]=(0,f.useState)([]),[S,T]=(0,f.useState)([]),[P,j]=(0,f.useState)(!1),[N,O]=(0,f.useState)(null),[$,M]=(0,f.useState)(!1),[R,D]=(0,f.useState)({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:l1.b}),[L,U]=(0,f.useState)({status:"initial"}),[F,B]=(0,f.useState)({status:"initial"}),[W,z]=(0,f.useState)({status:"initial"}),[q,H]=(0,f.useState)({status:"initial"}),[V,G]=(0,f.useState)({status:"initial"}),[K,J]=(0,f.useState)({status:"initial"}),[Z,Q]=(0,f.useState)(null),X=Rj(),ee=RN(),[et,er]=(0,f.useState)({}),[en,ei]=(0,f.useState)(null),ea=(0,f.useRef)(null),[es,eo]=(0,f.useState)(!1),[el,ec]=(0,f.useState)(!1),ed=(0,f.useRef)(null),eu=(0,f.useRef)(null),eh=(0,f.useRef)(R7),[ep,ef]=(0,f.useState)(!1);t.onStoreCustomerAccessToken=e=>{e&&Dn(eh,"accessToken","onAccessTokenGranted",{accessToken:e})},t.onDeleteCustomerAccessToken=()=>{k(null),_(!1),Dn(eh,"accessToken","onAccessTokenRemoved")};let eg=(0,f.useRef)(null),em=(0,f.useRef)(null),ey=(0,f.useRef)(!1),ew=({showWalletUIs:e})=>ey.current?ey.current:void 0!==e?!e:!X.embeddedWallets.showWalletUIs,ev=e=>{O(e),setTimeout(()=>{s(!0)},15)};(0,f.useEffect)(()=>{if(!C)return void t.connectors?.removeEmbeddedWalletConnectors();let r=MC(C),i=(C?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"ethereum"===e.chainType),a=MI(C);r&&i.length||t.connectors?.removeEmbeddedWalletConnectors(),a||t.connectors?.removeImportedWalletConnector(),t.connectors?Z?(r&&t.connectors.addEmbeddedWalletConnectors({walletProxy:Z,user:C,embeddedWallets:i,defaultChain:X.defaultChain,appId:e.appId,privyClient:n}),a&&t.connectors.addImportedWalletConnector(Z,a.address,X.defaultChain,e.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[Z,C]),(0,f.useEffect)(()=>{Z&&ea.current?.(Z)},[Z]);let eb=(0,f.useCallback)((e,t)=>{k(e),j(t),_(!0),ec(!0)},[]);(0,f.useEffect)(()=>{el&&Z&&C&&(async()=>{let e=BT(C,X.embeddedWallets.ethereum.createOnLogin),t=Bj(C,X.embeddedWallets.solana.createOnLogin),r=await KB();if(r){if(e&&t){let e=await Z.create({accessToken:r});return await Z.createSolana({accessToken:r,ethereumAddress:e?.address}),void ec(!1)}if(t)return await Z.createSolana({accessToken:r,ethereumAddress:MC(C)?.address}),await eU.refreshSessionAndUser(),void ec(!1);if(e)return await Z.create({accessToken:r}),void ec(!1)}})().catch(console.error)},[el&&Z&&C]),(0,f.useEffect)(()=>{if(X.externalWallets.solana.connectors)return X.externalWallets.solana.connectors.onMount(),()=>X.externalWallets.solana.connectors?.onUnmount()},[X.externalWallets.solana.connectors]),(0,f.useEffect)(()=>{!g&&ee&&async function(){let e,r=ex(),n=eE(),i=function(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}();t.initializeConnectorManager({walletConnectCloudProjectId:X.walletConnectCloudProjectId,rpcConfig:X.rpcConfig,chains:X.chains,defaultChain:X.defaultChain,store:i,walletList:X.appearance.walletList,shouldEnforceDefaultChainOnConnect:X.shouldEnforceDefaultChainOnConnect,externalWalletConfig:X.externalWallets,appName:X.name??"Privy",walletChainType:X.appearance.walletChainType,appKit:X.externalWallets.walletConnect.appKit}),t.connectors?.on("connectorInitialized",()=>{e&&clearTimeout(e);let r=t.connectors.walletConnectors.length,n=t.connectors.walletConnectors.reduce((e,t)=>e+ +!!t.initialized,0);n===r?ef(!0):e=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:n,expected:r}),ef(!0)},1500)}),t.connectors?.initialize().then(()=>{eI()});let a=await t.getAuthenticatedUser(),s=!!a;X.legal.requireUsersAcceptTerms&&a&&!a.hasAcceptedTerms?(await t.logout(),eU.setReadyToTrue(!0),Dn(eh,"logout","onSuccess")):(X.customAuth?.enabled||(_(!!a),a&&Dn(eh,"login","onComplete",{user:a,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),k(a)),r?em.current=s?"link":"login":n&&!s?(em.current="login",er({telegramAuthModalData:{seamlessAuth:!0}}),ev(zd)):eU.setReadyToTrue(!!a))}()},[t,en,g,ee]),(0,f.useEffect)(()=>{if(g){if(!C||!C.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType))return void eo(!!Z);if([...A].some(e=>"privy"===e.walletClientType))return void eo(!0);eo(!!Z)}},[g,C,A,Z]),(0,f.useEffect)(()=>{t.connectors?.setWalletList(X.appearance.walletList)},[X.appearance.walletList.join()]);let ex=()=>{let e=function(){let e=new URLSearchParams(window.location.search),t=e.get("privy_oauth_code"),r=e.get("privy_oauth_state"),n=e.get("privy_oauth_provider");if(!t||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:t,stateCode:r,provider:n,withPrivyUi:!$i.get($H),popupFlow:null!==window.opener&&i,disableSignup:!!$i.get($V)}}();return e.inProgress&&e.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):"error"===e.authorizationCode?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}):(e.inProgress&&e.provider.startsWith("privy:")&&!e.popupFlow&&(new BroadcastChannel(Fo).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}),window.close()),!!e.inProgress&&!!e.withPrivyUi&&(t.startAuthFlow(new $X(e)),ev(KP),!0))},eE=()=>{let e=function(){let e;return(e=function(){let e=new URLSearchParams(window.location.search),t=Number(e.get("id")||""),r=e.get("hash"),n=Number(e.get("auth_date")||""),i=e.get("first_name");if(t&&i&&n&&r)return Object.fromEntries(e.entries())}())?(Mv(),{flowType:"login-url",authData:e}):(e=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let t=Mw(e.replace("#tgWebAppData=","")),{user:r,auth_date:n,hash:i}=t;return r&&n&&i?t:void 0}())?(Mv(),{flowType:"web-app",authData:e}):void 0}();if(!e||!X.loginMethods.telegram||!X.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let r=new Mm;return t.startAuthFlow(r),"login-url"===e.flowType&&(r.meta.telegramWebAppData=void 0,r.meta.telegramAuthResult=e.authData),"web-app"===e.flowType&&(r.meta.telegramAuthResult=void 0,r.meta.telegramWebAppData=e.authData),!0},e_=async(e,r,n,i)=>{if("solana_adapter"!==e)eC(await t.connectors?.createEthereumWalletConnector({connectorType:e,walletClientType:r})||null,r,n,i);else{let e=t.connectors?.findSolanaWalletConnector(r);if(!e)return;eC(e,r,n,i)}};async function eC(e,t,r,n){if(!e)return D({status:"disconnected",connectedWallet:null,connectError:new l1.g("Unable to connect to wallet."),connector:null,connectRetry:l1.b}),n?.(null,r);D({status:"disconnected",connectedWallet:null,connectError:null,connector:e,connectRetry:l1.b}),e instanceof RR&&t&&await e.resetConnection(t),D({connector:e,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>eC(e,t,r,n)});try{let t=await e.connect({showPrompt:!0});if((!t||MB(t))&&X.shouldEnforceDefaultChainOnConnect&&!X.chains.find(e=>e.id===Number(t?.chainId.replace("eip155:","")))&&("wallet_connect_v2"!==t?.connectorType||"metamask"!==t?.walletClientType)){D(t=>({...t,connector:e,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:l1.b}));try{await t?.switchChain(X.defaultChain.id),t&&(t.chainId=$v((0,w.nj)(X.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${X.defaultChain.id}`)}}return D(e=>({...e,status:"connected",connectedWallet:t,connectError:null,connectRetry:l1.b})),t&&Dn(eh,"connectWallet","onSuccess",{wallet:t}),n?.(t,r)}catch(e){return e instanceof l1.B?(console.warn(e.cause?e.cause:e.message),Dn(eh,"connectWallet","onError",e.privyErrorCode||l1.a.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),Dn(eh,"connectWallet","onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR)),D(t=>({...t,status:"disconnected",connectedWallet:null,connectError:e})),n?.(null,r)}}let ek=async(e,r,n)=>{if(null===e||!MB(e))return;let i=new Ms(t,e,r,n);t.startAuthFlow(i)},eA=async(e,r,n,a="plain")=>{let s=i(zb);if("transaction"===a&&!s)throw new l1.P("useSolanaLedger plugin hook must be mounted");if(null===e||!Rc(e))return;let o=new Mc(e,t,r,n,a,s?{deserializeTransactionFromB64String:s.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:s.prepareSiwsTransactionWithMemo}:void 0);t.startAuthFlow(o)},eI=()=>{let e=new URLSearchParams(window.location.search),r=e.get("privy_connector"),n=e.get("privy_wallet_client"),i="true"===e.get("privy_connect_only");if(!r||!n)return;let a=Ri({connectorType:r,walletClientType:n});if(!a||!a.isInstalled)return ev(Ku);if(!t.connectors)throw new l1.P("Connector not initialized");ev(i?z$:zP);let s=new URL(window.location.href);s.searchParams.delete("privy_connector"),s.searchParams.delete("privy_wallet_client"),s.searchParams.delete("privy_connect_only"),window.history.pushState({},"",s),e_(r,n,void 0,i?void 0:"solana_adapter"===r?eA:ek)};(0,f.useEffect)(()=>{g&&E&&null===C&&t.getAuthenticatedUser().then(k)},[g,E,C,t]);let eS=e=>{if(!E)throw Dn(eh,"linkAccount","onError",l1.a.MUST_BE_AUTHENTICATED,{linkMethod:e}),new l1.P("User must be authenticated before linking an account.")},eT=e=>{if(!E||!C)return!1;if("privy"===e.walletClientType)return!0;for(let t of C.linkedAccounts)if("wallet"===t.type&&t.address===e.address&&"privy"!==t.walletClientType)return!0;return!1},eP=async e=>{let r;if(!t.connectors)throw new l1.P("Connector not initialized");r="ethereum"===e.type?t.connectors.findWalletConnector(e.connectorType,e.walletClientType)||null:t.connectors.findSolanaWalletConnector(e.walletClientType)||null,D(t=>({...t,connector:r,status:"connected",connectedWallet:e,connectError:null,connectRetry:l1.b})),X.captchaEnabled&&!E?(er({captchaModalData:{callback:t=>MB(e)?ek(e,t):eA(e,t),userIntentRequired:!1,onSuccessNavigateTo:zP,onErrorNavigateTo:BQ}}),ev(WA)):(MB(e)?await ek(e):await eA(e),ev(zP))},ej=()=>{I(e=>{let r=t.connectors?.wallets.filter(MB).map(e=>({...e,linked:eT(e),loginOrLink:async()=>{if(!await e.isConnected())throw new l1.P("Wallet is not connected");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new l1.P("Cannot link or login with embedded wallet");eP(e)},fund:async t=>{await eU.fundWallet(e.address,t)},unlink:async()=>{if(!E)throw new l1.P("User is not authenticated.");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new l1.P("Cannot unlink an embedded wallet");k(await t.unlinkEthereumWallet(e.address))}}))||[];return MW(e,r)?e:r}),T(e=>{let r=(t.connectors?.wallets??[]).filter(Rc).map(e=>({...e,linked:eT(e),loginOrLink:async()=>{if(!await e.isConnected())throw new l1.P("Wallet is not connected");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new l1.P("Cannot link or login with embedded wallet");eP(e)},fund:async()=>{throw new l1.P("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!E)throw new l1.P("User is not authenticated.");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new l1.P("Cannot unlink an embedded wallet");k(await t.unlinkSolanaWallet(e.address))}}));return MW(e,r)?e:r})};(0,f.useEffect)(()=>{ej()},[C?.linkedAccounts,E,g]),(0,f.useEffect)(()=>{if(g){if(!t.connectors)throw new l1.P("Connector not initialized");ej(),t.connectors.on("walletsUpdated",ej)}},[g]),(0,f.useEffect)(()=>{[...X.loginMethodsAndOrder?.primary??[],...X.loginMethodsAndOrder?.overflow??[]].filter(e=>e.startsWith("privy:")).forEach(e=>t.getCrossAppProviderDetails(e.replace("privy:","")))},[!!t]);let eN=({transaction:r,uiOptions:i,fundWalletConfig:a,address:s,signOnly:o})=>new Promise(async(l,c)=>{let{requesterAppId:d}=i||{},u=o?"signTransaction":"sendTransaction";if(!E||!C)return Dn(eh,u,"onError",l1.a.MUST_BE_AUTHENTICATED),void c(Error("User must be authenticated before signing with a Privy wallet"));let h=s?MT(C,s):MC(C);if(!h)return Dn(eh,u,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),void c(new l1.P("User must have an embedded wallet."));let p=h.address,f=h.walletIndex??0,{entropyId:g,entropyIdVerifier:m}=MO(C,h),b=eF.wallets.find(e=>"privy"===e.walletClientType&&(0,y.b)(e.address)===(0,y.b)(p));if(!b)return Dn(eh,u,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),void c(Error("Must have a Privy wallet before signing"));let x=await b.getEthereumProvider(),_=await x.request({method:"eth_chainId"}),k=r.chainId?Number(r.chainId):Fs(_);(e=>{if(!X.chains.map(e=>e.id).includes(e))throw new l1.g(`Chain ID ${e} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,l1.a.UNSUPPORTED_CHAIN_ID)})(k);let A={...r,from:r.from??p,chainId:k},I=await KB();if(!I||!Z)return Dn(eh,u,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),void c(Error("Must have valid access token and Privy wallet to send transaction"));let S=$l(A.chainId,X.chains,X.rpcConfig,{appId:e.appId}),T=MX(h),P=async()=>{try{let e;if(!await eU.recoverEmbeddedWallet({address:p}))throw Dn(eh,u,"onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),c(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");let t=o?A:await Uo(A,S,A.from);if(T){let r=e=>null==e?void 0:(0,w.nj)(e),i=await Y(n,async({message:e})=>await Z.signWithUserSigner({accessToken:I,requesterAppId:d,message:e}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:t.from,to:t.to,nonce:r(t.nonce),chain_id:r(t.chainId),data:(0,v.q)(t.data)?t.data?t.data:(0,w.nj)(Uint8Array.from(t.data)):void 0,value:r(t.value),type:t.type,gas_limit:r(t.gasLimit??t.gas),gas_price:r(t.gasPrice??t.gas),max_fee_per_gas:r(t.maxFeePerGas),max_priority_fee_per_gas:r(t.maxPriorityFeePerGas)}},wallet_id:h.id});if(!i.data||!("signed_transaction"in i.data))throw new MU("Unable to sign transaction");e=i.data.signed_transaction}else e=await Fi({accessToken:I,entropyId:g,entropyIdVerifier:m,transactingWalletIndex:f,walletProxy:Z,transactionRequest:t,requesterAppId:d});if(o)return Dn(eh,"signTransaction","onSuccess",{signature:e}),e;{let t=await S.sendRawTransaction({serializedTransaction:e});return Dn(eh,"sendTransaction","onSuccess",{hash:t}),t}}catch(e){throw Dn(eh,u,"onError",l1.a.TRANSACTION_FAILURE),e}};if(ew({showWalletUIs:i?.showWalletUIs}))P().then(e=>{o?Dn(eh,"signTransaction","onSuccess",{signature:e}):Dn(eh,"sendTransaction","onSuccess",{hash:e}),l({hash:e})}).catch(e=>{Dn(eh,u,"onError",l1.a.TRANSACTION_FAILURE),c(e)});else{let e={connectingWalletAddress:p,recoveryMethod:h.recoveryMethod,entropyId:g,entropyIdVerifier:m,onCompleteNavigateTo:GQ,isUnifiedWallet:T,onFailure:e=>{Dn(eh,u,"onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),c(e)}},r=He(X)?VP({address:p,appConfig:X,fundWalletConfig:a,methodScreen:VA,chainIdOverride:A.chainId,comingFromSendTransactionScreen:!0}):void 0;er({connectWallet:e,sendTransaction:{transactionRequest:A,transactingWalletIndex:f,transactingWalletAddress:p,entropyId:g,entropyIdVerifier:m,signOnly:o,scanTransaction:async()=>{let e=await Uo(A,S,A.from);return await t.scanTransaction({metadata:{domain:X.embeddedWallets.transactionScanning.domain},chain_id:e.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:e.from,to:e.to,value:e.value?.toString(),gas:e.gas?.toString(),gasPrice:e.gasPrice?.toString(),nonce:e.nonce?.toString(),data:e.data}]}})},onConfirm:()=>P(),onSuccess:e=>{o?Dn(eh,"signTransaction","onSuccess",{signature:e.hash}):Dn(eh,"sendTransaction","onSuccess",{hash:e.hash}),l(e)},onFailure:e=>{Dn(eh,u,"onError",l1.a.TRANSACTION_FAILURE),c(e)},uiOptions:i||{},fundWalletConfig:a,requesterAppId:d},funding:r}),ev(VL)}});function eO(){return new Promise(async(e,t)=>{let r=await KB();if(!r||!Z)throw Error("Must have valid access token to enroll in MFA");try{await Z.verifyMfa({accessToken:r}),e()}catch(e){t(e)}})}let e$=e=>e?.linkedAccounts.filter(e=>null!==e.latestVerifiedAt&&("wallet"!==e.type||"privy"!==e.walletClientType)).sort((e,t)=>t.latestVerifiedAt.getTime()-e.latestVerifiedAt.getTime())[0],eM=e=>{let t=C?.linkedAccounts.filter(t=>t.type===e).length??0,{displayName:r,loginMethod:n}=By(e);if("passkey"===e&&t>=5||"passkey"!==e&&t>=1)throw Dn(eh,"linkAccount","onError",l1.a.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:n}),new l1.P(`User already has an account of type ${r} linked.`)};async function eR({showAutomaticRecovery:e=!1,legacySetWalletPasswordFlow:t=!1}){O(null);let r=t?"setWalletPassword":"setWalletRecovery";if(!E||!C)throw Dn(eh,r,"onError",l1.a.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let n=MP(C);if(!n||!Z)throw Dn(eh,r,"onError",l1.a.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let i=MX(n);if(i)throw Dn(eh,r,"onError",l1.a.UNSUPPORTED_WALLET_TYPE),new l1.P("User owned wallet recovery is only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Learn more about the difference at https://docs.privy.io/recipes/enclave-wallet-migration-guide");try{await eO()}catch(e){throw Dn(eh,r,"onError",l1.a.MISSING_MFA_CREDENTIALS),e}return new Promise((a,s)=>{let o="user-passcode"===n.recoveryMethod,l=qL({walletAction:"update",availableRecoveryMethods:X.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:t,isResettingPassword:o,showAutomaticRecovery:e}),{entropyId:c,entropyIdVerifier:d}=MO(C),u={recoveryMethod:n.recoveryMethod,connectingWalletAddress:n.address,onCompleteNavigateTo:l,shouldForceMFA:!1,entropyId:c,isUnifiedWallet:i,entropyIdVerifier:d,onFailure:e=>{Dn(eh,r,"onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),s(e)}};er({setWalletPassword:{onSuccess:e=>{Dn(eh,r,"onSuccess",{method:"user-passcode",wallet:e}),a(e)},onFailure:e=>{Dn(eh,r,"onError",l1.a.USER_EXITED_SET_PASSWORD_FLOW),s(e)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:c,entropyIdVerifier:d,onFailure:s},connectWallet:u,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:o,shouldCreateEth:!1,shouldCreateSol:!1}}),ev(VL)})}async function eD({appId:e,action:r}){let n=await KB();if("link"===r&&!n)throw Dn(eh,"linkAccount","onError",l1.a.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${e}`}),new l1.P("User must be authenticated before linking an account.");if("login"===r&&n)throw Dn(eh,"login","onError",l1.a.UNKNOWN_AUTH_ERROR),new l1.P("Attempted to log in, but user is already logged in. Use a `link` helper instead.");eg.current=`privy:${e}`,em.current=r;let i=Fu();return t.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:e}}),new Promise(async(n,a)=>{let{name:s,logoUrl:o}=await Fd({api:t.api,providerAppId:e,requesterAppId:X.id});er({crossAppAuth:{appId:e,name:s,logoUrl:o,action:r,popup:i,onSuccess:n,onError:a}}),ev(G5)})}let eL={ready:g,authenticated:E,user:C,walletConnectors:t.connectors||null,connectWallet:e=>{e&&"target"in e&&e&&(e=void 0),er({externalConnectWallet:{walletList:e?.walletList&&e?.walletList.length>0?e.walletList:void 0,suggestedAddress:e?.suggestedAddress,walletChainType:e?.walletChainType}}),ev(E?G2:G3)},linkWallet:e=>{e&&"target"in e&&e&&(e=void 0),eS("siwe"),eg.current="siwe",em.current="link",er({...et,externalConnectWallet:{...et.externalConnectWallet,suggestedAddress:e?.suggestedAddress,walletList:e?.walletList,walletChainType:e?.walletChainType}}),ev(Kc)},startCrossAppAuthFlow:eD,linkEmail:()=>{eS("email"),eM("email"),eg.current="email",em.current="link",ev(Ko)},linkPhone:()=>{eS("sms"),eM("phone"),eg.current="sms",em.current="link",ev(Kl)},linkGoogle:async()=>{eS("google"),eM("google_oauth"),em.current="link",await eU.initLoginWithOAuth("google")},linkTwitter:async()=>{eS("twitter"),eM("twitter_oauth"),em.current="link",await eU.initLoginWithOAuth("twitter")},linkDiscord:async()=>{eS("discord"),eM("discord_oauth"),em.current="link",await eU.initLoginWithOAuth("discord")},linkGithub:async()=>{eS("github"),eM("github_oauth"),em.current="link",await eU.initLoginWithOAuth("github")},linkSpotify:async()=>{eS("spotify"),eM("spotify_oauth"),em.current="link",await eU.initLoginWithOAuth("spotify")},linkInstagram:async()=>{eS("instagram"),eM("instagram_oauth"),em.current="link",await eU.initLoginWithOAuth("instagram")},linkTiktok:async()=>{eS("tiktok"),eM("tiktok_oauth"),em.current="link",await eU.initLoginWithOAuth("tiktok")},linkLinkedIn:async()=>{eS("linkedin"),eM("linkedin_oauth"),em.current="link",await eU.initLoginWithOAuth("linkedin")},linkApple:async()=>{eS("apple"),eM("apple_oauth"),em.current="link",await eU.initLoginWithOAuth("apple")},linkPasskey:async()=>{eS("passkey"),eM("passkey"),await eU.initLinkWithPasskey(),ev(HW)},linkTelegram:async e=>{if(eS("telegram"),eM("telegram"),em.current="link",eg.current="telegram",e?.launchParams)if(e.launchParams.initDataRaw){let r=new Mm;t.startAuthFlow(r),r.meta.telegramAuthResult=void 0,r.meta.telegramWebAppData=Mw(e.launchParams.initDataRaw),er({telegramAuthModalData:{seamlessAuth:!0}}),ev(zd)}else Dn(eh,"linkAccount","onError",l1.a.INVALID_DATA,{linkMethod:"telegram"});else await eU.initLoginWithTelegram();ev(zd)},linkFarcaster:async()=>{eS("farcaster"),eM("farcaster"),await eU.initLoginWithFarcaster(),em.current="link",eg.current="farcaster",ev(WQ)},updateEmail:()=>{if(eS("email"),!C?.email)throw new l1.P("User does not have an email linked to their account.");em.current="update",eg.current="email",ev(KM)},updatePhone:()=>{if(eS("sms"),!C?.phone)throw new l1.P("User does not have a phone number linked to their account.");em.current="update",eg.current="sms",ev(KR)},login:async e=>{e&&"target"in e&&e&&(e=void 0);let t="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!g){let e=await new Promise(e=>{ei(t=>e.bind(t))});if(ei(null),e)return void console.warn(t)}!C||C.isGuest?(em.current="login",er({login:e}),ev(qk)):console.warn(t)},connectOrCreateWallet:async()=>{g||(await new Promise(e=>{ei(()=>e)}),ei(null)),E?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(em.current="connect-or-create",ev(z9))},logout:async()=>{if(em.current=null,eg.current=null,C&&t.clearProviderAcccessTokens(C),O(null),await t.logout(),C&&Z)try{await Z.clearMfa({userId:C.id})}catch(e){}k(null),_(!1),Dn(eh,"logout","onSuccess"),s(!1),$i.del($F),$i.del($B(X.id))},getAccessToken:(0,f.useCallback)(()=>t.getCustomerAccessToken(),[t]),unlinkWallet:async e=>{let r;return k(r=e.startsWith("0x")?await t.unlinkEthereumWallet(e):await t.unlinkSolanaWallet(e)),r},unlinkEmail:async e=>{let r=await t.unlinkEmail(e);return k(r),r},unlinkPhone:async e=>{let r=await t.unlinkPhone(e);return k(r),r},unlinkGoogle:async e=>{let r=await t.unlinkOAuth("google",e);return k(r),r},unlinkTwitter:async e=>{let r=await t.unlinkOAuth("twitter",e);return k(r),r},unlinkDiscord:async e=>{let r=await t.unlinkOAuth("discord",e);return k(r),r},unlinkGithub:async e=>{let r=await t.unlinkOAuth("github",e);return k(r),r},unlinkSpotify:async e=>{let r=await t.unlinkOAuth("spotify",e);return k(r),r},unlinkInstagram:async e=>{let r=await t.unlinkOAuth("instagram",e);return k(r),r},unlinkTiktok:async e=>{let r=await t.unlinkOAuth("tiktok",e);return k(r),r},unlinkLinkedIn:async e=>{let r=await t.unlinkOAuth("linkedin",e);return k(r),r},unlinkApple:async e=>{let r=await t.unlinkOAuth("apple",e);return k(r),r},unlinkFarcaster:async e=>{let r=await t.unlinkFarcaster(e);return k(r),r},unlinkTelegram:async e=>{let r=await t.unlinkTelegram(e);return k(r),r},unlinkPasskey:async e=>{let r=await KB();if(!r)throw Error("Must have valid access token to enroll in MFA");if(!Z)throw Error("Wallet proxy not initialized.");let n=X.passkeys.shouldUnenrollMfaOnUnlink;await Z.unlinkPasskeyAccount({credentialId:e,accessToken:r,removeAsMfa:n});let i=await t.getAuthenticatedUser();return k(i),i},unlinkCrossAppAccount:async({subject:e})=>{let r=C?.linkedAccounts.find(t=>"cross_app"===t.type&&t.subject===e)?.providerApp;if(!r)throw new l1.P("Invalid subject");t.storeProviderAccessToken(r.id,null);let n=await t.unlinkOAuth(`privy:${r.id}`,e);return k(n),n},setWalletRecovery:async e=>eR({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:e?.showAutomaticRecovery??!1}),setWalletPassword:async()=>eR({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(e,r)=>new Promise(async(i,a)=>{let{requesterAppId:s}=r?.uiOptions||{},o=e.message;if(!E||!C)return Dn(eh,"signMessage","onError",l1.a.MUST_BE_AUTHENTICATED),void a(Error("User must be authenticated before signing with a Privy wallet"));let l=r?.address?MT(C,r.address):MC(C);if(!l)throw new l1.P("User must have an embedded wallet.");let c=l.address,d=l.walletIndex??0,{entropyId:u,entropyIdVerifier:h}=MO(C,l),p=MX(l);if("string"!=typeof o||o.length<1)return Dn(eh,"signMessage","onError",l1.a.INVALID_MESSAGE),void a(Error("Message must be a non-empty string"));let f=async()=>{let r;if(!E)throw Error("User must be authenticated before signing with a Privy wallet");let i=await KB();if(!Z||!i||!await eU.recoverEmbeddedWallet({address:c}))throw Error("Unable to connect to wallet");if(t.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:c,requesterAppId:s}}),p){let t=(0,v.q)(e.message,{strict:!0}),a=await Y(n,async({message:e})=>await Z.signWithUserSigner({accessToken:i,requesterAppId:s,message:e}),{chain_type:"ethereum",method:"personal_sign",params:t?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"},wallet_id:l.id});if(!a.data||!("signature"in a.data))throw new MU("Unable to sign message");r=a.data.signature}else{let{response:e}=await Z.rpc({accessToken:i,entropyId:u,entropyIdVerifier:h,chainType:"ethereum",hdWalletIndex:d,requesterAppId:s,request:{method:"personal_sign",params:[o,c]}});r=e.data}return t.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:c,requesterAppId:s}}),r};if(ew({showWalletUIs:r?.uiOptions?.showWalletUIs}))try{let e=await f();Dn(eh,"signMessage","onSuccess",{signature:e}),i({signature:e})}catch(e){Dn(eh,"signMessage","onError",l1.a.UNABLE_TO_SIGN),a(e??new MU("Unable to sign message"))}else er({signMessage:{method:"personal_sign",data:o,confirmAndSign:f,onSuccess:e=>{Dn(eh,"signMessage","onSuccess",{signature:e}),i({signature:e})},onFailure:e=>{Dn(eh,"signMessage","onError",l1.a.UNABLE_TO_SIGN),a(e)},uiOptions:r?.uiOptions||{}},connectWallet:{recoveryMethod:l.recoveryMethod,connectingWalletAddress:c,entropyId:u,entropyIdVerifier:h,onCompleteNavigateTo:GE,isUnifiedWallet:p,onFailure:e=>{Dn(eh,"signMessage","onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),a(e)}}}),ev(VL)}),signTypedData:(e,r)=>new Promise(async(i,a)=>{let{requesterAppId:s}=r?.uiOptions||{};if(!E||!C)return Dn(eh,"signTypedData","onError",l1.a.MUST_BE_AUTHENTICATED),void a(Error("User must be authenticated before signing with a Privy wallet"));let o=r?.address?MT(C,r.address):MC(C);if(!o)throw new l1.P("User must have an embedded wallet.");let l=o.address,c=o.walletIndex??0,{entropyId:d,entropyIdVerifier:u}=MO(C,o),h=MX(o),p=$x(e),f=async()=>{let e;if(!E)throw Error("User must be authenticated before signing with a Privy wallet");let r=await KB();if(!Z||!r||!await eU.recoverEmbeddedWallet({address:l}))throw Error("Unable to connect to wallet");if(t.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:l,requesterAppId:s}}),h){let{domain:t,types:i,primaryType:a,message:l}=p,c=await Y(n,async({message:e})=>await Z.signWithUserSigner({accessToken:r,requesterAppId:s,message:e}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:t,types:i,primary_type:a,message:l}},wallet_id:o.id});if(!c.data||!("signature"in c.data))throw new MU("Unable to sign message");e=c.data.signature}else{let{response:t}=await Z.rpc({accessToken:r,entropyId:d,entropyIdVerifier:u,chainType:"ethereum",hdWalletIndex:c,requesterAppId:s,request:{method:"eth_signTypedData_v4",params:[l,p]}});e=t.data}return t.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:l,requesterAppId:s}}),e};if(ew({showWalletUIs:r?.uiOptions?.showWalletUIs}))try{let e=await f();Dn(eh,"signTypedData","onSuccess",{signature:e}),i({signature:e})}catch(e){Dn(eh,"signTypedData","onError",l1.a.UNABLE_TO_SIGN),a(e??new MU("Unable to sign message"))}else er({signMessage:{method:"eth_signTypedData_v4",data:p,confirmAndSign:f,onSuccess:e=>{Dn(eh,"signTypedData","onSuccess",{signature:e}),i({signature:e})},onFailure:e=>{Dn(eh,"signTypedData","onError",l1.a.UNABLE_TO_SIGN),a(e)},uiOptions:r?.uiOptions||{}},connectWallet:{recoveryMethod:o.recoveryMethod,connectingWalletAddress:o.address,entropyId:d,isUnifiedWallet:h,entropyIdVerifier:u,onCompleteNavigateTo:GE,onFailure:e=>{Dn(eh,"signMessage","onError",l1.a.UNKNOWN_CONNECT_WALLET_ERROR),a(e)}}}),ev(VL)}),sendTransaction:async(e,t)=>await eN({transaction:e,uiOptions:t?.uiOptions,fundWalletConfig:t?.fundWalletConfig,address:t?.address,signOnly:!1}),signTransaction:async(e,t)=>({signature:(await eN({transaction:e,uiOptions:t?.uiOptions,address:t?.address,signOnly:!0})).hash}),exportWallet:r=>new Promise(async(n,i)=>{if(!E||!C)return void i(Error("User must be authenticated before exporting their Privy wallet"));r&&"target"in r&&r&&(r=void 0);let a=r?.address?MT(C,r.address):MC(C),s=MP(C);if(!a||!s)return void i(new l1.P("User must have an embedded wallet."));let o=a.address,{entropyId:l,entropyIdVerifier:c}=MO(C,a),d=MX(a);if(!o)return void i(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!(0,b.P)(o))return void i(Error("Must provide a valid Ethereum address."));let u={recoveryMethod:a.recoveryMethod,connectingWalletAddress:a.address,isUnifiedWallet:d,entropyId:l,entropyIdVerifier:c,onCompleteNavigateTo:V$,onFailure:i,shouldForceMFA:!0};er(et),await KB()&&Z?Z?(er({keyExport:{appId:e.appId,appClientId:e.clientId,origin:t.apiUrl,address:a.address,entropyId:l,entropyIdVerifier:c,hdWalletIndex:a.walletIndex,chainType:a.chainType,walletId:a.id,isUnifiedWallet:d,imported:a.imported,onSuccess:n,onFailure:i},connectWallet:u}),ev(VL)):i(Error("Must have a Privy wallet before exporting")):i(Error("Must have valid access token to enroll in MFA"))}),promptMfa:eO,async init(e){switch(e){case"sms":return void await t.initMfaSmsVerification();case"passkey":return await t.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${e}`)}},async submit(e,t){switch(e){case"totp":case"sms":if("string"!=typeof t)throw new l1.P("Invalid MFA code");ed.current?.resolve({mfaMethod:e,mfaCode:t,relyingParty:window.origin}),await new Promise((e,t)=>{eu.current={resolve:e,reject:t}});break;case"passkey":let n;if("string"==typeof t)throw new l1.P("Invalid authenticator response");let i=await r.e(5665).then(r.bind(r,5665)),a={id:(n=await i.startAuthentication(t)).id,raw_id:n.rawId,response:{client_data_json:n.response.clientDataJSON,authenticator_data:n.response.authenticatorData,signature:n.response.signature,user_handle:n.response.userHandle},authenticator_attachment:n.authenticatorAttachment,client_extension_results:{app_id:n.clientExtensionResults.appid,cred_props:n.clientExtensionResults.credProps,hmac_create_secret:n.clientExtensionResults.hmacCreateSecret},type:n.type};ed.current?.resolve({mfaMethod:e,mfaCode:a,relyingParty:window.origin}),await new Promise((e,t)=>{eu.current={resolve:e,reject:t}});break;default:throw ed.current?.reject(new l1.P("Unsupported MFA method")),new l1.P(`Unsupported MFA method: ${e}`)}},cancel(){ed.current?.reject(new l1.P("MFA canceled"))},async initEnrollmentWithSms(e){let t=await KB();if(!t||!Z)throw Error("Must have valid access token to enroll in MFA");await Z.initEnrollMfa({method:"sms",accessToken:t,phoneNumber:e.phoneNumber})},enrollInMfa:e=>new Promise((t,r)=>{if(!e)return eU.closePrivyModal(),void t();X.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),er({mfaEnrollmentFlow:{mfaMethods:X.mfa.methods,shouldUnlinkOnUnenrollMfa:X.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:t,onFailure:r}}),ev(KT)}),async initEnrollmentWithTotp(){let e=await KB();if(!e||!Z)throw Error("Must have valid access token to enroll in MFA");let t=await Z.initEnrollMfa({method:"totp",accessToken:e});return{secret:t.secret,authUrl:t.authUrl}},async submitEnrollmentWithSms(e){let r=await KB();if(!r||!Z)throw Error("Must have valid access token to enroll in MFA");await Z.submitEnrollMfa({method:"sms",accessToken:r,phoneNumber:e.phoneNumber,code:e.mfaCode}),k(await t.getAuthenticatedUser())},async submitEnrollmentWithTotp(e){let r=await KB();if(!r||!Z)throw Error("Must have valid access token to enroll in MFA");await Z.submitEnrollMfa({method:"totp",accessToken:r,code:e.mfaCode}),k(await t.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:e},r={}){let n=await KB();if(!n||!Z)throw Error("Must have valid access token to enroll in MFA");await Z.submitEnrollMfa({method:"passkey",accessToken:n,credentialIds:e,removeForLogin:r.removeForLogin}),k(await t.getAuthenticatedUser())},async unenroll(e,r={}){let n=await KB();if(!n||!Z)throw Error("Must have valid access token to remove MFA");"passkey"===e?await Z.submitEnrollMfa({method:"passkey",accessToken:n,credentialIds:[],removeForLogin:r.removeForLogin}):await Z.unenrollMfa({method:e,accessToken:n}),k(await t.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let e=await KB(),r=C?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!e)throw Error("Must have valid access token to connect with Farcaster");if(!Z||!r)throw Error("Must have an embedded wallet to use Farcaster signers");if(MX(r))throw new l1.P("Farcaster signers are only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Learn more at https://docs.privy.io/recipes/enclave-wallet-migration-guide");if(!C?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eU.recoverEmbeddedWallet({address:r.address}))throw Error("Unable to connect to wallet");let n=await Z.initFarcasterSigner({address:r.address,hdWalletIndex:null,accessToken:e,mfaCode:null,mfaMethod:null,relyingParty:window.origin});"approved"===n.status&&k(await t.getAuthenticatedUser()||C||null),er({farcasterSigner:n}),ev(Kr)},getFarcasterSignerPublicKey:async()=>{let e,t=await KB(),r=C?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!Z||!r)throw Error("Must have an embedded wallet to use Farcaster signers");if(MX(r))throw new l1.P("Farcaster signers are only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Learn more at https://docs.privy.io/recipes/enclave-wallet-migration-guide");if(!C?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eU.recoverEmbeddedWallet({address:r.address}))throw Error("Unable to connect to wallet");if(!C.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return e=C.farcaster.signerPublicKey.slice(2),Uint8Array.from(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},signFarcasterMessage:async e=>{let t=await KB(),n=C?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!Z||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(MX(n))throw new l1.P("Farcaster signers are only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Learn more at https://docs.privy.io/recipes/enclave-wallet-migration-guide");if(!C?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eU.recoverEmbeddedWallet({address:n.address}))throw Error("Unable to connect to wallet");if(!C.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let i=await r.e(5665).then(r.bind(r,5665)),a=await Z.signFarcasterMessage({address:n.address,hdWalletIndex:null,accessToken:t,mfaCode:null,mfaMethod:null,payload:{hash:i.bufferToBase64URLString(e)},fid:BigInt(C.farcaster.fid),relyingParty:window.origin});return new Uint8Array(i.base64URLStringToBuffer(a.signature))},signMessageWithCrossAppWallet(e,{address:r,chainId:n}){let i=C?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===r));return Fp({user:C,client:t,address:r,requesterAppId:X.id,request:{method:i?"privy_signSmartWalletMessage":"personal_sign",params:[e,r],chainId:n},reconnect:eD})},signTypedDataWithCrossAppWallet(e,{address:r,chainId:n}){let i=C?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===r)),a=$x(e);return Fp({user:C,client:t,address:r,requesterAppId:X.id,request:{method:i?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[r,a],chainId:n},reconnect:eD})},sendTransactionWithCrossAppWallet(e,{address:r}){let n=C?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===r));return Fp({user:C,client:t,address:r,requesterAppId:X.id,request:{method:n?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[e],chainId:e.chainId},reconnect:eD})},isModalOpen:a,mfaMethods:X.mfa.methods};o=eL.signMessage,l=eL.signTypedData,d=async(e,t)=>await eN({transaction:e,...t,signOnly:!1}),c=async(e,t)=>({signature:(await eN({transaction:e,...t,signOnly:!0})).hash});let eU={privy:n,setAuthenticated:_,setUser:k,setIsNewUser:j,isNewUserThisSession:P,pendingTransaction:null,walletConnectionStatus:R,connectors:t.connectors?.walletConnectors??[],solanaWallets:S,rpcConfig:X.rpcConfig,chains:X.chains,appId:e.appId,showFiatPrices:"native-token"!==X.embeddedWallets.priceDisplay.primary,clientAnalyticsId:t.clientAnalyticsId,onCustomAuthAuthenticated:eb,hideWalletUIs:ey,isHeadlessSigning:(0,f.useCallback)(ew,[X.embeddedWallets.showWalletUIs]),emailOtpState:F,setEmailOtpState:B,smsOtpState:W,setSmsOtpState:z,oAuthState:V,setOAuthState:G,telegramAuthState:K,setTelegramAuthState:J,siweState:q,setSiweState:H,isHeadlessOAuthLoading:$,nativeTokenSymbolForChainId:e=>X.chains.find(t=>t.id===Number(e))?.nativeCurrency.symbol,initializeWalletProxy:async e=>{if(Z)return Z;let t=new Promise(e=>{ea.current=e}),r=new Promise(t=>setTimeout(()=>t(null),e)),n=await Promise.race([t,r]);return ea.current=null,n},getAuthFlow:()=>t.authFlow,getAuthMeta:()=>t.authFlow?.meta,client:t,closePrivyModal:async(r={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let n,a=g&&E&&C;a&&eg.current&&(n=e$(C)),"login"===em.current?r.shouldCallAuthOnSuccess&&a&&eg.current?Dn(eh,"login","onComplete",{user:C,isNewUser:P,wasAlreadyAuthenticated:!1,loginMethod:eg.current,loginAccount:n??null}):Dn(eh,"login","onError",l1.a.USER_EXITED_AUTH_FLOW):"link"===em.current&&n?r.isSuccess&&a&&eg.current?Dn(eh,"linkAccount","onSuccess",{user:C,linkMethod:eg.current,linkedAccount:n}):eg.current&&Dn(eh,"linkAccount","onError",l1.a.USER_EXITED_LINK_FLOW,{linkMethod:eg.current}):"update"===em.current&&n?r.isSuccess&&a&&eg.current?Dn(eh,"update","onSuccess",{user:C,updateMethod:eg.current,updatedAccount:n}):eg.current&&Dn(eh,"update","onError",l1.a.USER_EXITED_UPDATE_FLOW,{linkMethod:eg.current}):"connect-or-create"===em.current&&(A[0]?Dn(eh,"connectOrCreateWallet","onSuccess",{wallet:A[0]}):Dn(eh,"connectOrCreateWallet","onError",l1.a.USER_EXITED_AUTH_FLOW));let o=N&&G1.has(N),l=N===BQ&&et.errorModalData&&G1.has(et.errorModalData.previousScreen);if((o||l)&&et.funding){let t,r=G1.get(N)??null;if("solana"===et.funding.chainType){let e=i(qZ);if(e)try{t=BigInt(await e.getBalance({address:et.funding.address,cluster:et.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Dn(eh,"fundSolanaWallet","onUserExited",{address:et.funding.address,cluster:et.funding.cluster,fundingMethod:r,balance:t})}else{let n=$l(et.funding.chain.id,X.chains,X.rpcConfig,{appId:e.appId});try{t=await n.getBalance({address:et.funding.address})}catch{console.error("Unable to pull wallet balance")}Dn(eh,"fundWallet","onUserExited",{address:et.funding.address,chain:et.funding.chain,fundingMethod:r,balance:t})}}er({...et,externalConnectWallet:{suggestedAddress:void 0}}),em.current=null,eg.current=null,j(!1),s(!1),setTimeout(()=>{t.authFlow=void 0},200)},openPrivyModal:ev,connectWallet:eC,initLoginWithWallet:async(e,t,r,n)=>{MB(e)?(eg.current="siwe",ek(e,t,r)):(eg.current="siws",eA(e,t,r,n))},loginWithWallet:async()=>{let e,r,n;if(!g)throw new l1.am;if(t.authFlow instanceof Ms?e="siwe":t.authFlow instanceof Mc&&(e="siws"),!e)throw new l1.P("Must initialize SIWE/SIWS flow first.");if(null!==await t.getAccessToken())try{({user:r}=await t.link()),eg.current=e}catch(t){throw Dn(eh,"linkAccount","onError",t.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}else try{({user:r,isNewUser:n}=await t.authenticate()),eg.current=e}catch(e){throw Dn(eh,"login","onError",e.privyErrorCode||l1.a.GENERIC_CONNECT_WALLET_ERROR),e}k(r||C||null),j(n||!1),_(!0)},delegateWallet:async({address:e,chainType:t,showDelegationUIs:r})=>new Promise(async(n,i)=>{let a=await KB();if(!E||!C||!a)throw new l1.P("User must be authenticated and have an embedded wallet to delegate actions.");if("solana"!==t&&"ethereum"!==t)throw new l1.P("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let s=eU.walletProxy??await eU.initializeWalletProxy(15e3);if(!s)throw new l1.P("Wallet proxy not initialized.");if((({address:e,user:t})=>!!Fn(t).find(t=>t.address===e))({address:e,user:C}))return n();let o=MT(C,e);if(!o)throw new l1.P("Address to delegate is not associated with current user.");if(MX(o))throw new l1.P("useDelegatedActions is only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/enclave-wallet-migration-guide");let l=Ft({address:e,user:C}),c=Fr({address:e,user:C}),d=async()=>{await s.createDelegatedAction({accessToken:a,rootWallet:c,delegatedWallets:[l]}),await eU.refreshSessionAndUser()};if(await eU.recoverEmbeddedWallet({address:e}),r)er({delegatedActions:{consent:{address:e,onDelegate:d,onSuccess:async()=>{n()},onError:async e=>{i(e)}}}}),ev(G6);else try{await d(),n()}catch(e){i(e)}}),revokeDelegatedWallets:async({showDelegationUIs:e})=>new Promise(async(r,n)=>{if(!E||!C)throw new l1.P("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let i=Fn(C);if(0===i.length)throw new l1.P("User has no delegated wallets to revoke.");if(i.some(MX))throw new l1.P("useDelegatedActions is only supported for device reassembled embedded wallets and this app uses enclave embedded wallets. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/enclave-wallet-migration-guide");let a=async()=>{await t.revokeDelegatedWallet(),await eU.refreshSessionAndUser()};if(e)er({delegatedActions:{revoke:{onRevoke:a,onSuccess:async()=>{r()},onError:async e=>{n(e)}}}}),ev(G7);else try{await a(),r()}catch(e){n(e)}}),initLoginWithFarcaster:async(e,r)=>{let n=new $j(e,r);t.startAuthFlow(n);try{eg.current="farcaster",await n.initializeFarcasterConnect()}catch(e){throw"login"===em.current?Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR):"link"===em.current&&Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),e}},loginWithFarcaster:async()=>{let e,r;if(!g)throw new l1.am;if(!(t.authFlow instanceof $j))throw new l1.P("Must initialize Farcaster flow first.");if(null!==await t.getAccessToken())try{({user:e}=await t.link()),eg.current="farcaster"}catch(e){throw Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),e}else try{({user:e,isNewUser:r}=await t.authenticate()),eg.current="farcaster"}catch(e){throw Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}k(e||null),j(r||!1),_(!0)},async crossAppAuthFlow({appId:e,popup:r,action:n}){let i=`privy:${e}`;eg.current=i;let{url:a,stateCode:s,codeVerifier:o}=await async function({api:e,appId:t}){let r=$Z(),n=$Z(),i=await $Q(r);try{let{url:a}=await e.post(l1.m,{provider:`privy:${t}`,redirect_to:window.location.href,code_challenge:i,state_code:n});return{url:a,stateCode:n,codeVerifier:r}}catch(e){throw(0,l1.f)(e)}}({api:t.api,appId:e});if(!a)throw t.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:e}}),new l1.P("No authorization URL returned for cross-app auth.");try{let l=await async function({url:e,popup:t}){return t.location=e,new Promise((e,r)=>{let n,i=setTimeout(()=>{r(new l1.P("Authorization request timed out after 2 minutes.")),a()},12e4);function a(){t?.close(),window.removeEventListener("message",o)}let s=setInterval(()=>{t?.closed&&!n&&(a(),clearInterval(s),clearTimeout(i),r(new l1.P("User rejected request")))},300);function o(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(clearTimeout(i),e(t.data),a()),"PRIVY_OAUTH_ERROR"===t.data.type&&(clearTimeout(i),r(new l1.P(t.data.error)),a()),t.data.type===Fl&&((n=new BroadcastChannel(Fo)).onmessage=o))}window.addEventListener("message",o)})}({url:a,popup:r,provider:i}),c=l.stateCode,d=l.authorizationCode;if(c!==s)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:i,storedStateCode:s??"",returnedStateCode:c??""}}),new l1.P("Unexpected auth flow. This may be a phishing attempt.",void 0,l1.a.OAUTH_UNEXPECTED);let u=await async function({appId:e,stateCode:t,codeVerifier:r,authorizationCode:n,action:i,client:a}){if(!n||!t)throw new l1.P("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===n)throw new l1.P("User denied confirmation during cross-app auth flow");try{let s=new Fc({authorizationCode:n,stateCode:t,codeVerifier:r,provider:`privy:${e}`});a.startAuthFlow(s);let o="link"===i?await a.link():await a.authenticate(),l=o.oAuthTokens?.accessToken;return console.debug(),l}catch(t){let e=(0,l1.f)(t);if(e.privyErrorCode)throw new l1.P(e.message||"Invalid code during cross-app auth flow.",void 0,e.privyErrorCode);if("User denied confirmation during cross-app auth flow"===e.message)throw new l1.P("Invalid code during cross-app auth flow.",void 0,l1.a.OAUTH_USER_DENIED);throw new l1.P("Invalid code during cross-app auth flow.",void 0,l1.a.UNKNOWN_AUTH_ERROR)}}({appId:e,codeVerifier:o,stateCode:c,authorizationCode:d,action:n,client:t});u&&t.storeProviderAccessToken(e,u);let h=await eU.refreshSessionAndUser();if(!h)throw new l1.P("Unable to update user");return t.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:e}}),h}catch(e){throw t.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:e.toString(),provider:i}}),e}},async initLoginWithOAuth(e,r,n){if(eg.current=e,!$n()||"google"===e&&zg(window.navigator.userAgent))return void ev(Ka);"twitter"===e&&window.opener&&window.opener.postMessage({type:Fl},"*"),$i.del($H),$i.del($V);let i=new $X({provider:e,disableSignup:!!n,withPrivyUi:!0});r&&i.addCaptchaToken(r),t.startAuthFlow(i);let a=await t.authFlow.getAuthorizationUrl();a&&a.url&&("twitter"===e&&m.m0&&(a.url=a.url.replace("x.com","twitter.com")),window.location.assign(a.url))},async initLoginWithTelegram(e,r){if(!g)throw new l1.am;eg.current="telegram";let n=new Mm(e,r);t.startAuthFlow(n),J({status:"loading"}),n.meta.telegramWebAppData=void 0,n.meta.telegramAuthResult=await new Promise((e,t)=>X.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:X.loginConfig.telegramAuthConfiguration.botId,request_access:!0},r=>r?e(r):t(new l1.P("Telegram auth failed or was canceled by the client"))):t(new l1.P("Telegram was not initialized")):t(new l1.P("Telegram Auth configuration is not loaded")))},async loginWithTelegram(e){let r,n;if(!(t.authFlow instanceof Mm))throw new l1.P("Must initialize Telegram flow before calling loginWithTelegram");t.authFlow.meta.captchaToken||=e?.captchaToken;let i=await KB(),a=e?.intent||em.current;if("login"===a)try{let e=await t.authenticate();r=e.user,n=e.isNewUser,eg.current="telegram"}catch(e){throw Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}else{if("link"!==a)throw new l1.P("Unknown auth intent");try{r=(await t.link()).user,eg.current="telegram"}catch(e){throw Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),e}}k(r),j(n||!1),_(!0),J({status:"done"});let s=r?.linkedAccounts.find(({type:e})=>"telegram"===e)||null;return{user:r,isNewUser:n||!1,wasAlreadyAuthenticated:!!i,loginAccount:s}},async loginWithOAuth(e){let r,n,i;if(!(t.authFlow instanceof $X))throw new l1.P("Must initialize OAuth flow before calling loginWithOAuth");let a=$i.get($z),s=t.authFlow.meta.stateCode;if(a!==s)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e,storedStateCode:a??"",returnedStateCode:s??""}}),new l1.P("Unexpected auth flow. This may be a phishing attempt.",void 0,l1.a.OAUTH_UNEXPECTED);if(null!==await t.getAccessToken())try{let n=await t.link();r=n.user,i=n.oAuthTokens,eg.current=e}catch(t){throw Dn(eh,"linkAccount","onError",t.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}else try{let a=await t.authenticate();r=a.user,n=a.isNewUser,i=a.oAuthTokens,eg.current=e}catch(t){throw"login"===em.current?Dn(eh,"login","onError",t.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR):"link"===em.current&&Dn(eh,"linkAccount","onError",t.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}return k(r),j(n||!1),_(!0),i&&r&&Dn(eh,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:i,user:r}),i},passkeyAuthState:L,setPasskeyAuthState:U,async initSignupWithPasskey({captchaToken:e,withPrivyUi:r}){let n=new Mi({captchaToken:e,setPasskeyAuthState:U});t.startAuthFlow(n),em.current="login";try{eg.current="passkey",U({status:"generating-challenge"}),await n.initRegisterFlow(r),U({status:"awaiting-passkey"})}catch(e){throw U({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}},async signupWithPasskey(){let e,r;if(!g)throw new l1.am;if(!(t.authFlow instanceof Mi))throw new l1.P("Must initialize Passkey flow first.");if("passkey"!==eg.current){let e=new l1.P("Must init login with Passkey flow first.");throw U({status:"error",error:e}),e}let n=await KB();try{eg.current="passkey",U({status:"awaiting-passkey"}),{user:e,isNewUser:r}=await t.authenticate()}catch(e){throw U({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}k(e),j(r||!1),_(!0),U({status:"done"});let i=e?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:e,isNewUser:r||!1,wasAlreadyAuthenticated:!!n,loginAccount:i}},async initLoginWithPasskey({captchaToken:e,withPrivyUi:r}){let n=new Mi({captchaToken:e,setPasskeyAuthState:U});t.startAuthFlow(n),em.current="login";try{eg.current="passkey",U({status:"generating-challenge"}),await n.initAuthenticationFlow(r),U({status:"awaiting-passkey"})}catch(e){throw U({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}},async loginWithPasskey(e){let r,n;if(!g)throw new l1.am;if(!(t.authFlow instanceof Mi))throw new l1.P("Must initialize Passkey flow first.");if(e?.credentialIds&&(t.authFlow.meta.allowedCredentialsIds=e.credentialIds),"passkey"!==eg.current){let e=new l1.P("Must init login with Passkey flow first.");throw U({status:"error",error:e}),e}let i=await KB();try{eg.current="passkey",U({status:"awaiting-passkey"}),{user:r,isNewUser:n}=await t.authenticate()}catch(e){throw U({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}k(r),j(n||!1),_(!0),U({status:"done"});let a=r?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:r,isNewUser:n||!1,wasAlreadyAuthenticated:!!i,loginAccount:a}},async initLinkWithPasskey(e){let r=new Mi({captchaToken:e});t.startAuthFlow(r),em.current="link",eg.current="passkey",U({status:"generating-challenge"});try{await r.initLinkFlow(),U({status:"awaiting-passkey"})}catch(e){throw Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),U({status:"error",error:e}),e}},async linkWithPasskey(){let e;if(!g)throw new l1.am;if(!(t.authFlow instanceof Mi))throw new l1.P("Must initialize Passkey flow first.");if("passkey"!==eg.current)throw new l1.P("Must init login with Passkey flow first.");try{eg.current="passkey",{user:e}=await t.link()}catch(e){throw Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),e}return k(e||C||null),U({status:"done"}),e},async initLoginWithHeadlessOAuth(e,r,n){if(!$n()||"google"===e&&zg(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let i=new $X({provider:e,withPrivyUi:!1,disableSignup:n??!1});r&&i.addCaptchaToken(r),G({status:"loading"});let a=await t.startAuthFlow(i).getAuthorizationUrl();a?.url&&window.location.assign(a.url)},async loginWithHeadlessOAuth(e){let r,n,i;M(!0),G({status:"loading"}),t.startAuthFlow(new $X(e));let a=$i.get($z),s=e.stateCode;if(a!==s)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e.provider,storedStateCode:a??"",returnedStateCode:s??""}}),M(!1),new l1.P("Unexpected auth flow. This may be a phishing attempt.",void 0,l1.a.OAUTH_UNEXPECTED);if(null!==await t.getAccessToken())try{({user:r,oAuthTokens:i}=await t.link()),eg.current=e.provider;let n=e$(r);r&&n&&Dn(eh,"linkAccount","onSuccess",{user:r,linkMethod:eg.current,linkedAccount:n})}catch(t){throw M(!1),Dn(eh,"linkAccount","onError",t.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:e.provider}),t}else try{({user:r,isNewUser:n,oAuthTokens:i}=await t.authenticate()),eg.current=e.provider;let a=e$(r);r&&a&&void 0!==n&&Dn(eh,"login","onComplete",{user:r,isNewUser:n,wasAlreadyAuthenticated:!1,loginMethod:eg.current,loginAccount:a})}catch(e){throw M(!1),G({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}return k(r),j(n||!1),_(!0),M(!1),G({status:"done"}),i&&r&&Dn(eh,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:i,user:r}),r??void 0},initLoginWithEmail:async({email:e,captchaToken:r,disableSignup:n,withPrivyUi:i})=>{let a=new $e({email:e,captchaToken:r,disableSignup:n});t.startAuthFlow(a);try{eg.current="email",B({status:"sending-code"}),await a.sendCodeEmail({withPrivyUi:i}),B({status:"awaiting-code-input"})}catch(e){throw B({status:"error",error:e}),"login"===em.current?Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR):"link"===em.current&&Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),e}},initUpdateEmail:async(e,r,n)=>{let i=new $t(e,r,n);t.startAuthFlow(i);try{await i.sendCodeEmail({withPrivyUi:!0})}catch(e){Dn(eh,"update","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR,{linkMethod:eg.current})}},initUpdatePhone:async(e,r,n)=>{let i=new Mu(e,r,n);t.startAuthFlow(i);try{await i.sendSmsCode({withPrivyUi:!0})}catch(e){Dn(eh,"update","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR,{linkMethod:eg.current})}},initLoginWithSms:async({phoneNumber:e,captchaToken:r,disableSignup:n,withPrivyUi:i})=>{z({status:"sending-code"});let a=new Md({phoneNumber:e,captchaToken:r,disableSignup:n});t.startAuthFlow(a);try{eg.current="sms",await a.sendSmsCode({withPrivyUi:i}),z({status:"awaiting-code-input"})}catch(e){throw z({status:"error",error:e}),"login"===em.current?Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR):"link"===em.current&&Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),e}},resendEmailCode:async()=>{await t.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await t.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async e=>{let r,n;function i(e){t.authFlow instanceof $e?B(e):t.authFlow instanceof Md&&z(e)}if(i({status:"submitting-code"}),!g){let e=new l1.am;throw i({status:"error",error:e}),e}if(t.authFlow instanceof $e)t.authFlow.meta.emailCode=e.trim();else{if(!(t.authFlow instanceof Md)){let e=new l1.P("Must initialize a passwordless code flow first");throw i({status:"error",error:e}),e}t.authFlow.meta.smsCode=e.trim()}let a=await KB();if("link"===em.current)try{({user:r}=await t.link())}catch(e){throw i({status:"error",error:e}),Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:eg.current}),e}else if("update"===em.current)try{({user:r}=await t.link())}catch(e){throw i({status:"error",error:e}),Dn(eh,"update","onError",e.privyErrorCode||l1.a.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:eg.current}),e}else try{({user:r,isNewUser:n}=await t.authenticate())}catch(e){throw i({status:"error",error:e}),Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),e}let s=r||C;k(s||null),j(n||!1),_(!0),i({status:"done"});let o=null;return t.authFlow instanceof $e?o=s?.linkedAccounts.find(({type:e})=>"email"===e)||null:t.authFlow instanceof Md&&(o=s?.linkedAccounts.find(({type:e})=>"phone"===e)||null),{user:s,isNewUser:n||!1,wasAlreadyAuthenticated:!!a,linkedAccount:o}},generateSiweMessage:async({address:e,chainId:r,captchaToken:n})=>{em.current=E?"link":"login",eg.current="siwe",H({status:"generating-message"});let i=await t.generateSiweNonce({address:e,captchaToken:n});return H({status:"awaiting-signature"}),Ma({address:e,chainId:r.replace("eip155:",""),nonce:i})},generateSiweMessageForSmartWallet:async({address:e,chainId:r})=>{let n=await t.generateSiweNonce({address:e});return Ma({address:e,chainId:r.replace("eip155:",""),nonce:n})},linkSmartWallet:async({message:e,signature:r,smartWalletType:n})=>{let i;i=await t.linkSmartWallet({message:e,signature:r,smartWalletType:n}),k((i=await eU.refreshSessionAndUser()??i)||C||null)},loginWithSiwe:async({message:e,signature:r,captchaToken:n,disableSignup:i})=>{let a,s=null;try{if(C)throw Error("User already authenticated");let o=new Ms(t,void 0,n,i,{message:e,signature:r});t.startAuthFlow(o),eg.current="siwe",em.current="login",H({status:"submitting-signature"});let l=await t.authenticate();if({user:s,isNewUser:a}=l,!s)throw Error("Authentication failed - no user returned")}catch(e){throw Dn(eh,"login","onError",e.privyErrorCode||l1.a.UNKNOWN_AUTH_ERROR),H({status:"error",error:e}),e}return k(s),j(a||!1),_(!0),H({status:"done"}),em.current=null,eg.current=null,s},linkWithSiwe:async({message:e,signature:r,chainId:n,walletClientType:i,connectorType:a})=>{let s;eS("siwe");let o=null;try{H({status:"submitting-signature"}),s=await t.linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:a}),s=await eU.refreshSessionAndUser()??s,H({status:"done"}),(o=e$(s)||null)&&Dn(eh,"linkAccount","onSuccess",{user:s,linkMethod:"siwe",linkedAccount:o})}catch(e){throw Dn(eh,"linkAccount","onError",e.privyErrorCode||l1.a.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),em.current=null,eg.current=null,H({status:"error",error:e}),e}let l=s||C;return k(l||null),em.current=null,eg.current=null,{user:l,linkedAccount:o}},refreshSessionAndUser:async()=>{let e=await t.getAuthenticatedUser();return _(!!e),k(e),e},walletProxy:Z,createAnalyticsEvent:({eventName:e,payload:r,timestamp:n})=>t.createAnalyticsEvent({eventName:e,payload:r,timestamp:n}),acceptTerms:async()=>{let e=await t.acceptTerms();return k(e),e},getUsdTokenPrice:e=>t.getUsdTokenPrice(e),getUsdPriceForSol:()=>t.getUsdPriceForSol(),getSplTokenMetadata:e=>t.getSplTokenMetadata(e),recoverEmbeddedWallet:async e=>new Promise(async(r,n)=>{if(!C)return void r(!0);let i=e?.address?MT(C,e.address):MP(C)||MI(C)||MS(C);if(!i||MX(i))return void r(!0);let a=await KB();if(!a||!Z||!i)return void n(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:s,entropyIdVerifier:o}=MO(C,i);try{await Z.connect({accessToken:a,entropyId:s,entropyIdVerifier:o}),r(!0)}catch(e){if(Up(e)&&"privy"===i.recoveryMethod){let e;t.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:i.address}});try{e=await Z.recover({entropyId:s,entropyIdVerifier:o,accessToken:a})}catch(e){return void n(e)}e.entropyId||n(Error("Unable to recover wallet")),t.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:i.address}}),r(!0)}else Up(e)&&"privy"!==i.recoveryMethod&&"privy-v2"!==i.recoveryMethod?(er({recoverWallet:{entropyId:s,entropyIdVerifier:o,onFailure:n,onSuccess:()=>r(!0)},recoveryOAuthStatus:{provider:i.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),ev(qU(i.recoveryMethod))):n(e)}}),exportSolanaWallet:r=>new Promise(async(n,i)=>{if(!E||!C)return void i(Error("User must be authenticated before exporting their Privy wallet"));let a=r?.address?MT(C,r.address):MA(C),s=MP(C);if(!a||!s)return void i(new l1.P("User must have an embedded wallet."));let{entropyId:o,entropyIdVerifier:l}=MO(C,a);if(!a||!s)return void i(Error("Must have a Privy wallet before exporting"));let c=MX(a);await KB()&&Z?Z?(er({connectWallet:{recoveryMethod:a.recoveryMethod,connectingWalletAddress:a.address,isUnifiedWallet:c,entropyId:o,entropyIdVerifier:l,onCompleteNavigateTo:V$,onFailure:i,shouldForceMFA:!0},keyExport:{appId:e.appId,appClientId:e.clientId,origin:t.apiUrl,address:a.address,entropyId:o,entropyIdVerifier:l,hdWalletIndex:a.walletIndex,chainType:a.chainType,walletId:a.id,isUnifiedWallet:c,imported:a.imported,onSuccess:n,onFailure:i}}),ev(VL)):i(Error("Must have a Privy wallet before exporting")):i(Error("Must have valid access token to enroll in MFA"))}),setReadyToTrue:e=>{x(!0),en?.(e)},updateWallets:()=>ej(),fundWallet:async(e,t)=>{er({funding:VP({address:e,appConfig:X,fundWalletConfig:t,methodScreen:VA})}),ev(VA)},openModal:ev,requestFarcasterSignerStatus:async e=>{let r=await KB(),n=C?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!r)throw Error("Must have valid access token to connect with Farcaster");if(!Z||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(!C?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let i=await t.requestFarcasterSignerStatus(e);return"approved"===i.status&&k(await t.getAuthenticatedUser()||C||null),i},connectCoinbaseSmartWallet:async()=>{X.externalWallets.coinbaseWallet.config.preference={...X.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let e=t.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||t.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(e)return e.updateConnectionPreference("smartWalletOnly"),eC(e);await e_("coinbase_wallet","coinbase_smart_wallet")},initiateAccountTransfer:async({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:a,telegramWebAppData:s,farcasterEmbeddedAddress:o,oAuthUserInfo:l})=>{let c=await t.sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:a,telegramWebAppData:s,farcasterEmbeddedAddress:o,oAuthUserInfo:l});return k(c),c}};u=eU.recoverEmbeddedWallet,h=eU.recoverEmbeddedWallet;let eF=(0,f.useMemo)(()=>({wallets:A,ready:es&&ep}),[A,es,ep]),eB=t.authFlow instanceof Mm,eW=!X.headless&&X.captchaEnabled&&!E&&(g||eB);return(0,p.jsx)(KU.Provider,{value:!0,children:(0,p.jsx)(R6.Provider,{value:eL,children:(0,p.jsx)(De.Provider,{value:eh,children:(0,p.jsx)(Ua.Provider,{value:eF,children:(0,p.jsx)(Mf,{...X,children:(0,p.jsxs)(l1.I.Provider,{value:eU,children:[(0,p.jsx)(Bv,{children:(0,p.jsxs)(R$,{data:et,setModalData:er,setInitialScreen:O,initialScreen:N,authenticated:E,open:a,children:[e.children,(0,p.jsx)(KL,{customAuth:X.customAuth}),eW&&(0,p.jsx)(R4,{delayedExecution:!1}),(0,p.jsx)(U2,{}),(0,p.jsx)(UW,{theme:{...X.appearance.palette||{}}}),!X.render.standalone&&(0,p.jsx)(UQ,{open:a})]})}),(0,p.jsx)(Fe,{appId:e.appId,appClientId:e.clientId,clientAnalyticsId:t.clientAnalyticsId,origin:t.apiUrl,mfaMethods:C?.mfaMethods,mfaPromise:ed,mfaSubmitPromise:eu,onLoad:Q,onLoadFailed:()=>null}),X.loginConfig.telegramAuthConfiguration&&(0,p.jsx)(Dp,{$if:!0,children:(0,p.jsx)(U1,{scriptHost:e.apiUrl||$N,botUsername:X.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})}},84677:function(e,t,r){var n;!function(i,a){"use strict";var s="function",o="undefined",l="object",c="string",d="major",u="model",h="name",p="type",f="vendor",g="version",m="architecture",y="console",w="mobile",v="tablet",b="smarttv",x="wearable",E="embedded",_="Amazon",C="Apple",k="ASUS",A="BlackBerry",I="Browser",S="Chrome",T="Firefox",P="Google",j="Huawei",N="Microsoft",O="Motorola",$="Opera",M="Samsung",R="Sharp",D="Sony",L="Xiaomi",U="Zebra",F="Facebook",B="Chromium OS",W="Mac OS",z=" Browser",q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===c&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},J=function(e,t){for(var r,n,i,o,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(r=n=0;r<h.length&&!c&&h[r];)if(c=h[r++].exec(e))for(i=0;i<p.length;i++)d=c[++n],typeof(o=p[i])===l&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):void 0:this[o[0]]=d?o[1].call(this,d,o[2]):void 0:4===o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):a):this[o]=d||a;u+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(V(t[r][n],e))return"?"===r?a:r}else if(V(t[r],e))return"?"===r?a:r;return t.hasOwnProperty("*")?t["*"]:e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,$+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[h,$+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[h,$]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[h,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,$+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,$+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI"+z]],[/fxios\/([\w\.-]+)/i],[g,[h,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+z],g],[/samsungbrowser\/([\w\.]+)/i],[g,[h,M+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,S+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,S+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,G]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[f,M],[p,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[f,M],[p,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[f,C],[p,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,C],[p,v]],[/(macintosh);/i],[u,[f,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[f,R],[p,w]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[f,"Honor"],[p,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[f,j],[p,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[f,j],[p,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[f,L],[p,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[f,L],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[f,"OPPO"],[p,w]],[/\b(opd2\d{3}a?) bui/i],[u,[f,"OPPO"],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[f,"Vivo"],[p,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[f,"Realme"],[p,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[f,O],[p,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[f,O],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[f,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[f,"LG"],[p,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[f,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[f,"Nokia"],[p,w]],[/(pixel c)\b/i],[u,[f,P],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[f,P],[p,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,D],[p,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[f,D],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[f,"OnePlus"],[p,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[f,_],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[f,_],[p,w]],[/(playbook);[-\w\),; ]+(rim)/i],[u,f,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[f,A],[p,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[f,k],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[f,k],[p,w]],[/(nexus 9)/i],[u,[f,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[u,/_/g," "],[p,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[f,"TCL"],[p,v]],[/(itel) ((\w+))/i],[[f,G],u,[p,Y,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[f,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[f,"Meizu"],[p,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[f,"Ulefone"],[p,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[f,"Energizer"],[p,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[f,"Cat"],[p,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[f,"Smartfren"],[p,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[f,"Nothing"],[p,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,u,[p,w]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,u,[p,v]],[/(surface duo)/i],[u,[f,N],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[f,"Fairphone"],[p,w]],[/(u304aa)/i],[u,[f,"AT&T"],[p,w]],[/\bsie-(\w*)/i],[u,[f,"Siemens"],[p,w]],[/\b(rct\w+) b/i],[u,[f,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[u,[f,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[u,[f,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[f,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[u,[f,"NuVision"],[p,v]],[/\b(k88) b/i],[u,[f,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[u,[f,"ZTE"],[p,w]],[/\b(gen\d{3}) b.+49h/i],[u,[f,"Swiss"],[p,w]],[/\b(zur\d{3}) b/i],[u,[f,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[u,[f,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],u,[p,v]],[/\b(ns-?\w{0,9}) b/i],[u,[f,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[f,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],u,[p,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],u,[p,w]],[/\b(ph-1) /i],[u,[f,"Essential"],[p,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[f,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[u,[f,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[u,[f,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[u,[f,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[f,u,[p,w]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,N],[p,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,U],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,U],[p,w]],[/smart-tv.+(samsung)/i],[f,[p,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,M],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,b]],[/(apple) ?tv/i],[f,[u,C+" TV"],[p,b]],[/crkey/i],[[u,S+"cast"],[f,P],[p,b]],[/droid.+aft(\w+)( bui|\))/i],[u,[f,_],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[f,R],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[u,[f,D],[p,b]],[/(mitv-\w{5}) bui/i],[u,[f,L],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[f,u,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,K],[u,K],[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,u,[p,y]],[/droid.+; (shield) bui/i],[u,[f,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[u,[f,D],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[f,N],[p,y]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[f,M],[p,x]],[/((pebble))app/i],[f,u,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[f,C],[p,x]],[/droid.+; (glass) \d/i],[u,[f,P],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[u,[f,U],[p,x]],[/droid.+; (glass) \d/i],[u,[f,P],[p,x]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,u,[p,x]],[/; (quest( \d| pro)?)/i],[u,[f,F],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,E]],[/(aeobc)\b/i],[u,[f,_],[p,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,w]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[g,Y,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Y,Z],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,W],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,g],[/\(bb(10);/i],[g,[h,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[h,S+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,B],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,g]]},X=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof X))return new X(e,t).getResult();var r=typeof i!==o&&i.navigator?i.navigator:a,n=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:a,b=t?q(Q,t):Q,x=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=a,t[g]=a,J.call(t,n,b.browser),t[d]=typeof(e=t[g])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,x&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[m]=a,J.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[u]=a,e[p]=a,J.call(e,n,b.device),x&&!e[p]&&y&&y.mobile&&(e[p]=w),x&&"Macintosh"==e[u]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[u]="iPad",e[p]=v),e},this.getEngine=function(){var e={};return e[h]=a,e[g]=a,J.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[h]=a,e[g]=a,J.call(e,n,b.os),x&&!e[h]&&y&&y.platform&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,B).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?K(e,500):e,this},this.setUA(n),this};X.VERSION="1.0.40",X.BROWSER=H([h,g,d]),X.CPU=H([m]),X.DEVICE=H([u,f,p,y,w,b,v,x,E]),X.ENGINE=X.OS=H([h,g]),typeof t!==o?(e.exports&&(t=e.exports=X),t.UAParser=X):r.amdO?a===(n=(function(){return X}).call(t,r,t,e))||(e.exports=n):typeof i!==o&&(i.UAParser=X);var ee=typeof i!==o&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var et=new X;ee.ua=et.getResult(),ee.ua.get=function(){return et.getUA()},ee.ua.set=function(e){et.setUA(e);var t=et.getResult();for(var r in t)ee.ua[r]=t[r]}}}("object"==typeof window?window:this)},86242:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,R:()=>n});let n=e=>e,i=e=>e},86906:(e,t,r)=>{"use strict";r.d(t,{A:()=>w,V:()=>w});var n=r(38356),i=r(25304),a=r.n(i),s=r(43617),o=r(83327),l=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&f(e,r,t[r]);if(u)for(var r of u(t))p.call(t,r)&&f(e,r,t[r]);return e},m=(e,t)=>c(e,d(t));let y={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class w{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new n.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=(0,s.h)(e),r=await (await a()(this.url,m(g({},y),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=(0,s.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await a()(e,m(g({},y),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,s.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,o.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,o.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},87112:(e,t,r)=>{"use strict";r.d(t,{J9:()=>a,Mc:()=>i,fD:()=>n});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},87173:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(27629),i=r(614),a=r(36015);let s="/docs/contract/decodeFunctionResult";function o(e){let{abi:t,args:r,functionName:o,data:l}=e,c=t[0];if(o){let e=(0,a.iY)({abi:t,args:r,name:o});if(!e)throw new n.Iz(o,{docsPath:s});c=e}if("function"!==c.type)throw new n.Iz(void 0,{docsPath:s});if(!c.outputs)throw new n.MR(c.name,{docsPath:s});let d=(0,i.n)(c.outputs,l);return d&&d.length>1?d:d&&1===d.length?d[0]:void 0}},87219:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(87112),i=r(27629),a=r(38476),s=r(21758),o=r(614),l=r(65942);function c(e){let{abi:t,data:r}=e,c=(0,a.di)(r,0,4);if("0x"===c)throw new i.O;let d=[...t||[],n.Mc,n.J9].find(e=>"error"===e.type&&c===(0,s.V)((0,l.B)(e)));if(!d)throw new i.Wq(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:d,args:"inputs"in d&&d.inputs&&d.inputs.length>0?(0,o.n)(d.inputs,(0,a.di)(r,4)):void 0,errorName:d.name}}},89047:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var a=r.length+1;if(1===a)return e;var s=Array(a);s[0]=i(e);for(var o=1;o<a;o++)s[o]=i(r[o]);return s.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var c="",d=0,u=-1,h=e&&e.length||0,p=0;p<h;){if(37===e.charCodeAt(p)&&p+1<h){switch(u=u>-1?u:0,e.charCodeAt(p+1)){case 100:case 102:if(d>=l||null==r[d])break;u<p&&(c+=e.slice(u,p)),c+=Number(r[d]),u=p+2,p++;break;case 105:if(d>=l||null==r[d])break;u<p&&(c+=e.slice(u,p)),c+=Math.floor(Number(r[d])),u=p+2,p++;break;case 79:case 111:case 106:if(d>=l||void 0===r[d])break;u<p&&(c+=e.slice(u,p));var f=typeof r[d];if("string"===f){c+="'"+r[d]+"'",u=p+2,p++;break}if("function"===f){c+=r[d].name||"<anonymous>",u=p+2,p++;break}c+=i(r[d]),u=p+2,p++;break;case 115:if(d>=l)break;u<p&&(c+=e.slice(u,p)),c+=String(r[d]),u=p+2,p++;break;case 37:u<p&&(c+=e.slice(u,p)),c+="%",u=p+2,p++,d--}++d}++p}return -1===u?e:(u<h&&(c+=e.slice(u)),c)}},89235:(e,t,r)=>{"use strict";r.d(t,{Ej:()=>m,Fl:()=>_,Ho:()=>p,M7:()=>f,Ty:()=>w,di:()=>g,ii:()=>E,oB:()=>u,sH:()=>h,tf:()=>y,u:()=>x,uK:()=>d,xW:()=>l,xb:()=>c});var n=r(72674),i=r(23816),a=r(42153);let s=new TextEncoder,o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(a.Sl(r,t.size),p(r,t.size)):r}function d(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(a.Sl(n,t.size),f(n,t.size)):n}function u(e,t={}){let r,{signed:n,size:i}=t,a=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&a>r||a<s){let t="bigint"==typeof e?"n":"";throw new w({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let o=(n&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16),l=`0x${o}`;return i?p(l,i):l}function h(e,t={}){return d(s.encode(e),t)}function p(e,t){return a.eV(e,{dir:"left",size:t})}function f(e,t){return a.eV(e,{dir:"right",size:t})}function g(e,t,r,n={}){let{strict:i}=n;a.kK(e,t);let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&a.X(s,t,r),s}function m(e){return Math.ceil((e.length-2)/2)}function y(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new v(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new b(e)}(e,{strict:r}),!0}catch{return!1}}class w extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}n.C;class v extends n.C{constructor(e){super(`Value \`${"object"==typeof e?i.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class b extends n.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}n.C;class x extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class E extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class _ extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},89279:(e,t,r)=>{"use strict";function n(e,t,r){var n,i;let a;return(r.length?(n=t.length,Array.isArray(e)?e.length>=n:Object.keys(e).length>=n):(i=t.length,Array.isArray(e)?e.length===i:Object.keys(e).length===i))&&(a=!0,t.forEach(t=>{t in e||(a=!1)}),a)}function i(e,t,r="_"){let n=e.split(r);return n[n.length-1].trim().toLowerCase()===t.trim().toLowerCase()}r.d(t,{CG:()=>a});let a={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},89295:(e,t,r)=>{let n=r(38880).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,r=n(e),i=145===r?26:2*Math.ceil((r-13)/(2*t-2)),a=[r-7];for(let e=1;e<t-1;e++)a[e]=a[e-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){let r=[],n=t.getRowColCoords(e),i=n.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)(0!==e||0!==t)&&(0!==e||t!==i-1)&&(e!==i-1||0!==t)&&r.push([n[e],n[t]]);return r}},90148:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n=r(31932).k},90175:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(98815);class i extends n.C{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},90217:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(30170)}])},90921:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),a=Math.log(256)/Math.log(r);function s(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let a=0,s=0,o=0;for(;e[a]===n;)s++,a++;let l=(e.length-a)*i+1>>>0,c=new Uint8Array(l);for(;a<e.length;){let n=e.charCodeAt(a);if(n>255)return;let i=t[n];if(255===i)return;let s=0;for(let e=l-1;(0!==i||s<o)&&-1!==e;e--,s++)i+=r*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");o=s,a++}let d=l-o;for(;d!==l&&0===c[d];)d++;let u=new Uint8Array(s+(l-d)),h=s;for(;d!==l;)u[h++]=c[d++];return u}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,s=0,o=0,l=t.length;for(;o!==l&&0===t[o];)o++,i++;let c=(l-o)*a+1>>>0,d=new Uint8Array(c);for(;o!==l;){let e=t[o],n=0;for(let t=c-1;(0!==e||n<s)&&-1!==t;t--,n++)e+=256*d[t]>>>0,d[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");s=n,o++}let u=c-s;for(;u!==c&&0===d[u];)u++;let h=n.repeat(i);for(;u<c;++u)h+=e.charAt(d[u]);return h},decodeUnsafe:s,decode:function(e){let t=s(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},91905:(e,t,r)=>{let n=r(38880),i=r(14356),a=r(64325),s=r(20964),o=r(51256),l=n.getBCHDigit(7973);function c(e,t){return s.getCharCountIndicator(e,t)+4}t.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!o.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);let a=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(r===s.MIXED)return a;let l=a-c(r,e);switch(r){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,r){let n,i=a.from(r,a.M);if(Array.isArray(e)){if(e.length>1){for(let r=1;r<=40;r++)if(function(e,t){let r=0;return e.forEach(function(e){let n=c(e.mode,t);r+=n+e.getBitsLength()}),r}(e,r)<=t.getCapacity(r,i,s.MIXED))return r;return}if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let i=1;i<=40;i++)if(r<=t.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},t.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}},92134:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},92185:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(68901),i=r(81063),a=r(73831),s=r(69409);function o(e,t){let r=(0,n.lY)((0,i.q)(e,{strict:!1})?(0,a.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,s.nj)(r)}},92460:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{u="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(63514).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function o(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function l(e,t,r,i){for(var a=0,s=0,o=Math.min(e.length,r),l=t;l<o;l++){var c=e.charCodeAt(l)-48;a*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),a+=s}return a}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return 0>e.cmp(t)?e:t},a.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(n(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,a,s=0;s<this.length;s++)this.words[s]=0;var o=0;if("be"===r)for(s=e.length-1,i=0;s>=0;s-=3)a=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[i]|=a<<o&0x3ffffff,this.words[i+1]=a>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(s=0,i=0;s<e.length;s+=3)a=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[i]|=a<<o&0x3ffffff,this.words[i+1]=a>>>26-o&0x3ffffff,(o+=24)>=26&&(o-=26,i++);return this._strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var a=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=o(e,t,i)<<a,this.words[s]|=0x3ffffff&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=o(e,t,i)<<a,this.words[s]|=0x3ffffff&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=0x3ffffff;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,s=a%n,o=Math.min(a,a-s)+r,c=0,d=r;d<o;d+=n)c=l(e,d,d+n,t),this.imuln(i),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c);if(0!==s){var u=1;for(c=l(e,d,e.length,t),d=0;d<s;d++)u*=t;this.imuln(u),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c)}this._strip()},a.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){c(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){a.prototype.inspect=d}else a.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u,h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=0x3ffffff&s,l=s/0x4000000|0;r.words[0]=o;for(var c=1;c<n;c++){for(var d=l>>>26,u=0x3ffffff&l,h=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=h;p++){var f=c-p|0;d+=(s=(i=0|e.words[f])*(a=0|t.words[p])+u)/0x4000000|0,u=0x3ffffff&s}r.words[c]=0|u,l=0|d}return 0!==l?r.words[c]=0|l:r.length--,r._strip()}a.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],l=((o<<i|a)&0xffffff).toString(16);a=o>>>24-i&0xffffff,(i+=2)>=26&&(i-=26,s--),r=0!==a||s!==this.length-1?h[6-l.length]+l+r:l+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],d=f[e];r="";var u=this.clone();for(u.negative=0;!u.isZero();){var g=u.modrn(d).toString(e);r=(u=u.idivn(d)).isZero()?g+r:h[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(u,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var s=e.allocUnsafe?e.allocUnsafe(a):new e(a);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},a.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===a?(r<e.length&&(e[r++]=s>>24&255),n=0,a=0):(n=s>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var s=this.words[i]<<a|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===a?(r>=0&&(e[r--]=s>>24&255),n=0,a=0):(n=s>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=0x3ffffff&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&0x3ffffff>>26-r),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this._strip()},a.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=0x3ffffff&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=0x3ffffff&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var a=0,s=0;s<r.length;s++)a=(n=(0|t.words[s])-(0|r.words[s])+a)>>26,this.words[s]=0x3ffffff&n;for(;0!==a&&s<t.length;s++)a=(n=(0|t.words[s])+a)>>26,this.words[s]=0x3ffffff&n;if(0===a&&s<t.length&&t!==this)for(;s<t.length;s++)this.words[s]=t.words[s];return this.length=Math.max(this.length,s),t!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,a,s=e.words,o=t.words,l=r.words,c=0,d=0|s[0],u=8191&d,h=d>>>13,p=0|s[1],f=8191&p,g=p>>>13,m=0|s[2],y=8191&m,w=m>>>13,v=0|s[3],b=8191&v,x=v>>>13,E=0|s[4],_=8191&E,C=E>>>13,k=0|s[5],A=8191&k,I=k>>>13,S=0|s[6],T=8191&S,P=S>>>13,j=0|s[7],N=8191&j,O=j>>>13,$=0|s[8],M=8191&$,R=$>>>13,D=0|s[9],L=8191&D,U=D>>>13,F=0|o[0],B=8191&F,W=F>>>13,z=0|o[1],q=8191&z,H=z>>>13,V=0|o[2],G=8191&V,K=V>>>13,J=0|o[3],Y=8191&J,Z=J>>>13,Q=0|o[4],X=8191&Q,ee=Q>>>13,et=0|o[5],er=8191&et,en=et>>>13,ei=0|o[6],ea=8191&ei,es=ei>>>13,eo=0|o[7],el=8191&eo,ec=eo>>>13,ed=0|o[8],eu=8191&ed,eh=ed>>>13,ep=0|o[9],ef=8191&ep,eg=ep>>>13;r.negative=e.negative^t.negative,r.length=19,n=Math.imul(u,B);var em=(c+n|0)+((8191&(i=(i=Math.imul(u,W))+Math.imul(h,B)|0))<<13)|0;c=((a=Math.imul(h,W))+(i>>>13)|0)+(em>>>26)|0,em&=0x3ffffff,n=Math.imul(f,B),i=(i=Math.imul(f,W))+Math.imul(g,B)|0,a=Math.imul(g,W),n=n+Math.imul(u,q)|0;var ey=(c+n|0)+((8191&(i=(i=i+Math.imul(u,H)|0)+Math.imul(h,q)|0))<<13)|0;c=((a=a+Math.imul(h,H)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,n=Math.imul(y,B),i=(i=Math.imul(y,W))+Math.imul(w,B)|0,a=Math.imul(w,W),n=n+Math.imul(f,q)|0,i=(i=i+Math.imul(f,H)|0)+Math.imul(g,q)|0,a=a+Math.imul(g,H)|0,n=n+Math.imul(u,G)|0;var ew=(c+n|0)+((8191&(i=(i=i+Math.imul(u,K)|0)+Math.imul(h,G)|0))<<13)|0;c=((a=a+Math.imul(h,K)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,n=Math.imul(b,B),i=(i=Math.imul(b,W))+Math.imul(x,B)|0,a=Math.imul(x,W),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(w,q)|0,a=a+Math.imul(w,H)|0,n=n+Math.imul(f,G)|0,i=(i=i+Math.imul(f,K)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,K)|0,n=n+Math.imul(u,Y)|0;var ev=(c+n|0)+((8191&(i=(i=i+Math.imul(u,Z)|0)+Math.imul(h,Y)|0))<<13)|0;c=((a=a+Math.imul(h,Z)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,n=Math.imul(_,B),i=(i=Math.imul(_,W))+Math.imul(C,B)|0,a=Math.imul(C,W),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(x,q)|0,a=a+Math.imul(x,H)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,K)|0,n=n+Math.imul(f,Y)|0,i=(i=i+Math.imul(f,Z)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,Z)|0,n=n+Math.imul(u,X)|0;var eb=(c+n|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(h,X)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=0x3ffffff,n=Math.imul(A,B),i=(i=Math.imul(A,W))+Math.imul(I,B)|0,a=Math.imul(I,W),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(C,q)|0,a=a+Math.imul(C,H)|0,n=n+Math.imul(b,G)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,K)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Z)|0,n=n+Math.imul(f,X)|0,i=(i=i+Math.imul(f,ee)|0)+Math.imul(g,X)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(u,er)|0;var ex=(c+n|0)+((8191&(i=(i=i+Math.imul(u,en)|0)+Math.imul(h,er)|0))<<13)|0;c=((a=a+Math.imul(h,en)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,n=Math.imul(T,B),i=(i=Math.imul(T,W))+Math.imul(P,B)|0,a=Math.imul(P,W),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,q)|0,a=a+Math.imul(I,H)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(C,G)|0,a=a+Math.imul(C,K)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,Z)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,X)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(f,er)|0,i=(i=i+Math.imul(f,en)|0)+Math.imul(g,er)|0,a=a+Math.imul(g,en)|0,n=n+Math.imul(u,ea)|0;var eE=(c+n|0)+((8191&(i=(i=i+Math.imul(u,es)|0)+Math.imul(h,ea)|0))<<13)|0;c=((a=a+Math.imul(h,es)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,n=Math.imul(N,B),i=(i=Math.imul(N,W))+Math.imul(O,B)|0,a=Math.imul(O,W),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(P,q)|0,a=a+Math.imul(P,H)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(I,G)|0,a=a+Math.imul(I,K)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(x,X)|0,a=a+Math.imul(x,ee)|0,n=n+Math.imul(y,er)|0,i=(i=i+Math.imul(y,en)|0)+Math.imul(w,er)|0,a=a+Math.imul(w,en)|0,n=n+Math.imul(f,ea)|0,i=(i=i+Math.imul(f,es)|0)+Math.imul(g,ea)|0,a=a+Math.imul(g,es)|0,n=n+Math.imul(u,el)|0;var e_=(c+n|0)+((8191&(i=(i=i+Math.imul(u,ec)|0)+Math.imul(h,el)|0))<<13)|0;c=((a=a+Math.imul(h,ec)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,n=Math.imul(M,B),i=(i=Math.imul(M,W))+Math.imul(R,B)|0,a=Math.imul(R,W),n=n+Math.imul(N,q)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(O,q)|0,a=a+Math.imul(O,H)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,K)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Z)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(C,X)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(b,er)|0,i=(i=i+Math.imul(b,en)|0)+Math.imul(x,er)|0,a=a+Math.imul(x,en)|0,n=n+Math.imul(y,ea)|0,i=(i=i+Math.imul(y,es)|0)+Math.imul(w,ea)|0,a=a+Math.imul(w,es)|0,n=n+Math.imul(f,el)|0,i=(i=i+Math.imul(f,ec)|0)+Math.imul(g,el)|0,a=a+Math.imul(g,ec)|0,n=n+Math.imul(u,eu)|0;var eC=(c+n|0)+((8191&(i=(i=i+Math.imul(u,eh)|0)+Math.imul(h,eu)|0))<<13)|0;c=((a=a+Math.imul(h,eh)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,n=Math.imul(L,B),i=(i=Math.imul(L,W))+Math.imul(U,B)|0,a=Math.imul(U,W),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(R,q)|0,a=a+Math.imul(R,H)|0,n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(O,G)|0,a=a+Math.imul(O,K)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(P,Y)|0,a=a+Math.imul(P,Z)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(I,X)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(_,er)|0,i=(i=i+Math.imul(_,en)|0)+Math.imul(C,er)|0,a=a+Math.imul(C,en)|0,n=n+Math.imul(b,ea)|0,i=(i=i+Math.imul(b,es)|0)+Math.imul(x,ea)|0,a=a+Math.imul(x,es)|0,n=n+Math.imul(y,el)|0,i=(i=i+Math.imul(y,ec)|0)+Math.imul(w,el)|0,a=a+Math.imul(w,ec)|0,n=n+Math.imul(f,eu)|0,i=(i=i+Math.imul(f,eh)|0)+Math.imul(g,eu)|0,a=a+Math.imul(g,eh)|0,n=n+Math.imul(u,ef)|0;var ek=(c+n|0)+((8191&(i=(i=i+Math.imul(u,eg)|0)+Math.imul(h,ef)|0))<<13)|0;c=((a=a+Math.imul(h,eg)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(U,q)|0,a=Math.imul(U,H),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,K)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Z)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,ee)|0,n=n+Math.imul(A,er)|0,i=(i=i+Math.imul(A,en)|0)+Math.imul(I,er)|0,a=a+Math.imul(I,en)|0,n=n+Math.imul(_,ea)|0,i=(i=i+Math.imul(_,es)|0)+Math.imul(C,ea)|0,a=a+Math.imul(C,es)|0,n=n+Math.imul(b,el)|0,i=(i=i+Math.imul(b,ec)|0)+Math.imul(x,el)|0,a=a+Math.imul(x,ec)|0,n=n+Math.imul(y,eu)|0,i=(i=i+Math.imul(y,eh)|0)+Math.imul(w,eu)|0,a=a+Math.imul(w,eh)|0,n=n+Math.imul(f,ef)|0;var eA=(c+n|0)+((8191&(i=(i=i+Math.imul(f,eg)|0)+Math.imul(g,ef)|0))<<13)|0;c=((a=a+Math.imul(g,eg)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,n=Math.imul(L,G),i=(i=Math.imul(L,K))+Math.imul(U,G)|0,a=Math.imul(U,K),n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Z)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(O,X)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(T,er)|0,i=(i=i+Math.imul(T,en)|0)+Math.imul(P,er)|0,a=a+Math.imul(P,en)|0,n=n+Math.imul(A,ea)|0,i=(i=i+Math.imul(A,es)|0)+Math.imul(I,ea)|0,a=a+Math.imul(I,es)|0,n=n+Math.imul(_,el)|0,i=(i=i+Math.imul(_,ec)|0)+Math.imul(C,el)|0,a=a+Math.imul(C,ec)|0,n=n+Math.imul(b,eu)|0,i=(i=i+Math.imul(b,eh)|0)+Math.imul(x,eu)|0,a=a+Math.imul(x,eh)|0,n=n+Math.imul(y,ef)|0;var eI=(c+n|0)+((8191&(i=(i=i+Math.imul(y,eg)|0)+Math.imul(w,ef)|0))<<13)|0;c=((a=a+Math.imul(w,eg)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,n=Math.imul(L,Y),i=(i=Math.imul(L,Z))+Math.imul(U,Y)|0,a=Math.imul(U,Z),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(R,X)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(O,er)|0,a=a+Math.imul(O,en)|0,n=n+Math.imul(T,ea)|0,i=(i=i+Math.imul(T,es)|0)+Math.imul(P,ea)|0,a=a+Math.imul(P,es)|0,n=n+Math.imul(A,el)|0,i=(i=i+Math.imul(A,ec)|0)+Math.imul(I,el)|0,a=a+Math.imul(I,ec)|0,n=n+Math.imul(_,eu)|0,i=(i=i+Math.imul(_,eh)|0)+Math.imul(C,eu)|0,a=a+Math.imul(C,eh)|0,n=n+Math.imul(b,ef)|0;var eS=(c+n|0)+((8191&(i=(i=i+Math.imul(b,eg)|0)+Math.imul(x,ef)|0))<<13)|0;c=((a=a+Math.imul(x,eg)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,n=Math.imul(L,X),i=(i=Math.imul(L,ee))+Math.imul(U,X)|0,a=Math.imul(U,ee),n=n+Math.imul(M,er)|0,i=(i=i+Math.imul(M,en)|0)+Math.imul(R,er)|0,a=a+Math.imul(R,en)|0,n=n+Math.imul(N,ea)|0,i=(i=i+Math.imul(N,es)|0)+Math.imul(O,ea)|0,a=a+Math.imul(O,es)|0,n=n+Math.imul(T,el)|0,i=(i=i+Math.imul(T,ec)|0)+Math.imul(P,el)|0,a=a+Math.imul(P,ec)|0,n=n+Math.imul(A,eu)|0,i=(i=i+Math.imul(A,eh)|0)+Math.imul(I,eu)|0,a=a+Math.imul(I,eh)|0,n=n+Math.imul(_,ef)|0;var eT=(c+n|0)+((8191&(i=(i=i+Math.imul(_,eg)|0)+Math.imul(C,ef)|0))<<13)|0;c=((a=a+Math.imul(C,eg)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,n=Math.imul(L,er),i=(i=Math.imul(L,en))+Math.imul(U,er)|0,a=Math.imul(U,en),n=n+Math.imul(M,ea)|0,i=(i=i+Math.imul(M,es)|0)+Math.imul(R,ea)|0,a=a+Math.imul(R,es)|0,n=n+Math.imul(N,el)|0,i=(i=i+Math.imul(N,ec)|0)+Math.imul(O,el)|0,a=a+Math.imul(O,ec)|0,n=n+Math.imul(T,eu)|0,i=(i=i+Math.imul(T,eh)|0)+Math.imul(P,eu)|0,a=a+Math.imul(P,eh)|0,n=n+Math.imul(A,ef)|0;var eP=(c+n|0)+((8191&(i=(i=i+Math.imul(A,eg)|0)+Math.imul(I,ef)|0))<<13)|0;c=((a=a+Math.imul(I,eg)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,n=Math.imul(L,ea),i=(i=Math.imul(L,es))+Math.imul(U,ea)|0,a=Math.imul(U,es),n=n+Math.imul(M,el)|0,i=(i=i+Math.imul(M,ec)|0)+Math.imul(R,el)|0,a=a+Math.imul(R,ec)|0,n=n+Math.imul(N,eu)|0,i=(i=i+Math.imul(N,eh)|0)+Math.imul(O,eu)|0,a=a+Math.imul(O,eh)|0,n=n+Math.imul(T,ef)|0;var ej=(c+n|0)+((8191&(i=(i=i+Math.imul(T,eg)|0)+Math.imul(P,ef)|0))<<13)|0;c=((a=a+Math.imul(P,eg)|0)+(i>>>13)|0)+(ej>>>26)|0,ej&=0x3ffffff,n=Math.imul(L,el),i=(i=Math.imul(L,ec))+Math.imul(U,el)|0,a=Math.imul(U,ec),n=n+Math.imul(M,eu)|0,i=(i=i+Math.imul(M,eh)|0)+Math.imul(R,eu)|0,a=a+Math.imul(R,eh)|0,n=n+Math.imul(N,ef)|0;var eN=(c+n|0)+((8191&(i=(i=i+Math.imul(N,eg)|0)+Math.imul(O,ef)|0))<<13)|0;c=((a=a+Math.imul(O,eg)|0)+(i>>>13)|0)+(eN>>>26)|0,eN&=0x3ffffff,n=Math.imul(L,eu),i=(i=Math.imul(L,eh))+Math.imul(U,eu)|0,a=Math.imul(U,eh),n=n+Math.imul(M,ef)|0;var eO=(c+n|0)+((8191&(i=(i=i+Math.imul(M,eg)|0)+Math.imul(R,ef)|0))<<13)|0;c=((a=a+Math.imul(R,eg)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,n=Math.imul(L,ef);var e$=(c+n|0)+((8191&(i=(i=Math.imul(L,eg))+Math.imul(U,ef)|0))<<13)|0;return c=((a=Math.imul(U,eg))+(i>>>13)|0)+(e$>>>26)|0,e$&=0x3ffffff,l[0]=em,l[1]=ey,l[2]=ew,l[3]=ev,l[4]=eb,l[5]=ex,l[6]=eE,l[7]=e_,l[8]=eC,l[9]=ek,l[10]=eA,l[11]=eI,l[12]=eS,l[13]=eT,l[14]=eP,l[15]=ej,l[16]=eN,l[17]=eO,l[18]=e$,0!==c&&(l[19]=c,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=0x3ffffff&n,l=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=l;c++){var d=a-c,u=(0|e.words[d])*(0|t.words[c]),h=0x3ffffff&u;s=s+(u/0x4000000|0)|0,o=0x3ffffff&(h=h+o|0),i+=(s=s+(h>>>26)|0)>>>26,s&=0x3ffffff}r.words[a]=o,n=s,s=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function w(e,t){this.x=e,this.y=t}Math.imul||(m=g),a.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return 10===this.length&&10===e.length?r=m(this,e,t):n<63?r=g(this,e,t):r=y(this,e,t),r},w.prototype.makeRBT=function(e){for(var t=Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},w.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,l=Math.cos(2*Math.PI/o),c=Math.sin(2*Math.PI/o),d=0;d<i;d+=o)for(var u=l,h=c,p=0;p<s;p++){var f=r[d+p],g=n[d+p],m=r[d+p+s],y=n[d+p+s],w=u*m-h*y;y=u*y+h*m,m=w,r[d+p]=f+m,n[d+p]=g+y,r[d+p+s]=f-m,n[d+p+s]=g-y,p!==o&&(w=l*u-c*h,h=l*h+c*u,u=w)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=0x3ffffff&i,r=i<0x4000000?0:i/0x4000000|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],r[2*s]=8191&a,a>>>=13,r[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===a),n((-8192&a)==0)},w.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=Array(n),o=Array(n),l=Array(n),c=Array(n),d=Array(n),u=Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,a,o,l,n,i),this.transform(c,a,d,u,n,i);for(var p=0;p<n;p++){var f=o[p]*d[p]-l[p]*u[p];l[p]=o[p]*u[p]+l[p]*d[p],o[p]=f}return this.conjugate(o,l,n),this.transform(o,l,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=Array(this.length+e.length),y(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<0x4000000);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,s=(0x3ffffff&a)+(0x3ffffff&r);r>>=26,r+=(a/0x4000000|0)+(s>>>26),this.words[i]=0x3ffffff&s}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=0x3ffffff>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,l=(0|this.words[t])-o<<r;this.words[t]=l|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0);var i=t?(t-t%26)/26:0,a=e%26,s=Math.min((e-a)/26,this.length),o=0x3ffffff^0x3ffffff>>>a<<a;if(i-=s,i=Math.max(0,i),r){for(var l=0;l<s;l++)r.words[l]=this.words[l];r.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var d=0|this.words[l];this.words[l]=c<<26-a|d>>>a,c=d&o}return r&&0!==c&&(r.words[r.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},a.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>t<<t),this._strip())},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(n("number"==typeof e),n(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var i,a,s=e.length+r;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+o;var l=(0|e.words[i])*t;a-=0x3ffffff&l,o=(a>>26)-(l/0x4000000|0),this.words[i+r]=0x3ffffff&a}for(;i<this.length-r;i++)o=(a=(0|this.words[i+r])+o)>>26,this.words[i+r]=0x3ffffff&a;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=0x3ffffff&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),s=e,o=0|s.words[s.length-1];0!=(n=26-this._countBits(o))&&(s=s.ushln(n),i.iushln(n),o=0|s.words[s.length-1]);var l=i.length-s.length;if("mod"!==t){(r=new a(null)).length=l+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var d=i.clone()._ishlnsubmul(s,1,l);0===d.negative&&(i=d,r&&(r.words[l]=1));for(var u=l-1;u>=0;u--){var h=(0|i.words[s.length+u])*0x4000000+(0|i.words[s.length+u-1]);for(h=Math.min(h/o|0,0x3ffffff),i._ishlnsubmul(s,h,u);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(s,1,u),i.isZero()||(i.negative^=1);r&&(r.words[u]=h)}return r&&r._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},a.prototype.divmod=function(e,t,r){var i,s,o;return(n(!e.isZero()),this.isZero())?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):(this.negative&e.negative)!=0?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||0>this.cmp(e)?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t)},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=0x3ffffff);for(var r=0x4000000%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=0x3ffffff);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+0x4000000*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),s=new a(0),o=new a(0),l=new a(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var d=r.clone(),u=t.clone();!t.isZero();){for(var h=0,p=1;(t.words[0]&p)==0&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(d),s.isub(u)),i.iushrn(1),s.iushrn(1);for(var f=0,g=1;(r.words[0]&g)==0&&f<26;++f,g<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||l.isOdd())&&(o.iadd(d),l.isub(u)),o.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),s.isub(l)):(r.isub(t),o.isub(i),l.isub(s))}return{a:o,b:l,gcd:r.iushln(c)}},a.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var s=new a(1),o=new a(0),l=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,d=1;(r.words[0]&d)==0&&c<26;++c,d<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var u=0,h=1;(i.words[0]&h)==0&&u<26;++u,h<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);r.cmp(i)>=0?(r.isub(i),s.isub(o)):(i.isub(r),o.isub(s))}return 0>(t=0===r.cmpn(1)?s:o).cmpn(0)&&t.iadd(e),t},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,s=r;0!==a&&s<this.length;s++){var o=0|this.words[s];o+=a,a=o>>>26,o&=0x3ffffff,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=0x3ffffff,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return -1===this.cmpn(e)},a.prototype.lt=function(e){return -1===this.cmp(e)},a.prototype.lten=function(e){return 0>=this.cmpn(e)},a.prototype.lte=function(e){return 0>=this.cmp(e)},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new k(e)},a.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(x,b),x.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var a=0|e.words[n];e.words[n-10]=(4194303&a)<<4|i>>>22,i=a}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=0x3ffffff&t,t=64*n+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,b),i(_,b),i(C,b),C.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=0x3ffffff&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){var t;if(v[e])return v[e];if("k256"===e)t=new x;else if("p224"===e)t=new E;else if("p192"===e)t=new _;else if("p25519"===e)t=new C;else throw Error("Unknown prime "+e);return v[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var o=new a(1).toRed(this),l=o.redNeg(),c=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);0!==this.pow(d,c).cmp(l);)d.redIAdd(l);for(var u=this.pow(d,i),h=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),f=s;0!==p.cmp(o);){for(var g=p,m=0;0!==g.cmp(o);m++)g=g.redSqr();n(m<f);var y=this.pow(u,new a(1).iushln(f-m-1));h=h.redMul(y),u=y.redSqr(),p=p.redMul(u),f=m}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,o=0,l=t.bitLength()%26;for(0===l&&(l=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],d=l-1;d>=0;d--){var u=c>>d&1;if(i!==r[0]&&(i=this.sqr(i)),0===u&&0===s){o=0;continue}s<<=1,s|=u,(4==++o||0===n&&0===d)&&(i=this.mul(i,r[s]),o=0,s=0)}l=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new A(e)},i(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):0>i.cmpn(0)&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},92756:(e,t,r)=>{let n=r(38880).getSymbolSize;t.getPositions=function(e){let t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},92865:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},93322:(e,t,r)=>{"use strict";r.d(t,{yH:()=>c});var n=r(90175),i=r(31657),a=r(46754),s=r(28060),o=r(69409);function l(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.NV({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.NV({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function c(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,s.P)(r,{strict:!1}))throw new n.M({address:r});if(t[r])throw new a.Hi({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,c={};if(void 0!==s&&(c.code=s),void 0!==t&&(c.balance=(0,o.cK)(t)),void 0!==r&&(c.nonce=(0,o.cK)(r)),void 0!==n&&(c.state=l(n)),void 0!==i){if(c.state)throw new a.ft;c.stateDiff=l(i)}return c}(i)}return t}},93544:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},94546:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw Error("Infinity is not allowed");if(null===t||"object"!=typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){let r=t.reduce((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`,"");return`[${r}]`}let r=Object.keys(t).sort().reduce((r,n)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let i=0===r.length?"":",";return`${r}${i}${e(n)}:${e(t[n])}`},"");return`{${r}}`}},94726:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>s,Rm:()=>c,SJ:()=>l,_:()=>d,b2:()=>i,oX:()=>o,v2:()=>n});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],a=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],s=[...a,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...a,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],l=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]},95691:(e,t,r)=>{"use strict";r.d(t,{kF:()=>a});class n{}class i extends n{constructor(){super()}}class a extends i{constructor(e){super()}}},95714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68362);n.__exportStar(r(64606),t),n.__exportStar(r(70871),t)},95834:(e,t,r)=>{"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{Y:()=>n})},95950:(e,t,r)=>{"use strict";r.d(t,{Bv:()=>a});var n=r(69409);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function a(e){let t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.cK)(BigInt(e.r)):e.r,s:e.s?(0,n.cK)(BigInt(e.s)):e.s,chainId:(0,n.cK)(e.chainId),nonce:(0,n.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.cK)(e.v)}:{}}))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.My)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.cK)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.cK)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.cK)(e.value)),t}},96149:(e,t,r)=>{"use strict";let n;r.d(t,{L:()=>a});let i=256;function a(e=11){if(!n||i+e>512){n="",i=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(i,i+++e)}},96851:(e,t,r)=>{"use strict";r.d(t,{NO:()=>s,Pj:()=>o,dV:()=>i,nx:()=>l,zd:()=>a});var n=r(71804);n.C,n.C;class i extends n.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends n.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class s extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class o extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class l extends n.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},98322:(e,t,r)=>{"use strict";r.d(t,{h:()=>f,k:()=>m});var n=r(27629),i=r(90175),a=r(98815),s=r(79712),o=r(28060),l=r(31802),c=r(37479),d=r(11371),u=r(38476),h=r(69409),p=r(58296);function f(e,t){if(e.length!==t.length)throw new n.YE({expectedLength:e.length,givenLength:t.length});let r=g(function({params:e,values:t}){let r=[];for(let f=0;f<e.length;f++)r.push(function e({param:t,value:r}){let f=m(t.type);if(f){let[i,a]=f;return function(t,{length:r,param:i}){let a=null===r;if(!Array.isArray(t))throw new n.dm(t);if(!a&&t.length!==r)throw new n.Nc({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1,o=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(s=!0),o.push(n)}if(a||s){let e=g(o);if(a){let t=(0,h.cK)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,l.xW)([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,l.xW)(o.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:a}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let a=0;a<r.components.length;a++){let s=r.components[a],o=Array.isArray(t)?a:s.name,l=e({param:s,value:t[o]});i.push(l),l.dynamic&&(n=!0)}return{dynamic:n,encoded:n?g(i):(0,l.xW)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type){var y=r;if(!(0,o.P)(y))throw new i.M({address:y});return{dynamic:!1,encoded:(0,c.db)(y.toLowerCase())}}if("bool"===t.type){var w=r;if("boolean"!=typeof w)throw new a.C(`Invalid boolean value: "${w}" (type: ${typeof w}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,c.db)((0,h.$P)(w))}}if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=p.Ge.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new s.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,h.cK)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,d.E)(e);if(!r){let t=e;return i%32!=0&&(t=(0,c.db)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)(i,{size:32})),t])}}if(i!==Number.parseInt(r))throw new n.gH({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:(0,c.db)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type){var v=r;let e=(0,h.i3)(v),t=Math.ceil((0,d.E)(e)/32),n=[];for(let r=0;r<t;r++)n.push((0,c.db)((0,u.di)(e,32*r,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)((0,d.E)(e),{size:32})),...n])}}throw new n.nK(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[f],value:t[f]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,d.E)(i)}let r=[],n=[],i=0;for(let a=0;a<e.length;a++){let{dynamic:s,encoded:o}=e[a];s?(r.push((0,h.cK)(t+i,{size:32})),n.push(o),i+=(0,d.E)(o)):r.push(o)}return(0,l.xW)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},98786:(e,t)=>{let r="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(n,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(i,"g"),t.NUMERIC=RegExp(r,"g"),t.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let a=RegExp("^"+n+"$"),s=RegExp("^"+r+"$"),o=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},98815:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});let n="2.30.6",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class a extends Error{constructor(e,t={}){let r=t.cause instanceof a?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof a&&t.cause.docsPath||t.docsPath,o=i.getDocsUrl?.({...t,docsPath:s});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6593,8792],()=>(t(90217),t(43435))),_N_E=e.O()}]);